/*! inferno 01-06-2014 */
function sanitizeHref(a){return a&&a.trim().toLowerCase().startsWith("javascript:")?null:a}function insertionIndexForObjectInListSortedByFunction(a,b,c,d){return d?b.upperBound(a,c):b.lowerBound(a,c)}function createSearchRegex(a,b,c){var d,e=b?"g":"gi";if(c)try{d=new RegExp(a,e)}catch(f){}return d||(d=createPlainTextSearchRegex(a,e)),d}function createPlainTextSearchRegex(a,b){for(var c=String.regexSpecialCharacters(),d="",e=0;e<a.length;++e){var f=a.charAt(e);-1!=c.indexOf(f)&&(d+="\\"),d+=f}return new RegExp(d,b||"")}function countRegexMatches(a,b){for(var c,d=b,e=0;d&&(c=a.exec(d));)c[0].length>0&&++e,d=d.substring(c.index+1);return e}function numberToStringWithSpacesPadding(a,b){var c=a.toString(),d=Math.max(0,b-c.length),e=Array(d+1).join(" ");return e+c}function loadXHR(a,b,c){function d(){return e.readyState===XMLHttpRequest.DONE?200===e.status?void c(e.responseText):void c(null):void 0}console.log("Loading: "+a);var e=new XMLHttpRequest;return e.open("GET",a,b),b&&(e.onreadystatechange=d),e.send(null),b?null:200===e.status?e.responseText:null}function importScript(a){return console.log("Trying to load: "+a)}function CallbackBarrier(){this._pendingIncomingCallbacksCount=0}function suppressUnused(){}function removeSubsequentNodes(a,b){for(var c=a;c&&c!==b;){var d=c;c=c.nextSibling,d.remove()}}function Size(a,b){this.width=a,this.height=b}function AnchorBox(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0}function isEnterKey(a){return 229!==a.keyCode&&"Enter"===a.keyIdentifier}function consumeEvent(a){a.consume()}function TreeOutline(a,b){this.children=[],this.selectedTreeElement=null,this._childrenListNode=a,this.childrenListElement=this._childrenListNode,this._childrenListNode.removeChildren(),this.expandTreeElementsWhenArrowing=!1,this.root=!0,this.hasChildren=!1,this.expanded=!0,this.selected=!1,this.treeOutline=this,this.comparator=null,this.setFocusable(!b),this._childrenListNode.addEventListener("keydown",this._treeKeyDown.bind(this),!0),this._treeElementsMap=new Map,this._expandedStateMap=new Map,this.element=a}function TreeElement(a,b,c){this._title=a,this.representedObject=b||{},this.root=!1,this._hidden=!1,this._selectable=!0,this.expanded=!1,this.selected=!1,this.hasChildren=c,this.children=[],this.treeOutline=null,this.parent=null,this.previousSibling=null,this.nextSibling=null,this._listItemNode=null}function InspectorBackendClass(){this._connection=null,this._agentPrototypes={},this._dispatcherPrototypes={},this._initialized=!1,this._enums={},this._initProtocolAgentsConstructor()}function onMessageFromOpener(a){a.source===window.opener&&InspectorFrontendAPI._dispatch(a.data)}function SourceMapV3(){this.version,this.file,this.sources,this.sections,this.mappings,this.sourceRoot}Object.isEmpty=function(a){for(var b in a)return!1;return!0},Object.values=function(a){for(var b=Object.keys(a),c=b.length,d=0;c>d;++d)b[d]=a[b[d]];return b},String.prototype.findAll=function(a){for(var b=[],c=this.indexOf(a);-1!==c;)b.push(c),c=this.indexOf(a,c+a.length);return b},String.prototype.lineEndings=function(){return this._lineEndings||(this._lineEndings=this.findAll("\n"),this._lineEndings.push(this.length)),this._lineEndings},String.prototype.lineCount=function(){var a=this.lineEndings();return a.length},String.prototype.lineAt=function(a){var b=this.lineEndings(),c=a>0?b[a-1]+1:0,d=b[a],e=this.substring(c,d);return e.length>0&&"\r"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},String.prototype.escapeCharacters=function(a){for(var b=!1,c=0;c<a.length;++c)if(-1!==this.indexOf(a.charAt(c))){b=!0;break}if(!b)return String(this);for(var d="",c=0;c<this.length;++c)-1!==a.indexOf(this.charAt(c))&&(d+="\\"),d+=this.charAt(c);return d},String.regexSpecialCharacters=function(){return"^[]{}()\\.^$*+?|-,"},String.prototype.escapeForRegExp=function(){return this.escapeCharacters(String.regexSpecialCharacters())},String.prototype.escapeHTML=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},String.prototype.collapseWhitespace=function(){return this.replace(/[\s\xA0]+/g," ")},String.prototype.trimMiddle=function(a){if(this.length<=a)return String(this);var b=a>>1,c=a-b-1;return this.substr(0,b)+"…"+this.substr(this.length-c,c)},String.prototype.trimEnd=function(a){return this.length<=a?String(this):this.substr(0,a-1)+"…"},String.prototype.trimURL=function(a){var b=this.replace(/^(https|http|file):\/\//i,"");return a&&(b=b.replace(new RegExp("^"+a.escapeForRegExp(),"i"),"")),b},String.prototype.toTitleCase=function(){return this.substring(0,1).toUpperCase()+this.substring(1)},String.prototype.compareTo=function(a){return this>a?1:a>this?-1:0},String.prototype.removeURLFragment=function(){var a=this.indexOf("#");return-1==a&&(a=this.length),this.substring(0,a)},String.prototype.startsWith=function(a){return!this.lastIndexOf(a,0)},String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)},String.prototype.hashCode=function(){for(var a=0,b=0;b<this.length;++b)a=3*a+this.charCodeAt(b);return a},String.naturalOrderComparator=function(a,b){for(var c,d,e,f,g=/^\d+|^\D+/;;){if(!a)return b?-1:0;if(!b)return 1;if(c=a.match(g)[0],d=b.match(g)[0],e=!isNaN(c),f=!isNaN(d),e&&!f)return-1;if(f&&!e)return 1;if(e&&f){var h=c-d;if(h)return h;if(c.length!==d.length)return+c||+d?d.length-c.length:c.length-d.length}else if(c!==d)return d>c?-1:1;a=a.substring(c.length),b=b.substring(d.length)}},Number.constrain=function(a,b,c){return b>a?a=b:a>c&&(a=c),a},Number.gcd=function(a,b){return 0===b?a:Number.gcd(b,a%b)},Number.toFixedIfFloating=function(a){if(!a||isNaN(a))return a;var b=Number(a);return b%1?b.toFixed(3):String(b)},Date.prototype.toISO8601Compact=function(){function a(a){return(a>9?"":"0")+a}return this.getFullYear()+a(this.getMonth()+1)+a(this.getDate())+"T"+a(this.getHours())+a(this.getMinutes())+a(this.getSeconds())},Date.prototype.toConsoleTime=function(){function a(a){return(a>9?"":"0")+a}function b(a){return Array(4-a.toString().length).join("0")+a}return this.getFullYear()+"-"+a(this.getMonth()+1)+"-"+a(this.getDate())+" "+a(this.getHours())+":"+a(this.getMinutes())+":"+a(this.getSeconds())+"."+b(this.getMilliseconds())},Object.defineProperty(Array.prototype,"remove",{value:function(a,b){var c=this.indexOf(a);if(-1!==c){if(b)return void this.splice(c,1);for(var d=c+1,e=this.length;e>d;++d)this[d]!==a&&(this[c++]=this[d]);this.length=c}}}),Object.defineProperty(Array.prototype,"keySet",{value:function(){for(var a={},b=0;b<this.length;++b)a[this[b]]=!0;return a}}),Object.defineProperty(Array.prototype,"rotate",{value:function(a){for(var b=[],c=a;c<a+this.length;++c)b.push(this[c%this.length]);return b}}),Object.defineProperty(Uint32Array.prototype,"sort",{value:Array.prototype.sort}),function(){var a={value:function(a,b,c,d){function e(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}var f=this[d];e(this,c,d);for(var g=b,h=b;c>h;++h)a(this[h],f)<0&&(e(this,g,h),++g);return e(this,c,g),g}};Object.defineProperty(Array.prototype,"partition",a),Object.defineProperty(Uint32Array.prototype,"partition",a);var b={value:function(a,b,c,d,e){function f(a,b,c,d,e,g){if(!(c>=d)){var h=Math.floor(Math.random()*(d-c))+c,i=a.partition(b,c,d,h);i>e&&f(a,b,c,i-1,e,g),g>i&&f(a,b,i+1,d,e,g)}}return 0===b&&c===this.length-1&&0===d&&e>=c?this.sort(a):f(this,a,b,c,d,e),this}};Object.defineProperty(Array.prototype,"sortRange",b),Object.defineProperty(Uint32Array.prototype,"sortRange",b)}(),Object.defineProperty(Array.prototype,"stableSort",{value:function(a){function b(a,b){return b>a?-1:a>b?1:0}function c(b,c){var d=a(f[b],f[c]);return d?d:b-c}a=a||b;for(var d=new Array(this.length),e=0;e<this.length;++e)d[e]=e;var f=this;d.sort(c);for(var e=0;e<this.length;++e)if(!(d[e]<0||e===d[e]))for(var g=e,h=this[e];;){var i=d[g];if(d[g]=-1,i===e){this[g]=h;break}this[g]=this[i],g=i}return this}}),Object.defineProperty(Array.prototype,"qselect",{value:function(a,b){if(!(0>a||a>=this.length)){b||(b=function(a,b){return a-b});for(var c=0,d=this.length-1;;){var e=this.partition(b,c,d,Math.floor((d+c)/2));if(e===a)return this[a];e>a?d=e-1:c=e+1}}}}),Object.defineProperty(Array.prototype,"lowerBound",{value:function(a,b,c,d){function e(a,b){return b>a?-1:a>b?1:0}b=b||e;for(var f=c||0,g=void 0!==d?d:this.length;g>f;){var h=f+g>>1;b(a,this[h])>0?f=h+1:g=h}return g}}),Object.defineProperty(Array.prototype,"upperBound",{value:function(a,b,c,d){function e(a,b){return b>a?-1:a>b?1:0}b=b||e;for(var f=c||0,g=void 0!==d?d:this.length;g>f;){var h=f+g>>1;b(a,this[h])>=0?f=h+1:g=h}return g}}),Object.defineProperty(Array.prototype,"binaryIndexOf",{value:function(a,b){var c=this.lowerBound(a,b);return c<this.length&&0===b(a,this[c])?c:-1}}),Object.defineProperty(Array.prototype,"select",{value:function(a){for(var b=new Array(this.length),c=0;c<this.length;++c)b[c]=this[c][a];return b}}),Object.defineProperty(Array.prototype,"peekLast",{value:function(){return this[this.length-1]}}),function(){function a(a,b,c,d){for(var e=[],f=0,g=0;f<a.length&&g<b.length;){var h=c(a[f],b[g]);(d||!h)&&e.push(0>=h?a[f]:b[g]),0>=h&&f++,h>=0&&g++}if(d){for(;f<a.length;)e.push(a[f++]);for(;g<b.length;)e.push(b[g++])}return e}Object.defineProperty(Array.prototype,"intersectOrdered",{value:function(b,c){return a(this,b,c,!1)}}),Object.defineProperty(Array.prototype,"mergeOrdered",{value:function(b,c){return a(this,b,c,!0)}})}(),String.sprintf=function(a){return String.vsprintf(a,Array.prototype.slice.call(arguments,1))},String.tokenizeFormatString=function(a,b){function c(a){f.push({type:"string",value:a})}function d(a,b,c){f.push({type:"specifier",specifier:a,precision:b,substitutionIndex:c})}function e(a){return!!/[0-9]/.exec(a)}for(var f=[],g=0,h=0,i=a.indexOf("%",h);-1!==i;i=a.indexOf("%",h)){if(c(a.substring(h,i)),h=i+1,e(a[h])){for(var j=parseInt(a.substring(h),10);e(a[h]);)++h;j>0&&"$"===a[h]&&(g=j-1,++h)}var k=-1;if("."===a[h])for(++h,k=parseInt(a.substring(h),10),isNaN(k)&&(k=0);e(a[h]);)++h;a[h]in b?(d(a[h],k,g),++g,++h):(c(a.substring(i,h+1)),++h)}return c(a.substring(h)),f},String.standardFormatters={d:function(a){return isNaN(a)?0:a},f:function(a,b){return a&&b.precision>-1&&(a=a.toFixed(b.precision)),isNaN(a)?b.precision>-1?Number(0).toFixed(b.precision):0:a},s:function(a){return a}},String.vsprintf=function(a,b){return String.format(a,b,String.standardFormatters,"",function(a,b){return a+b}).formattedResult},String.format=function(a,b,c,d,e){function f(){return'String.format("'+a+'", "'+b.join('", "')+'")'}function g(a){console.warn(f()+": "+a)}function h(a){console.error(f()+": "+a)}if(!a||!b||!b.length)return{formattedResult:e(d,a),unusedSubstitutions:b};for(var i=d,j=String.tokenizeFormatString(a,c),k={},l=0;l<j.length;++l){var m=j[l];"string"!==m.type?"specifier"===m.type?m.substitutionIndex>=b.length?(h("not enough substitution arguments. Had "+b.length+" but needed "+(m.substitutionIndex+1)+", so substitution was skipped."),i=e(i,"%"+(m.precision>-1?m.precision:"")+m.specifier)):(k[m.substitutionIndex]=!0,m.specifier in c?i=e(i,c[m.specifier](b[m.substitutionIndex],m)):(g("unsupported format character “"+m.specifier+"”. Treating as a string."),i=e(i,b[m.substitutionIndex]))):h('Unknown token type "'+m.type+'" found.'):i=e(i,m.value)}for(var n=[],l=0;l<b.length;++l)l in k||n.push(b[l]);return{formattedResult:i,unusedSubstitutions:n}};var createObjectIdentifier=function(){return"_"+ ++createObjectIdentifier._last};createObjectIdentifier._last=0;var Set=function(){this._set={},this._size=0};Set.prototype={add:function(a){var b=a.__identifier;b||(b=createObjectIdentifier(),a.__identifier=b),this._set[b]||++this._size,this._set[b]=a},remove:function(a){return this._set[a.__identifier]?(--this._size,delete this._set[a.__identifier],!0):!1},items:function(){var a=new Array(this._size),b=0;for(var c in this._set)a[b++]=this._set[c];return a},hasItem:function(a){return!!this._set[a.__identifier]},size:function(){return this._size},clear:function(){this._set={},this._size=0}};var Map=function(){this._map={},this._size=0};Map.prototype={put:function(a,b){var c=a.__identifier;c||(c=createObjectIdentifier(),a.__identifier=c),this._map[c]||++this._size,this._map[c]=[a,b]},remove:function(a){var b=this._map[a.__identifier];return b?(--this._size,delete this._map[a.__identifier],b[1]):void 0},keys:function(){return this._list(0)},values:function(){return this._list(1)},_list:function(a){var b=new Array(this._size),c=0;for(var d in this._map)b[c++]=this._map[d][a];return b},get:function(a){var b=this._map[a.__identifier];return b?b[1]:void 0},contains:function(a){var b=this._map[a.__identifier];return!!b},size:function(){return this._size},clear:function(){this._map={},this._size=0}};var StringMap=function(){this._map={},this._size=0};StringMap.prototype={put:function(a,b){return"__proto__"===a?(this._hasProtoKey||(++this._size,this._hasProtoKey=!0),void(this._protoValue=b)):(Object.prototype.hasOwnProperty.call(this._map,a)||++this._size,void(this._map[a]=b))},remove:function(a){var b;return"__proto__"===a?this._hasProtoKey?(--this._size,delete this._hasProtoKey,b=this._protoValue,delete this._protoValue,b):void 0:Object.prototype.hasOwnProperty.call(this._map,a)?(--this._size,b=this._map[a],delete this._map[a],b):void 0},keys:function(){var a=Object.keys(this._map)||[];return this._hasProtoKey&&a.push("__proto__"),a},values:function(){var a=Object.values(this._map);return this._hasProtoKey&&a.push(this._protoValue),a},get:function(a){return"__proto__"===a?this._protoValue:Object.prototype.hasOwnProperty.call(this._map,a)?this._map[a]:void 0},contains:function(a){return"__proto__"===a?this._hasProtoKey:Object.prototype.hasOwnProperty.call(this._map,a)},size:function(){return this._size},clear:function(){this._map={},this._size=0,delete this._hasProtoKey,delete this._protoValue}};var StringSet=function(){this._map=new StringMap};StringSet.prototype={put:function(a){this._map.put(a,!0)},remove:function(a){return!!this._map.remove(a)},values:function(){return this._map.keys()},contains:function(a){return this._map.contains(a)},size:function(){return this._map.size()},clear:function(){this._map.clear()}};var _importedScripts={},loadScript=importScript;CallbackBarrier.prototype={createCallback:function(a){return console.assert(!this._outgoingCallback,"CallbackBarrier.createCallback() is called after CallbackBarrier.callWhenDone()"),++this._pendingIncomingCallbacksCount,this._incomingCallback.bind(this,a)},callWhenDone:function(a){console.assert(!this._outgoingCallback,"CallbackBarrier.callWhenDone() is called multiple times"),this._outgoingCallback=a,this._pendingIncomingCallbacksCount||this._outgoingCallback()},_incomingCallback:function(a){if(console.assert(this._pendingIncomingCallbacksCount>0),a){var b=Array.prototype.slice.call(arguments,1);a.apply(null,b)}!--this._pendingIncomingCallbacksCount&&this._outgoingCallback&&this._outgoingCallback()}};var allDescriptors=[{name:"main",extensions:[{type:"@WebInspector.ActionDelegate",bindings:[{platform:"windows,linux",shortcut:"F5 Ctrl+R"},{platform:"mac",shortcut:"Meta+R"}],className:"WebInspector.Main.ReloadActionDelegate"},{type:"@WebInspector.ActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Shift+F5 Ctrl+F5 Ctrl+Shift+F5 Shift+Ctrl+R"},{platform:"mac",shortcut:"Shift+Meta+R"}],className:"WebInspector.Main.HardReloadActionDelegate"},{type:"@WebInspector.ActionDelegate",bindings:[{shortcut:"Esc"}],className:"WebInspector.InspectorView.DrawerToggleActionDelegate"},{type:"@WebInspector.ActionDelegate",bindings:[{shortcut:"Alt+R"}],className:"WebInspector.Main.DebugReloadActionDelegate"}]},{name:"elements",extensions:[{type:"@WebInspector.Panel",name:"elements",title:"Elements",order:0,className:"WebInspector.ElementsPanel"},{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.RemoteObject","WebInspector.DOMNode"],className:"WebInspector.ElementsPanel.ContextMenuProvider"},{type:"drawer-view",name:"emulation",title:"Emulation",order:"10",className:"WebInspector.OverridesView"},{type:"drawer-view",name:"rendering",title:"Rendering",order:"11",className:"WebInspector.RenderingOptionsView"},{type:"@WebInspector.Renderer",contextTypes:["WebInspector.DOMNode"],className:"WebInspector.ElementsTreeOutline.Renderer"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.DOMNode"],className:"WebInspector.ElementsPanel.DOMNodeRevealer"}],scripts:["ElementsPanel.js"]},{name:"network",extensions:[{type:"@WebInspector.Panel",name:"network",title:"Network",order:1,className:"WebInspector.NetworkPanel"},{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.NetworkRequest","WebInspector.Resource","WebInspector.UISourceCode"],className:"WebInspector.NetworkPanel.ContextMenuProvider"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.NetworkRequest"],className:"WebInspector.NetworkPanel.RequestRevealer"}],scripts:["NetworkPanel.js"]},{name:"codemirror",extensions:[{type:"@WebInspector.InplaceEditor",className:"WebInspector.CodeMirrorUtils"},{type:"@WebInspector.TokenizerFactory",className:"WebInspector.CodeMirrorUtils.TokenizerFactory"}],scripts:["CodeMirrorTextEditor.js"]},{name:"sources",extensions:[{type:"@WebInspector.Panel",name:"sources",title:"Sources",order:2,className:"WebInspector.SourcesPanel"},{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.UISourceCode","WebInspector.RemoteObject"],className:"WebInspector.SourcesPanel.ContextMenuProvider"},{type:"@WebInspector.SearchScope",className:"WebInspector.SourcesSearchScope"},{type:"drawer-view",name:"search",title:"Search",order:"1",className:"WebInspector.SearchView"},{type:"@WebInspector.DrawerEditor",className:"WebInspector.SourcesPanel.DrawerEditor"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.UILocation"],className:"WebInspector.SourcesPanel.UILocationRevealer"},{type:"@WebInspector.SourcesView.EditorAction",className:"WebInspector.InplaceFormatterEditorAction"},{type:"@WebInspector.SourcesView.EditorAction",className:"WebInspector.ScriptFormatterEditorAction"},{type:"navigator-view",name:"sources",title:"Sources",order:1,className:"WebInspector.SourcesNavigatorView"},{type:"navigator-view",name:"contentScripts",title:"Content scripts",order:2,className:"WebInspector.ContentScriptsNavigatorView"},{type:"navigator-view",name:"snippets",title:"Snippets",order:3,className:"WebInspector.SnippetsNavigatorView"},{type:"@WebInspector.ActionDelegate",bindings:[{platform:"mac",shortcut:"Meta+O Meta+P"},{platform:"windows,linux",shortcut:"Ctrl+O Ctrl+P"}],className:"WebInspector.SourcesPanel.ShowGoToSourceDialogActionDelegate"}],scripts:["SourcesPanel.js"]},{name:"timeline",extensions:[{type:"@WebInspector.Panel",name:"timeline",title:"Timeline",order:3,className:"WebInspector.TimelinePanel"}],scripts:["TimelinePanel.js"]},{name:"profiles",extensions:[{type:"@WebInspector.Panel",name:"profiles",title:"Profiles",order:4,className:"WebInspector.ProfilesPanel"},{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.RemoteObject"],className:"WebInspector.ProfilesPanel.ContextMenuProvider"}],scripts:["ProfilesPanel.js"]},{name:"resources",extensions:[{type:"@WebInspector.Panel",name:"resources",title:"Resources",order:5,className:"WebInspector.ResourcesPanel"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.Resource"],className:"WebInspector.ResourcesPanel.ResourceRevealer"}],scripts:["ResourcesPanel.js"]},{name:"audits",extensions:[{type:"@WebInspector.Panel",name:"audits",title:"Audits",order:6,className:"WebInspector.AuditsPanel"}],scripts:["AuditsPanel.js"]},{name:"console",extensions:[{type:"@WebInspector.Panel",name:"console",title:"Console",order:20,className:"WebInspector.ConsolePanel"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.ConsoleModel"],className:"WebInspector.ConsolePanel.ConsoleRevealer"},{type:"@WebInspector.ActionDelegate",bindings:[{shortcut:"Ctrl+`"}],className:"WebInspector.ConsoleView.ShowConsoleActionDelegate"}],scripts:[]},{name:"settings",extensions:[{type:"@WebInspector.ActionDelegate",bindings:[{shortcut:"F1 Shift+?"}],className:"WebInspector.SettingsController.SettingsScreenActionDelegate"}]},{name:"extensions",extensions:[{type:"@WebInspector.ExtensionServerAPI",className:"WebInspector.ExtensionServer"}],scripts:["ExtensionServer.js"]},{name:"layers",extensions:[{type:"@WebInspector.Panel",name:"layers",title:"Layers",order:7,className:"WebInspector.LayersPanel"},{type:"@WebInspector.Revealer",contextTypes:["WebInspector.LayerTreeSnapshot"],className:"WebInspector.LayersPanel.LayerTreeRevealer"}],scripts:["LayersPanel.js"]},{name:"handler-registry",extensions:[{type:"@WebInspector.ContextMenu.Provider",contextTypes:["WebInspector.UISourceCode","WebInspector.Resource","WebInspector.NetworkRequest","Node"],className:"WebInspector.HandlerRegistry.ContextMenuProvider"}]}];__whitespace={" ":!0,"	":!0,"\n":!0,"\f":!0,"\r":!0},difflib={defaultJunkFunction:function(a){return __whitespace.hasOwnProperty(a)},stripLinebreaks:function(a){return a.replace(/^[\n\r]*|[\n\r]*$/g,"")},stringAsLines:function(a){for(var b=a.indexOf("\n"),c=a.indexOf("\r"),d=b>-1&&c>-1||0>c?"\n":"\r",e=a.split(d),f=0;f<e.length;f++)e[f]=difflib.stripLinebreaks(e[f]);return e},__reduce:function(a,b,c){if(null!=c)var d=c,e=0;else{if(!b)return null;var d=b[0],e=1}for(;e<b.length;e++)d=a(d,b[e]);return d},__ntuplecomp:function(a,b){for(var c=Math.max(a.length,b.length),d=0;c>d;d++){if(a[d]<b[d])return-1;if(a[d]>b[d])return 1}return a.length==b.length?0:a.length<b.length?-1:1},__calculate_ratio:function(a,b){return b?2*a/b:1},__isindict:function(a){return function(b){return a.hasOwnProperty(b)}},__dictget:function(a,b,c){return a.hasOwnProperty(b)?a[b]:c},SequenceMatcher:function(a,b,c){this.set_seqs=function(a,b){this.set_seq1(a),this.set_seq2(b)},this.set_seq1=function(a){a!=this.a&&(this.a=a,this.matching_blocks=this.opcodes=null)},this.set_seq2=function(a){a!=this.b&&(this.b=a,this.matching_blocks=this.opcodes=this.fullbcount=null,this.__chain_b())},this.__chain_b=function(){for(var a=this.b,b=a.length,c=this.b2j={},d={},e=0;e<a.length;e++){var f=a[e];if(c.hasOwnProperty(f)){var g=c[f];b>=200&&100*g.length>b?(d[f]=1,delete c[f]):g.push(e)}else c[f]=[e]}for(var f in d)d.hasOwnProperty(f)&&delete c[f];var h=this.isjunk,i={};if(h){for(var f in d)d.hasOwnProperty(f)&&h(f)&&(i[f]=1,delete d[f]);for(var f in c)c.hasOwnProperty(f)&&h(f)&&(i[f]=1,delete c[f])}this.isbjunk=difflib.__isindict(i),this.isbpopular=difflib.__isindict(d)},this.find_longest_match=function(a,b,c,d){for(var e=this.a,f=this.b,g=this.b2j,h=this.isbjunk,i=a,j=c,l=0,m=null,n={},o=[],p=a;b>p;p++){var q={},r=difflib.__dictget(g,e[p],o);for(var s in r)if(r.hasOwnProperty(s)){if(m=r[s],c>m)continue;if(m>=d)break;q[m]=k=difflib.__dictget(n,m-1,0)+1,k>l&&(i=p-k+1,j=m-k+1,l=k)}n=q}for(;i>a&&j>c&&!h(f[j-1])&&e[i-1]==f[j-1];)i--,j--,l++;for(;b>i+l&&d>j+l&&!h(f[j+l])&&e[i+l]==f[j+l];)l++;for(;i>a&&j>c&&h(f[j-1])&&e[i-1]==f[j-1];)i--,j--,l++;for(;b>i+l&&d>j+l&&h(f[j+l])&&e[i+l]==f[j+l];)l++;return[i,j,l]},this.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;for(var a,b,c,d,e,f,g,h,i,j=this.a.length,k=this.b.length,l=[[0,j,0,k]],m=[];l.length;)e=l.pop(),a=e[0],b=e[1],c=e[2],d=e[3],i=this.find_longest_match(a,b,c,d),f=i[0],g=i[1],h=i[2],h&&(m.push(i),f>a&&g>c&&l.push([a,f,c,g]),b>f+h&&d>g+h&&l.push([f+h,b,g+h,d]));m.sort(difflib.__ntuplecomp);var n=j1=k1=block=0,o=[];for(var p in m)m.hasOwnProperty(p)&&(block=m[p],i2=block[0],j2=block[1],k2=block[2],n+k1==i2&&j1+k1==j2?k1+=k2:(k1&&o.push([n,j1,k1]),n=i2,j1=j2,k1=k2));return k1&&o.push([n,j1,k1]),o.push([j,k,0]),this.matching_blocks=o,this.matching_blocks},this.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var a=0,b=0,c=[];this.opcodes=c;var d,e,f,g,h,i=this.get_matching_blocks();for(var j in i)i.hasOwnProperty(j)&&(d=i[j],e=d[0],f=d[1],g=d[2],h="",e>a&&f>b?h="replace":e>a?h="delete":f>b&&(h="insert"),h&&c.push([h,a,e,b,f]),a=e+g,b=f+g,g&&c.push(["equal",e,a,f,b]));return c},this.get_grouped_opcodes=function(a){a||(a=3);var b=this.get_opcodes();b||(b=[["equal",0,1,0,1]]);var c,d,e,f,g,h;"equal"==b[0][0]&&(c=b[0],d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],b[0]=[d,Math.max(e,f-a),f,Math.max(g,h-a),h]),"equal"==b[b.length-1][0]&&(c=b[b.length-1],d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],b[b.length-1]=[d,e,Math.min(f,e+a),g,Math.min(h,g+a)]);var i=a+a,j=[];for(var k in b)b.hasOwnProperty(k)&&(c=b[k],d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],"equal"==d&&f-e>i&&(j.push([d,e,Math.min(f,e+a),g,Math.min(h,g+a)]),e=Math.max(e,f-a),g=Math.max(g,h-a)),j.push([d,e,f,g,h]));return j&&"equal"==j[j.length-1][0]&&j.pop(),j},this.ratio=function(){return matches=difflib.__reduce(function(a,b){return a+b[b.length-1]},this.get_matching_blocks(),0),difflib.__calculate_ratio(matches,this.a.length+this.b.length)},this.quick_ratio=function(){var a,b;if(null==this.fullbcount){this.fullbcount=a={};for(var c=0;c<this.b.length;c++)b=this.b[c],a[b]=difflib.__dictget(a,b,0)+1}a=this.fullbcount;for(var d={},e=difflib.__isindict(d),f=numb=0,c=0;c<this.a.length;c++)b=this.a[c],numb=e(b)?d[b]:difflib.__dictget(a,b,0),d[b]=numb-1,numb>0&&f++;return difflib.__calculate_ratio(f,this.a.length+this.b.length)},this.real_quick_ratio=function(){var a=this.a.length,b=this.b.length;return _calculate_ratio(Math.min(a,b),a+b)},this.isjunk=c?c:difflib.defaultJunkFunction,this.a=this.b=null,this.set_seqs(a,b)}},Node.prototype.rangeOfWord=function(a,b,c,d){var e,f,g=0,h=0;if(c||(c=this),d&&"backward"!==d&&"both"!==d)e=this,g=a;else{for(var i=this;i;){if(i===c){e||(e=c);break}if(i.nodeType===Node.TEXT_NODE)for(var j=i===this?a-1:i.nodeValue.length-1,k=j;k>=0;--k)if(-1!==b.indexOf(i.nodeValue[k])){e=i,g=k+1;break}if(e)break;i=i.traversePreviousNode(c)}e||(e=c,g=0)}if(d&&"forward"!==d&&"both"!==d)f=this,h=a;else{for(i=this;i;){if(i===c){f||(f=c);break}if(i.nodeType===Node.TEXT_NODE)for(var j=i===this?a:0,k=j;k<i.nodeValue.length;++k)if(-1!==b.indexOf(i.nodeValue[k])){f=i,h=k;break}if(f)break;i=i.traverseNextNode(c)}f||(f=c,h=c.nodeType===Node.TEXT_NODE?c.nodeValue.length:c.childNodes.length)}var l=this.ownerDocument.createRange();return l.setStart(e,g),l.setEnd(f,h),l},Node.prototype.traverseNextTextNode=function(a){var b=this.traverseNextNode(a);if(b){for(;b&&b.nodeType!==Node.TEXT_NODE;)b=b.traverseNextNode(a);return b}},Node.prototype.rangeBoundaryForOffset=function(a){for(var b=this.traverseNextTextNode(this);b&&a>b.nodeValue.length;)a-=b.nodeValue.length,b=b.traverseNextTextNode(this);return b?{container:b,offset:a}:{container:this,offset:0}},Element.prototype.removeMatchingStyleClasses=function(a){var b=new RegExp("(^|\\s+)"+a+"($|\\s+)");b.test(this.className)&&(this.className=this.className.replace(b," "))},Element.prototype.positionAt=function(a,b,c){var d={x:0,y:0};c&&(d=c.boxInWindow(this.ownerDocument.defaultView)),"number"==typeof a?this.style.setProperty("left",d.x+a+"px"):this.style.removeProperty("left"),"number"==typeof b?this.style.setProperty("top",d.y+b+"px"):this.style.removeProperty("top")},Element.prototype.isScrolledToBottom=function(){return Math.abs(this.scrollTop+this.clientHeight-this.scrollHeight)<=1},Size.prototype.isEqual=function(a){return!!a&&this.width===a.width&&this.height===a.height},Element.prototype.measurePreferredSize=function(a){a=a||document.body,a.appendChild(this),this.positionAt(0,0);var b=new Size(this.offsetWidth,this.offsetHeight);return this.positionAt(void 0,void 0),this.remove(),b},Element.prototype.containsEventPoint=function(a){var b=this.getBoundingClientRect();return b.left<a.x&&a.x<b.right&&b.top<a.y&&a.y<b.bottom},Node.prototype.enclosingNodeOrSelfWithNodeNameInArray=function(a){for(var b=this;b&&b!==this.ownerDocument;b=b.parentNode)for(var c=0;c<a.length;++c)if(b.nodeName.toLowerCase()===a[c].toLowerCase())return b;return null},Node.prototype.enclosingNodeOrSelfWithNodeName=function(a){return this.enclosingNodeOrSelfWithNodeNameInArray([a])},Node.prototype.enclosingNodeOrSelfWithClass=function(a,b){for(var c=this;c&&c!==b&&c!==this.ownerDocument;c=c.parentNode)if(c.nodeType===Node.ELEMENT_NODE&&c.classList.contains(a))return c;return null},Element.prototype.query=function(a){return this.ownerDocument.evaluate(a,this,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},Element.prototype.removeChildren=function(){this.firstChild&&(this.textContent="")},Element.prototype.isInsertionCaretInside=function(){var a=window.getSelection();if(!a.rangeCount||!a.isCollapsed)return!1;var b=a.getRangeAt(0);return b.startContainer.isSelfOrDescendant(this)},Document.prototype.createElementWithClass=function(a,b){var c=this.createElement(a);return b&&(c.className=b),c},Element.prototype.createChild=function(a,b){var c=this.ownerDocument.createElementWithClass(a,b);return this.appendChild(c),c},DocumentFragment.prototype.createChild=Element.prototype.createChild,Element.prototype.createTextChild=function(a){var b=this.ownerDocument.createTextNode(a);return this.appendChild(b),b},DocumentFragment.prototype.createTextChild=Element.prototype.createTextChild,Element.prototype.totalOffsetLeft=function(){return this.totalOffset().left},Element.prototype.totalOffsetTop=function(){return this.totalOffset().top},Element.prototype.totalOffset=function(){var a=this.getBoundingClientRect();return{left:a.left,top:a.top}},Element.prototype.scrollOffset=function(){for(var a=0,b=0,c=this;c;c=c.scrollParent)a+=c.scrollLeft,b+=c.scrollTop;return{left:a,top:b}},AnchorBox.prototype.relativeTo=function(a){return new AnchorBox(this.x-a.x,this.y-a.y,this.width,this.height)},AnchorBox.prototype.relativeToElement=function(a){return this.relativeTo(a.boxInWindow(a.ownerDocument.defaultView))},Element.prototype.offsetRelativeToWindow=function(a){for(var b=new AnchorBox,c=this,d=this.ownerDocument.defaultView;d&&c&&(b.x+=c.totalOffsetLeft(),b.y+=c.totalOffsetTop(),d!==a);)c=d.frameElement,d=d.parent;return b},Element.prototype.boxInWindow=function(a){a=a||this.ownerDocument.defaultView;var b=this.offsetRelativeToWindow(window);return b.width=Math.min(this.offsetWidth,window.innerWidth-b.x),b.height=Math.min(this.offsetHeight,window.innerHeight-b.y),b},Element.prototype.setTextAndTitle=function(a){this.textContent=a,this.title=a},KeyboardEvent.prototype.__defineGetter__("data",function(){switch(this.type){case"keypress":return this.ctrlKey||this.metaKey?"":String.fromCharCode(this.charCode);case"keydown":case"keyup":return this.ctrlKey||this.metaKey||this.altKey?"":String.fromCharCode(this.which)}}),Event.prototype.consume=function(a){this.stopImmediatePropagation(),a&&this.preventDefault(),this.handled=!0},Text.prototype.select=function(a,b){a=a||0,b=b||this.textContent.length,0>a&&(a=b+a);var c=this.ownerDocument.defaultView.getSelection();c.removeAllRanges();var d=this.ownerDocument.createRange();return d.setStart(this,a),d.setEnd(this,b),c.addRange(d),this},Element.prototype.selectionLeftOffset=function(){var a=window.getSelection();if(!a.containsNode(this,!0))return null;for(var b=a.anchorOffset,c=a.anchorNode;c!==this;){for(;c.previousSibling;)c=c.previousSibling,b+=c.textContent.length;c=c.parentNode}return b},Node.prototype.isAncestor=function(a){if(!a)return!1;for(var b=a.parentNode;b;){if(this===b)return!0;b=b.parentNode}return!1},Node.prototype.isDescendant=function(a){return!!a&&a.isAncestor(this)},Node.prototype.isSelfOrAncestor=function(a){return!!a&&(a===this||this.isAncestor(a))},Node.prototype.isSelfOrDescendant=function(a){return!!a&&(a===this||this.isDescendant(a))},Node.prototype.traverseNextNode=function(a){var b=this.firstChild;if(b)return b;if(a&&this===a)return null;if(b=this.nextSibling)return b;for(b=this;!(!b||b.nextSibling||a&&b.parentNode&&b.parentNode===a);)b=b.parentNode;return b?b.nextSibling:null},Node.prototype.traversePreviousNode=function(a){if(a&&this===a)return null;for(var b=this.previousSibling;b&&b.lastChild;)b=b.lastChild;
return b?b:this.parentNode},Node.prototype.setTextContentTruncatedIfNeeded=function(a,b){const c=65535;return"string"==typeof a&&a.length>c?(this.textContent="string"==typeof b?b:a.trimEnd(c),!0):(this.textContent=a,!1)},TreeOutline.prototype.setFocusable=function(a){a?this._childrenListNode.setAttribute("tabIndex",0):this._childrenListNode.removeAttribute("tabIndex")},TreeOutline.prototype.appendChild=function(a){var b;b=this.treeOutline.comparator?insertionIndexForObjectInListSortedByFunction(a,this.children,this.treeOutline.comparator):this.children.length,this.insertChild(a,b)},TreeOutline.prototype.insertBeforeChild=function(a,b){if(!a)throw"child can't be undefined or null";if(!b)throw"beforeChild can't be undefined or null";var c=this.children.indexOf(b);if(-1===c)throw"beforeChild not found in this node's children";this.insertChild(a,c)},TreeOutline.prototype.insertChild=function(a,b){if(!a)throw"child can't be undefined or null";var c=b>0?this.children[b-1]:null;c?(c.nextSibling=a,a.previousSibling=c):a.previousSibling=null;var d=this.children[b];d?(d.previousSibling=a,a.nextSibling=d):a.nextSibling=null,this.children.splice(b,0,a),this.hasChildren=!0,a.parent=this,a.treeOutline=this.treeOutline,a.treeOutline._rememberTreeElement(a);for(var e=a.children[0];e;)e.treeOutline=this.treeOutline,e.treeOutline._rememberTreeElement(e),e=e.traverseNextTreeElement(!1,a,!0);a.hasChildren&&"undefined"!=typeof a.treeOutline._expandedStateMap.get(a.representedObject)&&(a.expanded=a.treeOutline._expandedStateMap.get(a.representedObject)),this._childrenListNode||(this._childrenListNode=this.treeOutline._childrenListNode.ownerDocument.createElement("ol"),this._childrenListNode.parentTreeElement=this,this._childrenListNode.classList.add("children"),this.hidden&&this._childrenListNode.classList.add("hidden")),a._attach()},TreeOutline.prototype.removeChildAtIndex=function(a){if(0>a||a>=this.children.length)throw"childIndex out of range";var b=this.children[a];this.children.splice(a,1);var c=b.parent;b.deselect()&&(b.previousSibling?b.previousSibling.select():b.nextSibling?b.nextSibling.select():c.select()),b.previousSibling&&(b.previousSibling.nextSibling=b.nextSibling),b.nextSibling&&(b.nextSibling.previousSibling=b.previousSibling),b.treeOutline&&(b.treeOutline._forgetTreeElement(b),b.treeOutline._forgetChildrenRecursive(b)),b._detach(),b.treeOutline=null,b.parent=null,b.nextSibling=null,b.previousSibling=null},TreeOutline.prototype.removeChild=function(a){if(!a)throw"child can't be undefined or null";var b=this.children.indexOf(a);if(-1===b)throw"child not found in this node's children";this.removeChildAtIndex.call(this,b)},TreeOutline.prototype.removeChildren=function(){for(var a=0;a<this.children.length;++a){var b=this.children[a];b.deselect(),b.treeOutline&&(b.treeOutline._forgetTreeElement(b),b.treeOutline._forgetChildrenRecursive(b)),b._detach(),b.treeOutline=null,b.parent=null,b.nextSibling=null,b.previousSibling=null}this.children=[]},TreeOutline.prototype._rememberTreeElement=function(a){this._treeElementsMap.get(a.representedObject)||this._treeElementsMap.put(a.representedObject,[]);var b=this._treeElementsMap.get(a.representedObject);-1===b.indexOf(a)&&b.push(a)},TreeOutline.prototype._forgetTreeElement=function(a){if(this._treeElementsMap.get(a.representedObject)){var b=this._treeElementsMap.get(a.representedObject);b.remove(a,!0),b.length||this._treeElementsMap.remove(a.representedObject)}},TreeOutline.prototype._forgetChildrenRecursive=function(a){for(var b=a.children[0];b;)this._forgetTreeElement(b),b=b.traverseNextTreeElement(!1,a,!0)},TreeOutline.prototype.getCachedTreeElement=function(a){if(!a)return null;var b=this._treeElementsMap.get(a);return b&&b.length?b[0]:null},TreeOutline.prototype.findTreeElement=function(a,b,c){if(!a)return null;var d=this.getCachedTreeElement(a);if(d)return d;for(var e=[],f=c(a);f&&(e.push(f),!this.getCachedTreeElement(f));f=c(f));if(!f)return null;for(var g=e.length-1;g>=0;--g){var h=this.getCachedTreeElement(e[g]);h&&h.onpopulate()}return this.getCachedTreeElement(a)},TreeOutline.prototype.treeElementFromPoint=function(a,b){var c=this._childrenListNode.ownerDocument.elementFromPoint(a,b);if(!c)return null;var d=c.enclosingNodeOrSelfWithNodeNameInArray(["ol","li"]);return d?d.parentTreeElement||d.treeElement:null},TreeOutline.prototype._treeKeyDown=function(a){if(a.target===this._childrenListNode&&this.selectedTreeElement&&!a.shiftKey&&!a.metaKey&&!a.ctrlKey){var b,c=!1;if("Up"!==a.keyIdentifier||a.altKey)if("Down"!==a.keyIdentifier||a.altKey)if("Left"===a.keyIdentifier){if(this.selectedTreeElement.expanded)a.altKey?this.selectedTreeElement.collapseRecursively():this.selectedTreeElement.collapse(),c=!0;else if(this.selectedTreeElement.parent&&!this.selectedTreeElement.parent.root)if(c=!0,this.selectedTreeElement.parent.selectable){for(b=this.selectedTreeElement.parent;b&&!b.selectable;)b=b.parent;c=b?!0:!1}else this.selectedTreeElement.parent&&this.selectedTreeElement.parent.collapse()}else if("Right"===a.keyIdentifier)if(this.selectedTreeElement.revealed()){if(this.selectedTreeElement.hasChildren)if(c=!0,this.selectedTreeElement.expanded){for(b=this.selectedTreeElement.children[0];b&&!b.selectable;)b=b.nextSibling;c=b?!0:!1}else a.altKey?this.selectedTreeElement.expandRecursively():this.selectedTreeElement.expand()}else this.selectedTreeElement.reveal(),c=!0;else 8===a.keyCode||46===a.keyCode?c=this.selectedTreeElement.ondelete():isEnterKey(a)?c=this.selectedTreeElement.onenter():a.keyCode===WebInspector.KeyboardShortcut.Keys.Space.code&&(c=this.selectedTreeElement.onspace());else{for(b=this.selectedTreeElement.traverseNextTreeElement(!0);b&&!b.selectable;)b=b.traverseNextTreeElement(!this.expandTreeElementsWhenArrowing);c=b?!0:!1}else{for(b=this.selectedTreeElement.traversePreviousTreeElement(!0);b&&!b.selectable;)b=b.traversePreviousTreeElement(!this.expandTreeElementsWhenArrowing);c=b?!0:!1}b&&(b.reveal(),b.select(!1,!0)),c&&a.consume(!0)}},TreeOutline.prototype.expand=function(){},TreeOutline.prototype.collapse=function(){},TreeOutline.prototype.revealed=function(){return!0},TreeOutline.prototype.reveal=function(){},TreeOutline.prototype.select=function(){},TreeOutline.prototype.revealAndSelect=function(){},TreeElement.prototype={arrowToggleWidth:10,get selectable(){return this._hidden?!1:this._selectable},set selectable(a){this._selectable=a},get listItemElement(){return this._listItemNode},get childrenListElement(){return this._childrenListNode},get title(){return this._title},set title(a){this._title=a,this._setListItemNodeContent()},get tooltip(){return this._tooltip},set tooltip(a){this._tooltip=a,this._listItemNode&&(this._listItemNode.title=a?a:"")},get hasChildren(){return this._hasChildren},set hasChildren(a){this._hasChildren!==a&&(this._hasChildren=a,this._listItemNode&&(a?this._listItemNode.classList.add("parent"):(this._listItemNode.classList.remove("parent"),this.collapse())))},get hidden(){return this._hidden},set hidden(a){this._hidden!==a&&(this._hidden=a,a?(this._listItemNode&&this._listItemNode.classList.add("hidden"),this._childrenListNode&&this._childrenListNode.classList.add("hidden")):(this._listItemNode&&this._listItemNode.classList.remove("hidden"),this._childrenListNode&&this._childrenListNode.classList.remove("hidden")))},get shouldRefreshChildren(){return this._shouldRefreshChildren},set shouldRefreshChildren(a){this._shouldRefreshChildren=a,a&&this.expanded&&this.expand()},_setListItemNodeContent:function(){this._listItemNode&&("string"==typeof this._title?this._listItemNode.textContent=this._title:(this._listItemNode.removeChildren(),this._title&&this._listItemNode.appendChild(this._title)))}},TreeElement.prototype.appendChild=TreeOutline.prototype.appendChild,TreeElement.prototype.insertChild=TreeOutline.prototype.insertChild,TreeElement.prototype.insertBeforeChild=TreeOutline.prototype.insertBeforeChild,TreeElement.prototype.removeChild=TreeOutline.prototype.removeChild,TreeElement.prototype.removeChildAtIndex=TreeOutline.prototype.removeChildAtIndex,TreeElement.prototype.removeChildren=TreeOutline.prototype.removeChildren,TreeElement.prototype._attach=function(){(!this._listItemNode||this.parent._shouldRefreshChildren)&&(this._listItemNode&&this._listItemNode.parentNode&&this._listItemNode.parentNode.removeChild(this._listItemNode),this._listItemNode=this.treeOutline._childrenListNode.ownerDocument.createElement("li"),this._listItemNode.treeElement=this,this._setListItemNodeContent(),this._listItemNode.title=this._tooltip?this._tooltip:"",this.hidden&&this._listItemNode.classList.add("hidden"),this.hasChildren&&this._listItemNode.classList.add("parent"),this.expanded&&this._listItemNode.classList.add("expanded"),this.selected&&this._listItemNode.classList.add("selected"),this._listItemNode.addEventListener("mousedown",TreeElement.treeElementMouseDown,!1),this._listItemNode.addEventListener("click",TreeElement.treeElementToggled,!1),this._listItemNode.addEventListener("dblclick",TreeElement.treeElementDoubleClicked,!1),this.onattach());var a=null;this.nextSibling&&this.nextSibling._listItemNode&&this.nextSibling._listItemNode.parentNode===this.parent._childrenListNode&&(a=this.nextSibling._listItemNode),this.parent._childrenListNode.insertBefore(this._listItemNode,a),this._childrenListNode&&this.parent._childrenListNode.insertBefore(this._childrenListNode,this._listItemNode.nextSibling),this.selected&&this.select(),this.expanded&&this.expand()},TreeElement.prototype._detach=function(){this._listItemNode&&this._listItemNode.parentNode&&this._listItemNode.parentNode.removeChild(this._listItemNode),this._childrenListNode&&this._childrenListNode.parentNode&&this._childrenListNode.parentNode.removeChild(this._childrenListNode)},TreeElement.treeElementMouseDown=function(a){var b=a.currentTarget;b&&b.treeElement&&b.treeElement.selectable&&(b.treeElement.isEventWithinDisclosureTriangle(a)||b.treeElement.selectOnMouseDown(a))},TreeElement.treeElementToggled=function(a){var b=a.currentTarget;if(b&&b.treeElement){var c=b.treeElement.toggleOnClick&&!b.treeElement.selectable,d=b.treeElement.isEventWithinDisclosureTriangle(a);(c||d)&&(b.treeElement.expanded?a.altKey?b.treeElement.collapseRecursively():b.treeElement.collapse():a.altKey?b.treeElement.expandRecursively():b.treeElement.expand(),a.consume())}},TreeElement.treeElementDoubleClicked=function(a){var b=a.currentTarget;if(b&&b.treeElement){var c=b.treeElement.ondblclick.call(b.treeElement,a);c||b.treeElement.hasChildren&&!b.treeElement.expanded&&b.treeElement.expand()}},TreeElement.prototype.collapse=function(){this._listItemNode&&this._listItemNode.classList.remove("expanded"),this._childrenListNode&&this._childrenListNode.classList.remove("expanded"),this.expanded=!1,this.treeOutline&&this.treeOutline._expandedStateMap.put(this.representedObject,!1),this.oncollapse()},TreeElement.prototype.collapseRecursively=function(){for(var a=this;a;)a.expanded&&a.collapse(),a=a.traverseNextTreeElement(!1,this,!0)},TreeElement.prototype.expand=function(){if(this.hasChildren&&(!this.expanded||this._shouldRefreshChildren||!this._childrenListNode)){if(this.expanded=!0,this.treeOutline&&this.treeOutline._expandedStateMap.put(this.representedObject,!0),this.treeOutline&&(!this._childrenListNode||this._shouldRefreshChildren)){this._childrenListNode&&this._childrenListNode.parentNode&&this._childrenListNode.parentNode.removeChild(this._childrenListNode),this._childrenListNode=this.treeOutline._childrenListNode.ownerDocument.createElement("ol"),this._childrenListNode.parentTreeElement=this,this._childrenListNode.classList.add("children"),this.hidden&&this._childrenListNode.classList.add("hidden"),this.onpopulate();for(var a=0;a<this.children.length;++a)this.children[a]._attach();delete this._shouldRefreshChildren}this._listItemNode&&(this._listItemNode.classList.add("expanded"),this._childrenListNode&&this._childrenListNode.parentNode!=this._listItemNode.parentNode&&this.parent._childrenListNode.insertBefore(this._childrenListNode,this._listItemNode.nextSibling)),this._childrenListNode&&this._childrenListNode.classList.add("expanded"),this.onexpand()}},TreeElement.prototype.expandRecursively=function(a){var b=this,c={},d=0;for(isNaN(a)&&(a=3);b;)a>d&&b.expand(),b=b.traverseNextTreeElement(!1,this,d>=a,c),d+=c.depthChange},TreeElement.prototype.hasAncestor=function(a){if(!a)return!1;for(var b=this.parent;b;){if(a===b)return!0;b=b.parent}return!1},TreeElement.prototype.reveal=function(){for(var a=this.parent;a&&!a.root;)a.expanded||a.expand(),a=a.parent;this.onreveal()},TreeElement.prototype.revealed=function(){for(var a=this.parent;a&&!a.root;){if(!a.expanded)return!1;a=a.parent}return!0},TreeElement.prototype.selectOnMouseDown=function(a){this.select(!1,!0)&&a.consume(!0)},TreeElement.prototype.select=function(a,b){return this.treeOutline&&this.selectable&&!this.selected?(this.treeOutline.selectedTreeElement&&this.treeOutline.selectedTreeElement.deselect(),this.selected=!0,a||this.treeOutline._childrenListNode.focus(),this.treeOutline?(this.treeOutline.selectedTreeElement=this,this._listItemNode&&this._listItemNode.classList.add("selected"),this.onselect(b)):!1):!1},TreeElement.prototype.revealAndSelect=function(a){this.reveal(),this.select(a)},TreeElement.prototype.deselect=function(){return this.treeOutline&&this.treeOutline.selectedTreeElement===this&&this.selected?(this.selected=!1,this.treeOutline.selectedTreeElement=null,this._listItemNode&&this._listItemNode.classList.remove("selected"),!0):!1},TreeElement.prototype.onpopulate=function(){},TreeElement.prototype.onenter=function(){return!1},TreeElement.prototype.ondelete=function(){return!1},TreeElement.prototype.onspace=function(){return!1},TreeElement.prototype.onattach=function(){},TreeElement.prototype.onexpand=function(){},TreeElement.prototype.oncollapse=function(){},TreeElement.prototype.ondblclick=function(){return!1},TreeElement.prototype.onreveal=function(){},TreeElement.prototype.onselect=function(){return!1},TreeElement.prototype.traverseNextTreeElement=function(a,b,c,d){!c&&this.hasChildren&&this.onpopulate(),d&&(d.depthChange=0);var e=a?this.revealed()?this.children[0]:null:this.children[0];if(e&&(!a||a&&this.expanded))return d&&(d.depthChange=1),e;if(this===b)return null;if(e=a?this.revealed()?this.nextSibling:null:this.nextSibling)return e;for(e=this;e&&!e.root&&!(a?e.revealed()?e.nextSibling:null:e.nextSibling)&&e.parent!==b;)d&&(d.depthChange-=1),e=e.parent;return e?a?e.revealed()?e.nextSibling:null:e.nextSibling:null},TreeElement.prototype.traversePreviousTreeElement=function(a,b){var c=a?this.revealed()?this.previousSibling:null:this.previousSibling;for(!b&&c&&c.hasChildren&&c.onpopulate();c&&(a?c.revealed()&&c.expanded?c.children[c.children.length-1]:null:c.children[c.children.length-1]);)!b&&c.hasChildren&&c.onpopulate(),c=a?c.revealed()&&c.expanded?c.children[c.children.length-1]:null:c.children[c.children.length-1];return c?c:!this.parent||this.parent.root?null:this.parent},TreeElement.prototype.isEventWithinDisclosureTriangle=function(a){var b=window.getComputedStyle(this._listItemNode).getPropertyCSSValue("padding-left"),c=b?b.getFloatValue(CSSPrimitiveValue.CSS_PX):0,d=this._listItemNode.totalOffsetLeft()+c;return a.pageX>=d&&a.pageX<=d+this.arrowToggleWidth&&this.hasChildren},window.WebInspector={_queryParamsObject:{}},WebInspector.Events={InspectorLoaded:"InspectorLoaded"},WebInspector.queryParam=function(a){return WebInspector._queryParamsObject.hasOwnProperty(a)?WebInspector._queryParamsObject[a]:null},WebInspector.Main=function(){function a(){this._loaded(),window.removeEventListener("DOMContentLoaded",b,!1)}var b=a.bind(this);window.addEventListener("DOMContentLoaded",b,!1)},WebInspector.Main.prototype={_registerModules:function(){var a;Capabilities.isMainFrontend?(a=["main","elements","network","sources","timeline","profiles","resources","audits","console","codemirror","extensions","settings"],WebInspector.experimentsSettings.layersPanel.isEnabled()&&a.push("layers")):a=["main","sources","timeline","profiles","console","codemirror"],WebInspector.moduleManager.registerModules(a)},_createGlobalStatusBarItems:function(){WebInspector.inspectElementModeController&&WebInspector.inspectorView.appendToLeftToolbar(WebInspector.inspectElementModeController.toggleSearchButton.element),WebInspector.inspectorView.appendToRightToolbar(WebInspector.settingsController.statusBarItem),WebInspector.dockController.element&&WebInspector.inspectorView.appendToRightToolbar(WebInspector.dockController.element),this._screencastController&&WebInspector.inspectorView.appendToRightToolbar(this._screencastController.statusBarItem())},_createRootView:function(){var a=new WebInspector.RootView;this._rootSplitView=new WebInspector.SplitView(!1,!0,WebInspector.dockController.canDock()?"InspectorView.splitViewState":"InspectorView.dummySplitViewState",300,300),this._rootSplitView.show(a.element),WebInspector.inspectorView.show(this._rootSplitView.sidebarElement());var b=new WebInspector.InspectedPagePlaceholder;b.show(this._rootSplitView.mainElement()),WebInspector.dockController.addEventListener(WebInspector.DockController.Events.DockSideChanged,this._updateRootSplitViewOnDockSideChange,this),this._updateRootSplitViewOnDockSideChange(),a.attachToBody()},_updateRootSplitViewOnDockSideChange:function(){var a=WebInspector.dockController.dockSide();return a===WebInspector.DockController.State.Undocked?(this._rootSplitView.toggleResizer(this._rootSplitView.resizerElement(),!1),this._rootSplitView.toggleResizer(WebInspector.inspectorView.topResizerElement(),!1),void this._rootSplitView.hideMain()):(this._rootSplitView.setVertical(a===WebInspector.DockController.State.DockedToLeft||a===WebInspector.DockController.State.DockedToRight),this._rootSplitView.setSecondIsSidebar(a===WebInspector.DockController.State.DockedToRight||a===WebInspector.DockController.State.DockedToBottom),this._rootSplitView.toggleResizer(this._rootSplitView.resizerElement(),!0),this._rootSplitView.toggleResizer(WebInspector.inspectorView.topResizerElement(),a===WebInspector.DockController.State.DockedToBottom),void this._rootSplitView.showBoth())},_calculateWorkerInspectorTitle:function(){function a(a,b,c){return a||c?void console.error(a):void 0}var b="location.href";WebInspector.queryParam("isSharedWorker")&&(b+=" + (this.name ? ' (' + this.name + ')' : '')"),RuntimeAgent.invoke_evaluate({expression:b,doNotPauseOnExceptionsAndMuteConsole:!0,returnByValue:!0},a)},_loadCompletedForWorkers:function(){function a(){this._calculateWorkerInspectorTitle()}WebInspector.queryParam("workerPaused")?(DebuggerAgent.pause(),RuntimeAgent.run(a.bind(this))):Capabilities.isMainFrontend||a.call(this)},_resetErrorAndWarningCounts:function(){WebInspector.inspectorView.setErrorAndWarningCounts(0,0)},_updateErrorAndWarningCounts:function(){var a=WebInspector.console.errors,b=WebInspector.console.warnings;WebInspector.inspectorView.setErrorAndWarningCounts(a,b)},_debuggerPaused:function(){WebInspector.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this),WebInspector.inspectorView.showPanel("sources")},_loaded:function(){if(!InspectorFrontendHost.sendMessageToEmbedder){var a=new WebInspector.HelpScreen(WebInspector.UIString("Incompatible Chrome version")),b=a.contentElement.createChild("p","help-section");return b.textContent=WebInspector.UIString("Please upgrade to a newer Chrome version (you might need a Dev or Canary build)."),void a.showModal()}InspectorBackend.loadFromJSONIfNeeded("../protocol.json"),WebInspector.dockController=new WebInspector.DockController(!!WebInspector.queryParam("can_dock"));var c=this._doLoadedDone.bind(this),d=WebInspector.queryParam("dedicatedWorkerId");if(d)return void new WebInspector.ExternalWorkerConnection(d,c);var e;if(WebInspector.queryParam("ws"))e="ws://"+WebInspector.queryParam("ws");else if(WebInspector.queryParam("page")){var f=WebInspector.queryParam("page"),g=WebInspector.queryParam("host")||window.location.host;e="ws://"+g+"/devtools/page/"+f}return e?(document.body.classList.add("remote"),void new InspectorBackendClass.WebSocketConnection(e,c)):InspectorFrontendHost.isStub?(InspectorFrontendAPI.dispatchQueryParameters(WebInspector.queryParam("dispatch")),void new InspectorBackendClass.StubConnection(c)):void new InspectorBackendClass.MainConnection(c)},_doLoadedDone:function(a){function b(a){WebInspector._disconnectedScreenWithReasonWasShown||new WebInspector.RemoteDebuggingTerminatedScreen(a.data.reason).showModal()}a.addEventListener(InspectorBackendClass.Connection.Events.Disconnected,b),InspectorBackend.setConnection(a),WebInspector.installPortStyles(),WebInspector.queryParam("toolbarColor")&&WebInspector.queryParam("textColor")&&WebInspector.setToolbarColors(WebInspector.queryParam("toolbarColor"),WebInspector.queryParam("textColor")),WebInspector.targetManager=new WebInspector.TargetManager,WebInspector.targetManager.createTarget(a,this._doLoadedDoneWithCapabilities.bind(this))},_doLoadedDoneWithCapabilities:function(a){function b(){function b(b){a.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,d),b.hide()}var c=new WebInspector.WorkerTerminatedScreen,d=b.bind(null,c);a.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,d),c.showModal()}function c(){WebInspector.settingsController&&WebInspector.settingsController.resize()}function d(){WebInspector.console.show()}function e(){function a(){PageAgent.setShowViewportSizeOnResize(!0,WebInspector.settings.showMetricsRulers.get())}WebInspector.inspectorView.showInitialPanel(),WebInspector.overridesSupport.hasActiveOverrides()&&WebInspector.inspectorView.showViewInDrawer("emulation",!0),WebInspector.settings.showMetricsRulers.addChangeListener(a),a(),this._screencastController&&this._screencastController.initialize()}(new WebInspector.VersionController).updateVersion(),WebInspector.shortcutsScreen=new WebInspector.ShortcutsScreen,this._registerShortcuts(),WebInspector.shortcutsScreen.section(WebInspector.UIString("Console")),WebInspector.shortcutsScreen.section(WebInspector.UIString("Elements Panel")),WebInspector.ShortcutsScreen.registerShortcuts(),WebInspector.experimentsSettings.workersInMainWindow.isEnabled()&&new WebInspector.WorkerTargetManager(a,WebInspector.targetManager),WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._resetErrorAndWarningCounts,this),WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._updateErrorAndWarningCounts,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this),WebInspector.networkLog=new WebInspector.NetworkLog,WebInspector.zoomManager=new WebInspector.ZoomManager,WebInspector.advancedSearchController=new WebInspector.AdvancedSearchController,InspectorBackend.registerInspectorDispatcher(this),WebInspector.isolatedFileSystemManager=new WebInspector.IsolatedFileSystemManager,WebInspector.isolatedFileSystemDispatcher=new WebInspector.IsolatedFileSystemDispatcher(WebInspector.isolatedFileSystemManager),WebInspector.workspace=new WebInspector.Workspace(WebInspector.isolatedFileSystemManager.mapping()),WebInspector.cssModel=new WebInspector.CSSStyleModel(WebInspector.workspace),WebInspector.timelineManager=new WebInspector.TimelineManager,WebInspector.tracingAgent=new WebInspector.TracingAgent,Capabilities.isMainFrontend?(WebInspector.inspectElementModeController=new WebInspector.InspectElementModeController,WebInspector.workerFrontendManager=new WebInspector.WorkerFrontendManager):a.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkerDisconnected,b),WebInspector.settingsController=new WebInspector.SettingsController,WebInspector.domBreakpointsSidebarPane=new WebInspector.DOMBreakpointsSidebarPane;var f=WebInspector.UIString("a panel chosen automatically"),g=WebInspector.settings.createSetting("openLinkHandler",f);WebInspector.openAnchorLocationRegistry=new WebInspector.HandlerRegistry(g),WebInspector.openAnchorLocationRegistry.registerHandler(f,function(){return!1}),WebInspector.Linkifier.setLinkHandler(new WebInspector.HandlerRegistry.LinkHandler),new WebInspector.WorkspaceController(WebInspector.workspace),WebInspector.fileSystemWorkspaceProvider=new WebInspector.FileSystemWorkspaceProvider(WebInspector.isolatedFileSystemManager,WebInspector.workspace),WebInspector.networkWorkspaceProvider=new WebInspector.SimpleWorkspaceProvider(WebInspector.workspace,WebInspector.projectTypes.Network),new WebInspector.NetworkUISourceCodeProvider(WebInspector.networkWorkspaceProvider,WebInspector.workspace),WebInspector.breakpointManager=new WebInspector.BreakpointManager(WebInspector.settings.breakpoints,WebInspector.debuggerModel,WebInspector.workspace),WebInspector.scriptSnippetModel=new WebInspector.ScriptSnippetModel(WebInspector.workspace),WebInspector.overridesSupport=new WebInspector.OverridesSupport,WebInspector.overridesSupport.applyInitialOverrides(),new WebInspector.DebuggerScriptMapping(WebInspector.debuggerModel,WebInspector.workspace,WebInspector.networkWorkspaceProvider),WebInspector.liveEditSupport=new WebInspector.LiveEditSupport(WebInspector.workspace),new WebInspector.CSSStyleSheetMapping(WebInspector.cssModel,WebInspector.workspace,WebInspector.networkWorkspaceProvider),new WebInspector.PresentationConsoleMessageHelper(WebInspector.workspace),WebInspector.settings.initializeBackendSettings(),this._registerModules(),WebInspector.KeyboardShortcut.registerActions(),WebInspector.panels={},WebInspector.inspectorView=new WebInspector.InspectorView,a.canScreencast?this._screencastController=new WebInspector.ScreencastController:this._createRootView(),this._createGlobalStatusBarItems(),this._addMainEventListeners(document),window.addEventListener("resize",c,!0);var h=document.getElementById("error-warning-count");h.addEventListener("click",d,!1),this._updateErrorAndWarningCounts(),WebInspector.extensionServerProxy.setFrontendReady(),WebInspector.databaseModel=new WebInspector.DatabaseModel,WebInspector.domStorageModel=new WebInspector.DOMStorageModel,WebInspector.cpuProfilerModel=new WebInspector.CPUProfilerModel,InspectorAgent.enable(e.bind(this)),this._loadCompletedForWorkers(),InspectorFrontendAPI.loadCompleted(),WebInspector.notifications.dispatchEventToListeners(WebInspector.NotificationService.Events.InspectorLoaded)},_documentClick:function(a){function b(){if(!WebInspector.isBeingEdited(a.target)&&!WebInspector.openAnchorLocationRegistry.dispatch({url:c.href,lineNumber:c.lineNumber})){var b=WebInspector.workspace.uiSourceCodeForURL(c.href);if(b)return void WebInspector.Revealer.reveal(new WebInspector.UILocation(b,c.lineNumber||0,c.columnNumber||0));var d=WebInspector.resourceForURL(c.href);if(d)return void WebInspector.Revealer.reveal(d);var e=WebInspector.networkLog.requestForURL(c.href);return e?void WebInspector.Revealer.reveal(e):void InspectorFrontendHost.openInNewTab(c.href)}}var c=a.target.enclosingNodeOrSelfWithNodeName("a");if(c&&c.href&&"_blank"!==c.target)return a.consume(!0),WebInspector.followLinkTimeout&&clearTimeout(WebInspector.followLinkTimeout),c.preventFollowOnDoubleClick?void(1===a.detail&&(WebInspector.followLinkTimeout=setTimeout(b,333))):void b()},_registerShortcuts:function(){var a=WebInspector.KeyboardShortcut,b=WebInspector.shortcutsScreen.section(WebInspector.UIString("All Panels")),c=[a.makeDescriptor("[",a.Modifiers.CtrlOrMeta),a.makeDescriptor("]",a.Modifiers.CtrlOrMeta)];b.addRelatedKeys(c,WebInspector.UIString("Go to the panel to the left/right")),c=[a.makeDescriptor("[",a.Modifiers.CtrlOrMeta|a.Modifiers.Alt),a.makeDescriptor("]",a.Modifiers.CtrlOrMeta|a.Modifiers.Alt)],b.addRelatedKeys(c,WebInspector.UIString("Go back/forward in panel history"));var d=WebInspector.UIString("Show console");b.addKey(a.makeDescriptor(a.Keys.Tilde,a.Modifiers.Ctrl),d);var e=WebInspector.experimentsSettings.doNotOpenDrawerOnEsc.isEnabled(),f=WebInspector.UIString(e?"Hide drawer":"Toggle drawer");b.addKey(a.makeDescriptor(a.Keys.Esc),f),b.addKey(a.makeDescriptor("f",a.Modifiers.CtrlOrMeta),WebInspector.UIString("Search"));var g=WebInspector.AdvancedSearchController.createShortcut();b.addKey(g,WebInspector.UIString("Search across all sources"));var h=WebInspector.InspectElementModeController.createShortcut();b.addKey(h,WebInspector.UIString("Select node to inspect"));var i=WebInspector.KeyboardShortcut.makeDescriptor("o",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta);b.addKey(i,WebInspector.UIString("Go to source")),WebInspector.isMac()&&(c=[a.makeDescriptor("g",a.Modifiers.Meta),a.makeDescriptor("g",a.Modifiers.Meta|a.Modifiers.Shift)],b.addRelatedKeys(c,WebInspector.UIString("Find next/previous")))},_handleZoomEvent:function(a){switch(a.keyCode){case 107:case 187:return InspectorFrontendHost.zoomIn(),!0;case 109:case 189:return InspectorFrontendHost.zoomOut(),!0;case 48:case 96:if(!a.shiftKey)return InspectorFrontendHost.resetZoom(),!0}return!1},_postDocumentKeyDown:function(a){if(!a.handled){if(!WebInspector.Dialog.currentInstance()&&WebInspector.inspectorView.currentPanel()&&(WebInspector.inspectorView.currentPanel().handleShortcut(a),a.handled))return void a.consume(!0);if(!(!WebInspector.Dialog.currentInstance()&&WebInspector.advancedSearchController.handleShortcut(a)||!WebInspector.Dialog.currentInstance()&&WebInspector.inspectElementModeController&&WebInspector.inspectElementModeController.handleShortcut(a))){var b=WebInspector.KeyboardShortcut.eventHasCtrlOrMeta(a)&&!a.altKey&&!InspectorFrontendHost.isStub;return!WebInspector.Dialog.currentInstance()&&b&&this._handleZoomEvent(a)?void a.consume(!0):void WebInspector.KeyboardShortcut.handleShortcut(a)}}},_documentCanCopy:function(a){WebInspector.inspectorView.currentPanel()&&WebInspector.inspectorView.currentPanel().handleCopyEvent&&a.preventDefault()},_documentCopy:function(a){WebInspector.inspectorView.currentPanel()&&WebInspector.inspectorView.currentPanel().handleCopyEvent&&WebInspector.inspectorView.currentPanel().handleCopyEvent(a)},_contextMenuEventFired:function(a){(a.handled||a.target.classList.contains("popup-glasspane"))&&a.preventDefault()},_inspectNodeRequested:function(a){this._updateFocusedNode(a.data)},_updateFocusedNode:function(a){var b=WebInspector.domModel.nodeForId(a);console.assert(b),WebInspector.Revealer.reveal(b)},_addMainEventListeners:function(a){a.addEventListener("keydown",this._postDocumentKeyDown.bind(this),!1),a.addEventListener("beforecopy",this._documentCanCopy.bind(this),!0),a.addEventListener("copy",this._documentCopy.bind(this),!1),a.addEventListener("contextmenu",this._contextMenuEventFired.bind(this),!0),a.addEventListener("click",this._documentClick.bind(this),!1)},inspect:function(a,b){function c(a){f.stopOmittingDefaultSelection(),WebInspector.Revealer.reveal(WebInspector.domModel.nodeForId(a)),WebInspector.inspectorView.drawerVisible()||WebInspector._notFirstInspectElement||InspectorFrontendHost.inspectElementCompleted(),WebInspector._notFirstInspectElement=!0,e.release()}function d(a,b){if(e.release(),a)return void console.error(a);var c=WebInspector.debuggerModel.rawLocationToUILocation(b.location);c&&WebInspector.inspectorView.panel("sources").showUILocation(c,!0)}var e=WebInspector.RemoteObject.fromPayload(a);if("node"===e.subtype){e.pushNodeToFrontend(c);var f=WebInspector.inspectorView.panel("elements");return f.omitDefaultSelection(),void WebInspector.inspectorView.setCurrentPanel(f)}return"function"===e.type?void DebuggerAgent.getFunctionDetails(e.objectId,d):(b.copyToClipboard&&InspectorFrontendHost.copyText(e.value),void e.release())},detached:function(a){WebInspector._disconnectedScreenWithReasonWasShown=!0,new WebInspector.RemoteDebuggingTerminatedScreen(a).showModal()},targetCrashed:function(){new WebInspector.HelpScreenUntilReload(WebInspector.UIString("Inspected target crashed"),WebInspector.UIString("Inspected target has crashed. Once it reloads we will attach to it automatically.")).showModal()
},evaluateForTestInFrontend:function(a,b){WebInspector.evaluateForTestInFrontend(a,b)}},WebInspector.reload=function(){InspectorAgent.reset(),window.location.reload()},WebInspector.Main.ReloadActionDelegate=function(){},WebInspector.Main.ReloadActionDelegate.prototype={handleAction:function(){return WebInspector.Dialog.currentInstance()||(WebInspector.debuggerModel.skipAllPauses(!0,!0),WebInspector.resourceTreeModel.reloadPage(!1)),!0}},WebInspector.Main.HardReloadActionDelegate=function(){},WebInspector.Main.HardReloadActionDelegate.prototype={handleAction:function(){return WebInspector.Dialog.currentInstance()||(WebInspector.debuggerModel.skipAllPauses(!0,!0),WebInspector.resourceTreeModel.reloadPage(!0)),!0}},WebInspector.Main.DebugReloadActionDelegate=function(){},WebInspector.Main.DebugReloadActionDelegate.prototype={handleAction:function(){return WebInspector.reload(),!0}},new WebInspector.Main,window.DEBUG=!0,WebInspector.__defineGetter__("inspectedPageURL",function(){return WebInspector.resourceTreeModel.inspectedPageURL()}),WebInspector.panel=function(a){return WebInspector.inspectorView.panel(a)},WebInspector.ModuleManager=function(a){this._modules=[],this._modulesMap={},this._extensions=[],this._cachedTypeClasses={},this._descriptorsMap={};for(var b=0;b<a.length;++b)this._descriptorsMap[a[b].name]=a[b]},WebInspector.ModuleManager.prototype={registerModules:function(a){for(var b=0;b<a.length;++b)this.registerModule(a[b])},registerModule:function(a){if(!this._descriptorsMap[a])throw new Error("Module is not defined: "+a+" "+(new Error).stack);var b=new WebInspector.ModuleManager.Module(this,this._descriptorsMap[a]);this._modules.push(b),this._modulesMap[a]=b},loadModule:function(a){this._modulesMap[a]._load()},extensions:function(a,b){function c(c){return c._type!==a&&c._typeClass()!==a?!1:!b||c.isApplicable(b)}return this._extensions.filter(c)},extension:function(a,b){return this.extensions(a,b)[0]||null},instances:function(a,b){function c(a){return a.instance()}return this.extensions(a,b).filter(c).map(c)},instance:function(a,b){var c=this.extension(a,b);return c?c.instance():null},orderComparator:function(a,b,c){function d(a,b){return a in f&&b in f?f[a]-f[b]:a in f?-1:b in f?1:a.compareTo(b)}for(var e=this.extensions(a),f={},g=0;g<e.length;++g){var h=e[g].descriptor();f[h[b]]=h[c]}return d},resolve:function(a){if(!this._cachedTypeClasses[a])try{this._cachedTypeClasses[a]=window.eval(a.substring(1))}catch(b){}return this._cachedTypeClasses[a]}},WebInspector.ModuleManager.ModuleDescriptor=function(){this.name,this.extensions,this.scripts},WebInspector.ModuleManager.ExtensionDescriptor=function(){this.type,this.className,this.contextTypes},WebInspector.ModuleManager.Module=function(a,b){this._manager=a,this._descriptor=b,this._name=b.name;for(var c=b.extensions,d=0;c&&d<c.length;++d)this._manager._extensions.push(new WebInspector.ModuleManager.Extension(this,c[d]));this._loaded=!1},WebInspector.ModuleManager.Module.prototype={name:function(){return this._name},_load:function(){if(!this._loaded){if(this._isLoading){var a=Error.stackTraceLimit;return Error.stackTraceLimit=50,console.assert(!1,"Module "+this._name+" is loaded from itself: "+(new Error).stack),void(Error.stackTraceLimit=a)}this._isLoading=!0;for(var b=this._descriptor.scripts,c=0;b&&c<b.length;++c)loadScript(b[c]);this._isLoading=!1,this._loaded=!0}}},WebInspector.ModuleManager.Extension=function(a,b){this._module=a,this._descriptor=b,this._type=b.type,this._hasTypeClass=!!this._type.startsWith("@"),this._className=b.className||null},WebInspector.ModuleManager.Extension.prototype={descriptor:function(){return this._descriptor},module:function(){return this._module},_typeClass:function(){return this._hasTypeClass?this._module._manager.resolve(this._type):null},isApplicable:function(a){var b=this._descriptor.contextTypes;if(!b)return!0;for(var c=0;c<b.length;++c){var d=window.eval(b[c]);if(a instanceof d)return!0}return!1},instance:function(){if(!this._className)return null;if(!this._instance){this._module._load();var a=window.eval(this._className);if(!(a instanceof Function))return null;this._instance=new a}return this._instance}},WebInspector.Renderer=function(){},WebInspector.Renderer.prototype={render:function(){}},WebInspector.Revealer=function(){},WebInspector.Revealer.reveal=function(a,b){if(a){var c=WebInspector.moduleManager.instance(WebInspector.Revealer,a);c&&c.reveal(a,b)}},WebInspector.Revealer.prototype={reveal:function(){}},WebInspector.ActionDelegate=function(){},WebInspector.ActionDelegate.prototype={handleAction:function(){}},WebInspector.moduleManager=new WebInspector.ModuleManager(allDescriptors),WebInspector.platform=function(){return WebInspector._platform||(WebInspector._platform=InspectorFrontendHost.platform()),WebInspector._platform},WebInspector.isMac=function(){return"undefined"==typeof WebInspector._isMac&&(WebInspector._isMac="mac"===WebInspector.platform()),WebInspector._isMac},WebInspector.isWin=function(){return"undefined"==typeof WebInspector._isWin&&(WebInspector._isWin="windows"===WebInspector.platform()),WebInspector._isWin},WebInspector.PlatformFlavor={WindowsVista:"windows-vista",MacTiger:"mac-tiger",MacLeopard:"mac-leopard",MacSnowLeopard:"mac-snowleopard",MacLion:"mac-lion"},WebInspector.platformFlavor=function(){function a(){const a=navigator.userAgent;if("windows"===WebInspector.platform()){var b=a.match(/Windows NT (\d+)\.(?:\d+)/);return b&&b[1]>=6?WebInspector.PlatformFlavor.WindowsVista:null}if("mac"===WebInspector.platform()){var b=a.match(/Mac OS X\s*(?:(\d+)_(\d+))?/);if(!b||10!=b[1])return WebInspector.PlatformFlavor.MacSnowLeopard;switch(Number(b[2])){case 4:return WebInspector.PlatformFlavor.MacTiger;case 5:return WebInspector.PlatformFlavor.MacLeopard;case 6:return WebInspector.PlatformFlavor.MacSnowLeopard;case 7:return WebInspector.PlatformFlavor.MacLion;case 8:case 9:default:return""}}}return WebInspector._platformFlavor||(WebInspector._platformFlavor=a()),WebInspector._platformFlavor},WebInspector.port=function(){return WebInspector._port||(WebInspector._port=InspectorFrontendHost.port()),WebInspector._port},WebInspector.fontFamily=function(){if(WebInspector._fontFamily)return WebInspector._fontFamily;switch(WebInspector.platform()){case"linux":WebInspector._fontFamily="Ubuntu, Arial, sans-serif";break;case"mac":WebInspector._fontFamily="'Lucida Grande', sans-serif";break;case"windows":WebInspector._fontFamily="'Segoe UI', Tahoma, sans-serif"}return WebInspector._fontFamily},WebInspector.Geometry={},WebInspector.Geometry._Eps=1e-5,WebInspector.Geometry.Vector=function(a,b,c){this.x=a,this.y=b,this.z=c},WebInspector.Geometry.Vector.prototype={length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var a=this.length();a<=WebInspector.Geometry._Eps||(this.x/=a,this.y/=a,this.z/=a)}},WebInspector.Geometry.EulerAngles=function(a,b,c){this.alpha=a,this.beta=b,this.gamma=c},WebInspector.Geometry.EulerAngles.fromRotationMatrix=function(a){var b=Math.atan2(a.m23,a.m33),c=Math.atan2(-a.m13,Math.sqrt(a.m11*a.m11+a.m12*a.m12)),d=Math.atan2(a.m12,a.m11);return new WebInspector.Geometry.EulerAngles(WebInspector.Geometry.radToDeg(d),WebInspector.Geometry.radToDeg(b),WebInspector.Geometry.radToDeg(c))},WebInspector.Geometry.scalarProduct=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z},WebInspector.Geometry.crossProduct=function(a,b){var c=a.y*b.z-a.z*b.y,d=a.z*b.x-a.x*b.z,e=a.x*b.y-a.y*b.x;return new WebInspector.Geometry.Vector(c,d,e)},WebInspector.Geometry.calculateAngle=function(a,b){var c=a.length(),d=b.length();if(c<=WebInspector.Geometry._Eps||d<=WebInspector.Geometry._Eps)return 0;var e=WebInspector.Geometry.scalarProduct(a,b)/c/d;return Math.abs(e)>1?0:WebInspector.Geometry.radToDeg(Math.acos(e))},WebInspector.Geometry.radToDeg=function(a){return 180*a/Math.PI},WebInspector.UIString=function(a){return String.vsprintf(a,Array.prototype.slice.call(arguments,1))},WebInspector.Object=function(){},WebInspector.Object.prototype={addEventListener:function(a,b,c){b||console.assert(!1),this._listeners||(this._listeners={}),this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({thisObject:c,listener:b})},removeEventListener:function(a,b,c){if(console.assert(b),this._listeners&&this._listeners[a]){for(var d=this._listeners[a],e=0;e<d.length;++e)b&&d[e].listener===b&&d[e].thisObject===c?d.splice(e,1):!b&&c&&d[e].thisObject===c&&d.splice(e,1);d.length||delete this._listeners[a]}},removeAllListeners:function(){delete this._listeners},hasEventListeners:function(a){return this._listeners&&this._listeners[a]?!0:!1},dispatchEventToListeners:function(a,b){if(!this._listeners||!this._listeners[a])return!1;for(var c=new WebInspector.Event(this,a,b),d=this._listeners[a].slice(0),e=0;e<d.length&&(d[e].listener.call(d[e].thisObject,c),!c._stoppedPropagation);++e);return c.defaultPrevented}},WebInspector.Event=function(a,b,c){this.target=a,this.type=b,this.data=c,this.defaultPrevented=!1,this._stoppedPropagation=!1},WebInspector.Event.prototype={stopPropagation:function(){this._stoppedPropagation=!0},preventDefault:function(){this.defaultPrevented=!0},consume:function(a){this.stopPropagation(),a&&this.preventDefault()}},WebInspector.EventTarget=function(){},WebInspector.EventTarget.prototype={addEventListener:function(){},removeEventListener:function(){},removeAllListeners:function(){},hasEventListeners:function(){},dispatchEventToListeners:function(){}},InspectorBackendClass.prototype={_initProtocolAgentsConstructor:function(){window.Protocol={},window.Protocol.Agents=function(a){this._agentsMap=a}},_addAgentGetterMethodToProtocolAgentsPrototype:function(a){function b(){return this._agentsMap[a]}function c(b){this.registerDispatcher(a,b)}for(var d=0;d<a.length&&a[d].toLowerCase()!==a[d];)++d;var e=a.substr(0,d).toLowerCase()+a.slice(d)+"Agent";window.Protocol.Agents.prototype[e]=b,window.Protocol.Agents.prototype["register"+a+"Dispatcher"]=c},connection:function(){if(!this._connection)throw"Main connection was not initialized";return this._connection},setConnection:function(a){this._connection=a,this._connection.registerAgentsOn(window);for(var b in this._enums){var c=b.split(".");window[c[0]+"Agent"][c[1]]=this._enums[b]}},_agentPrototype:function(a){return this._agentPrototypes[a]||(this._agentPrototypes[a]=new InspectorBackendClass.AgentPrototype(a),this._addAgentGetterMethodToProtocolAgentsPrototype(a)),this._agentPrototypes[a]},_dispatcherPrototype:function(a){return this._dispatcherPrototypes[a]||(this._dispatcherPrototypes[a]=new InspectorBackendClass.DispatcherPrototype),this._dispatcherPrototypes[a]},registerCommand:function(a,b,c,d){var e=a.split(".");this._agentPrototype(e[0]).registerCommand(e[1],b,c,d),this._initialized=!0},registerEnum:function(a,b){this._enums[a]=b,this._initialized=!0},registerEvent:function(a,b){var c=a.split(".")[0];this._dispatcherPrototype(c).registerEvent(a,b),this._initialized=!0},registerDomainDispatcher:function(){},loadFromJSONIfNeeded:function(jsonUrl){if(!this._initialized){var xhr=new XMLHttpRequest;xhr.open("GET",jsonUrl,!1),xhr.send(null);var schema=JSON.parse(xhr.responseText),code=InspectorBackendClass._generateCommands(schema);eval(code)}},wrapClientCallback:function(a,b,c,d){function e(e,f){return e?(console.error(b+e),void a(d)):void a(c?new c(f):f)}return e}},InspectorBackendClass._generateCommands=function(a){function b(a,b,c){return[b,c][a].toUpperCase()}function c(a,c){for(var d=[],e=0;e<c.length;++e){var f=c[e],g=f.replace(/-(\w)/g,b.bind(null,1)).toTitleCase();g=g.replace(/HTML|XML|WML|API/gi,b.bind(null,0)),d.push(g+': "'+f+'"')}return'InspectorBackend.registerEnum("'+a+'", {'+d.join(", ")+"});"}for(var d={integer:"number",array:"object"},e={},f=[],g=a.domains||[],h=0;h<g.length;++h)for(var i=g[h],j=0;i.types&&j<i.types.length;++j){var k=i.types[j];e[i.domain+"."+k.id]=d[k.type]||k.type}for(var h=0;h<g.length;++h){for(var i=g[h],l=i.types||[],j=0;j<l.length;++j){var k=l[j];if("string"===k.type&&k["enum"])f.push(c(i.domain+"."+k.id,k["enum"]));else if("object"===k.type)for(var m=k.properties||[],n=0;n<m.length;++n){var o=m[n];"string"===o.type&&o["enum"]&&f.push(c(i.domain+"."+k.id+o.name.toTitleCase(),o["enum"]))}}for(var p=i.commands||[],j=0;j<p.length;++j){for(var q=p[j],r=q.parameters,s=[],n=0;r&&n<r.length;++n){var k,t=r[n];if(t.type)k=d[t.type]||t.type;else{var u=t.$ref;k=-1!==u.indexOf(".")?e[u]:e[i.domain+"."+u]}var v='{"name": "'+t.name+'", "type": "'+k+'", "optional": '+(t.optional?"true":"false")+"}";s.push(v)}for(var w=[],x=q.returns||[],n=0;n<x.length;++n){var t=x[n];w.push('"'+t.name+'"')}var y=String(Boolean(q.error));f.push('InspectorBackend.registerCommand("'+i.domain+"."+q.name+'", ['+s.join(", ")+"], ["+w.join(", ")+"], "+y+");")}for(var j=0;i.events&&j<i.events.length;++j){for(var z=i.events[j],s=[],n=0;z.parameters&&n<z.parameters.length;++n){var t=z.parameters[n];s.push('"'+t.name+'"')}f.push('InspectorBackend.registerEvent("'+i.domain+"."+z.name+'", ['+s.join(", ")+"]);")}f.push("InspectorBackend.register"+i.domain+'Dispatcher = InspectorBackend.registerDomainDispatcher.bind(InspectorBackend, "'+i.domain+'");')}return f.join("\n")},InspectorBackendClass.Connection=function(){this._lastMessageId=1,this._pendingResponsesCount=0,this._agents={},this._dispatchers={},this._callbacks={},this._initialize(InspectorBackend._agentPrototypes,InspectorBackend._dispatcherPrototypes)},InspectorBackendClass.Connection.Events={Disconnected:"Disconnected"},InspectorBackendClass.Connection.prototype={_initialize:function(a,b){for(var c in a)this._agents[c]=Object.create(a[c]),this._agents[c].setConnection(this);for(var c in b)this._dispatchers[c]=Object.create(b[c])},registerAgentsOn:function(a){for(var b in this._agents)a[b+"Agent"]=this._agents[b]},nextMessageId:function(){return this._lastMessageId++},agent:function(a){return this._agents[a]},agentsMap:function(){return this._agents},_wrapCallbackAndSendMessageObject:function(a,b,c,d){var e={};e.method=b,c&&(e.params=c);var f=this._wrap(d,a,b),g=this.nextMessageId();e.id=g,InspectorBackendClass.Options.dumpInspectorProtocolMessages&&console.log("frontend: "+JSON.stringify(e)),this.sendMessage(e),++this._pendingResponsesCount,this._callbacks[g]=f},_wrap:function(a,b,c){return a||(a=function(){}),a.methodName=c,a.domain=b,InspectorBackendClass.Options.dumpInspectorTimeStats&&(a.sendRequestTime=Date.now()),a},sendMessage:function(){throw"Not implemented"},reportProtocolError:function(a){console.error("Protocol Error: the message with wrong id. Message =  "+JSON.stringify(a))},dispatch:function(a){InspectorBackendClass.Options.dumpInspectorProtocolMessages&&console.log("backend: "+("string"==typeof a?a:JSON.stringify(a)));var b="string"==typeof a?JSON.parse(a):a;if("id"in b){var c=this._callbacks[b.id];if(!c)return void this.reportProtocolError(b);var d;return InspectorBackendClass.Options.dumpInspectorTimeStats&&(d=Date.now()),this.agent(c.domain).dispatchResponse(b.id,b,c.methodName,c),--this._pendingResponsesCount,delete this._callbacks[b.id],InspectorBackendClass.Options.dumpInspectorTimeStats&&console.log("time-stats: "+c.methodName+" = "+(d-c.sendRequestTime)+" + "+(Date.now()-d)),void(this._scripts&&!this._pendingResponsesCount&&this.runAfterPendingDispatches())}var e=b.method.split("."),f=e[0];return f in this._dispatchers?void this._dispatchers[f].dispatch(e[1],b):void console.error("Protocol Error: the message "+b.method+" is for non-existing domain '"+f+"'")},registerDispatcher:function(a,b){this._dispatchers[a]&&this._dispatchers[a].setDomainDispatcher(b)},runAfterPendingDispatches:function(a){if(this._scripts||(this._scripts=[]),a&&this._scripts.push(a),!this._pendingResponsesCount){var b=this._scripts;this._scripts=[];for(var c=0;c<b.length;++c)b[c].call(this)}},fireDisconnected:function(a){this.dispatchEventToListeners(InspectorBackendClass.Connection.Events.Disconnected,{reason:a})},__proto__:WebInspector.Object.prototype},InspectorBackendClass.MainConnection=function(a){InspectorBackendClass.Connection.call(this),a(this)},InspectorBackendClass.MainConnection.prototype={sendMessage:function(a){var b=JSON.stringify(a);InspectorFrontendHost.sendMessageToBackend(b)},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.WebSocketConnection=function(a,b){InspectorBackendClass.Connection.call(this),this._socket=new WebSocket(a),this._socket.onmessage=this._onMessage.bind(this),this._socket.onerror=this._onError.bind(this),this._socket.onopen=b.bind(null,this),this._socket.onclose=this.fireDisconnected.bind(this,"websocket_closed")},InspectorBackendClass.WebSocketConnection.prototype={_onMessage:function(a){var b=a.data;this.dispatch(b)},_onError:function(a){console.error(a)},sendMessage:function(a){var b=JSON.stringify(a);this._socket.send(b)},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.StubConnection=function(a){InspectorBackendClass.Connection.call(this),a(this)},InspectorBackendClass.StubConnection.prototype={sendMessage:function(a){JSON.stringify(a);setTimeout(this._echoResponse.bind(this,a),0)},_echoResponse:function(a){this.dispatch(a)},__proto__:InspectorBackendClass.Connection.prototype},InspectorBackendClass.AgentPrototype=function(a){this._replyArgs={},this._hasErrorData={},this._domain=a},InspectorBackendClass.AgentPrototype.prototype={setConnection:function(a){this._connection=a},registerCommand:function(a,b,c,d){function e(){var a=[g,b].concat(Array.prototype.slice.call(arguments));InspectorBackendClass.AgentPrototype.prototype._sendMessageToBackend.apply(this,a)}function f(){var a=[g].concat(Array.prototype.slice.call(arguments));InspectorBackendClass.AgentPrototype.prototype._invoke.apply(this,a)}var g=this._domain+"."+a;this[a]=e,this["invoke_"+a]=f,this._replyArgs[g]=c,d&&(this._hasErrorData[g]=!0)},_sendMessageToBackend:function(a,b){for(var c=Array.prototype.slice.call(arguments,2),d=c.length&&"function"==typeof c[c.length-1]?c.pop():null,e={},f=!1,g=0;g<b.length;++g){var h=b[g],i=h.name,j=h.type,k=h.optional;if(!c.length&&!k)return void console.error("Protocol Error: Invalid number of arguments for method '"+a+"' call. It must have the following arguments '"+JSON.stringify(b)+"'.");var l=c.shift();if(!k||"undefined"!=typeof l){if(typeof l!==j)return void console.error("Protocol Error: Invalid type of argument '"+i+"' for method '"+a+"' call. It must be '"+j+"' but it is '"+typeof l+"'.");e[i]=l,f=!0}}return 1!==c.length||d||"undefined"==typeof c[0]?void this._connection._wrapCallbackAndSendMessageObject(this._domain,a,f?e:null,d):void console.error("Protocol Error: Optional callback argument for method '"+a+"' call must be a function but its type is '"+typeof c[0]+"'.")},_invoke:function(a,b,c){this._connection._wrapCallbackAndSendMessageObject(this._domain,a,b,c)},dispatchResponse:function(a,b,c,d){b.error&&-32e3!==b.error.code&&console.error("Request with id = "+b.id+" failed. "+JSON.stringify(b.error));var e=[];if(e[0]=b.error?b.error.message:null,this._hasErrorData[c]&&(e[1]=b.error?b.error.data:null),b.result)for(var f=this._replyArgs[c]||[],g=0;g<f.length;++g)e.push(b.result[f[g]]);d.apply(null,e)}},InspectorBackendClass.DispatcherPrototype=function(){this._eventArgs={},this._dispatcher=null},InspectorBackendClass.DispatcherPrototype.prototype={registerEvent:function(a,b){this._eventArgs[a]=b},setDomainDispatcher:function(a){this._dispatcher=a},dispatch:function(a,b){if(this._dispatcher){if(!(a in this._dispatcher))return void console.error("Protocol Error: Attempted to dispatch an unimplemented method '"+b.method+"'");if(!this._eventArgs[b.method])return void console.error("Protocol Error: Attempted to dispatch an unspecified method '"+b.method+"'");var c=[];if(b.params)for(var d=this._eventArgs[b.method],e=0;e<d.length;++e)c.push(b.params[d[e]]);var f;InspectorBackendClass.Options.dumpInspectorTimeStats&&(f=Date.now()),this._dispatcher[a].apply(this._dispatcher,c),InspectorBackendClass.Options.dumpInspectorTimeStats&&console.log("time-stats: "+b.method+" = "+(Date.now()-f))}}},InspectorBackendClass.Options={dumpInspectorTimeStats:!1,dumpInspectorProtocolMessages:!1},InspectorBackend=new InspectorBackendClass,InspectorBackend.registerInspectorDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Inspector"),InspectorBackend.registerEvent("Inspector.evaluateForTestInFrontend",["testCallId","script"]),InspectorBackend.registerEvent("Inspector.inspect",["object","hints"]),InspectorBackend.registerEvent("Inspector.detached",["reason"]),InspectorBackend.registerEvent("Inspector.targetCrashed",[]),InspectorBackend.registerCommand("Inspector.enable",[],[],!1),InspectorBackend.registerCommand("Inspector.disable",[],[],!1),InspectorBackend.registerCommand("Inspector.reset",[],[],!1),InspectorBackend.registerMemoryDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Memory"),InspectorBackend.registerCommand("Memory.getDOMCounters",[],["documents","nodes","jsEventListeners"],!1),InspectorBackend.registerPageDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Page"),InspectorBackend.registerEnum("Page.ResourceType",{Document:"Document",Stylesheet:"Stylesheet",Image:"Image",Font:"Font",Script:"Script",XHR:"XHR",WebSocket:"WebSocket",Other:"Other"}),InspectorBackend.registerEnum("Page.UsageItemId",{Filesystem:"filesystem",Database:"database",Appcache:"appcache",Indexeddatabase:"indexeddatabase"}),InspectorBackend.registerEvent("Page.domContentEventFired",["timestamp"]),InspectorBackend.registerEvent("Page.loadEventFired",["timestamp"]),InspectorBackend.registerEvent("Page.frameAttached",["frameId","parentFrameId"]),InspectorBackend.registerEvent("Page.frameNavigated",["frame"]),InspectorBackend.registerEvent("Page.frameDetached",["frameId"]),InspectorBackend.registerEvent("Page.frameStartedLoading",["frameId"]),InspectorBackend.registerEvent("Page.frameStoppedLoading",["frameId"]),InspectorBackend.registerEvent("Page.frameScheduledNavigation",["frameId","delay"]),InspectorBackend.registerEvent("Page.frameClearedScheduledNavigation",["frameId"]),InspectorBackend.registerEvent("Page.frameResized",[]),InspectorBackend.registerEvent("Page.javascriptDialogOpening",["message"]),InspectorBackend.registerEvent("Page.javascriptDialogClosed",[]),InspectorBackend.registerEvent("Page.scriptsEnabled",["isEnabled"]),InspectorBackend.registerEvent("Page.screencastFrame",["data","metadata"]),InspectorBackend.registerEvent("Page.screencastVisibilityChanged",["visible"]),InspectorBackend.registerCommand("Page.enable",[],[],!1),InspectorBackend.registerCommand("Page.disable",[],[],!1),InspectorBackend.registerCommand("Page.addScriptToEvaluateOnLoad",[{name:"scriptSource",type:"string",optional:!1}],["identifier"],!1),InspectorBackend.registerCommand("Page.removeScriptToEvaluateOnLoad",[{name:"identifier",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.reload",[{name:"ignoreCache",type:"boolean",optional:!0},{name:"scriptToEvaluateOnLoad",type:"string",optional:!0},{name:"scriptPreprocessor",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.navigate",[{name:"url",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.getNavigationHistory",[],["currentIndex","entries"],!1),InspectorBackend.registerCommand("Page.navigateToHistoryEntry",[{name:"entryId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.getCookies",[],["cookies"],!1),InspectorBackend.registerCommand("Page.deleteCookie",[{name:"cookieName",type:"string",optional:!1},{name:"url",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.getResourceTree",[],["frameTree"],!1),InspectorBackend.registerCommand("Page.getResourceContent",[{name:"frameId",type:"string",optional:!1},{name:"url",type:"string",optional:!1}],["content","base64Encoded"],!1),InspectorBackend.registerCommand("Page.searchInResource",[{name:"frameId",type:"string",optional:!1},{name:"url",type:"string",optional:!1},{name:"query",type:"string",optional:!1},{name:"caseSensitive",type:"boolean",optional:!0},{name:"isRegex",type:"boolean",optional:!0}],["result"],!1),InspectorBackend.registerCommand("Page.setDocumentContent",[{name:"frameId",type:"string",optional:!1},{name:"html",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setDeviceMetricsOverride",[{name:"width",type:"number",optional:!1},{name:"height",type:"number",optional:!1},{name:"deviceScaleFactor",type:"number",optional:!1},{name:"emulateViewport",type:"boolean",optional:!1},{name:"fitWindow",type:"boolean",optional:!1},{name:"textAutosizing",type:"boolean",optional:!0},{name:"fontScaleFactor",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.setShowPaintRects",[{name:"result",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setShowDebugBorders",[{name:"show",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setShowFPSCounter",[{name:"show",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setContinuousPaintingEnabled",[{name:"enabled",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setShowScrollBottleneckRects",[{name:"show",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.getScriptExecutionStatus",[],["result"],!1),InspectorBackend.registerCommand("Page.setScriptExecutionDisabled",[{name:"value",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setGeolocationOverride",[{name:"latitude",type:"number",optional:!0},{name:"longitude",type:"number",optional:!0},{name:"accuracy",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.clearGeolocationOverride",[],[],!1),InspectorBackend.registerCommand("Page.setDeviceOrientationOverride",[{name:"alpha",type:"number",optional:!1},{name:"beta",type:"number",optional:!1},{name:"gamma",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.clearDeviceOrientationOverride",[],[],!1),InspectorBackend.registerCommand("Page.setTouchEmulationEnabled",[{name:"enabled",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.setEmulatedMedia",[{name:"media",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Page.captureScreenshot",[],["data"],!1),InspectorBackend.registerCommand("Page.canScreencast",[],["result"],!1),InspectorBackend.registerCommand("Page.startScreencast",[{name:"format",type:"string",optional:!0},{name:"quality",type:"number",optional:!0},{name:"maxWidth",type:"number",optional:!0},{name:"maxHeight",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.stopScreencast",[],[],!1),InspectorBackend.registerCommand("Page.handleJavaScriptDialog",[{name:"accept",type:"boolean",optional:!1},{name:"promptText",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.setShowViewportSizeOnResize",[{name:"show",type:"boolean",optional:!1},{name:"showGrid",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Page.queryUsageAndQuota",[{name:"securityOrigin",type:"string",optional:!1}],["quota","usage"],!1),InspectorBackend.registerRuntimeDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Runtime"),InspectorBackend.registerEnum("Runtime.RemoteObjectType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean"}),InspectorBackend.registerEnum("Runtime.RemoteObjectSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date"}),InspectorBackend.registerEnum("Runtime.PropertyPreviewType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean",Accessor:"accessor"}),InspectorBackend.registerEnum("Runtime.PropertyPreviewSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date"}),InspectorBackend.registerEnum("Runtime.CallArgumentType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean"}),InspectorBackend.registerEvent("Runtime.executionContextCreated",["context"]),InspectorBackend.registerCommand("Runtime.evaluate",[{name:"expression",type:"string",optional:!1},{name:"objectGroup",type:"string",optional:!0},{name:"includeCommandLineAPI",type:"boolean",optional:!0},{name:"doNotPauseOnExceptionsAndMuteConsole",type:"boolean",optional:!0},{name:"contextId",type:"number",optional:!0},{name:"returnByValue",type:"boolean",optional:!0},{name:"generatePreview",type:"boolean",optional:!0}],["result","wasThrown"],!1),InspectorBackend.registerCommand("Runtime.callFunctionOn",[{name:"objectId",type:"string",optional:!1},{name:"functionDeclaration",type:"string",optional:!1},{name:"arguments",type:"object",optional:!0},{name:"doNotPauseOnExceptionsAndMuteConsole",type:"boolean",optional:!0},{name:"returnByValue",type:"boolean",optional:!0},{name:"generatePreview",type:"boolean",optional:!0}],["result","wasThrown"],!1),InspectorBackend.registerCommand("Runtime.getProperties",[{name:"objectId",type:"string",optional:!1},{name:"ownProperties",type:"boolean",optional:!0},{name:"accessorPropertiesOnly",type:"boolean",optional:!0}],["result","internalProperties"],!1),InspectorBackend.registerCommand("Runtime.releaseObject",[{name:"objectId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Runtime.releaseObjectGroup",[{name:"objectGroup",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Runtime.run",[],[],!1),InspectorBackend.registerCommand("Runtime.enable",[],[],!1),InspectorBackend.registerCommand("Runtime.disable",[],[],!1),InspectorBackend.registerConsoleDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Console"),InspectorBackend.registerEnum("Console.ConsoleMessageSource",{XML:"xml",Javascript:"javascript",Network:"network",ConsoleAPI:"console-api",Storage:"storage",Appcache:"appcache",Rendering:"rendering",Css:"css",Security:"security",Other:"other",Deprecation:"deprecation"}),InspectorBackend.registerEnum("Console.ConsoleMessageLevel",{Log:"log",Warning:"warning",Error:"error",Debug:"debug",Info:"info"}),InspectorBackend.registerEnum("Console.ConsoleMessageType",{Log:"log",Dir:"dir",DirXML:"dirxml",Table:"table",Trace:"trace",Clear:"clear",StartGroup:"startGroup",StartGroupCollapsed:"startGroupCollapsed",EndGroup:"endGroup",Assert:"assert",Profile:"profile",ProfileEnd:"profileEnd"}),InspectorBackend.registerEvent("Console.messageAdded",["message"]),InspectorBackend.registerEvent("Console.messageRepeatCountUpdated",["count","timestamp"]),InspectorBackend.registerEvent("Console.messagesCleared",[]),InspectorBackend.registerCommand("Console.enable",[],[],!1),InspectorBackend.registerCommand("Console.disable",[],[],!1),InspectorBackend.registerCommand("Console.clearMessages",[],[],!1),InspectorBackend.registerCommand("Console.setMonitoringXHREnabled",[{name:"enabled",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Console.addInspectedNode",[{name:"nodeId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Console.addInspectedHeapObject",[{name:"heapObjectId",type:"number",optional:!1}],[],!1),InspectorBackend.registerNetworkDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Network"),InspectorBackend.registerEnum("Network.InitiatorType",{Parser:"parser",Script:"script",Other:"other"}),InspectorBackend.registerEvent("Network.requestWillBeSent",["requestId","frameId","loaderId","documentURL","request","timestamp","initiator","redirectResponse"]),InspectorBackend.registerEvent("Network.requestServedFromCache",["requestId"]),InspectorBackend.registerEvent("Network.responseReceived",["requestId","frameId","loaderId","timestamp","type","response"]),InspectorBackend.registerEvent("Network.dataReceived",["requestId","timestamp","dataLength","encodedDataLength"]),InspectorBackend.registerEvent("Network.loadingFinished",["requestId","timestamp","encodedDataLength"]),InspectorBackend.registerEvent("Network.loadingFailed",["requestId","timestamp","errorText","canceled"]),InspectorBackend.registerEvent("Network.webSocketWillSendHandshakeRequest",["requestId","timestamp","request"]),InspectorBackend.registerEvent("Network.webSocketHandshakeResponseReceived",["requestId","timestamp","response"]),InspectorBackend.registerEvent("Network.webSocketCreated",["requestId","url"]),InspectorBackend.registerEvent("Network.webSocketClosed",["requestId","timestamp"]),InspectorBackend.registerEvent("Network.webSocketFrameReceived",["requestId","timestamp","response"]),InspectorBackend.registerEvent("Network.webSocketFrameError",["requestId","timestamp","errorMessage"]),InspectorBackend.registerEvent("Network.webSocketFrameSent",["requestId","timestamp","response"]),InspectorBackend.registerCommand("Network.enable",[],[],!1),InspectorBackend.registerCommand("Network.disable",[],[],!1),InspectorBackend.registerCommand("Network.setUserAgentOverride",[{name:"userAgent",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Network.setExtraHTTPHeaders",[{name:"headers",type:"object",optional:!1}],[],!1),InspectorBackend.registerCommand("Network.getResponseBody",[{name:"requestId",type:"string",optional:!1}],["body","base64Encoded"],!1),InspectorBackend.registerCommand("Network.replayXHR",[{name:"requestId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Network.canClearBrowserCache",[],["result"],!1),InspectorBackend.registerCommand("Network.clearBrowserCache",[],[],!1),InspectorBackend.registerCommand("Network.canClearBrowserCookies",[],["result"],!1),InspectorBackend.registerCommand("Network.clearBrowserCookies",[],[],!1),InspectorBackend.registerCommand("Network.setCacheDisabled",[{name:"cacheDisabled",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Network.loadResourceForFrontend",[{name:"frameId",type:"string",optional:!1},{name:"url",type:"string",optional:!1},{name:"requestHeaders",type:"object",optional:!0}],["statusCode","responseHeaders","content"],!1),InspectorBackend.registerDatabaseDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Database"),InspectorBackend.registerEvent("Database.addDatabase",["database"]),InspectorBackend.registerCommand("Database.enable",[],[],!1),InspectorBackend.registerCommand("Database.disable",[],[],!1),InspectorBackend.registerCommand("Database.getDatabaseTableNames",[{name:"databaseId",type:"string",optional:!1}],["tableNames"],!1),InspectorBackend.registerCommand("Database.executeSQL",[{name:"databaseId",type:"string",optional:!1},{name:"query",type:"string",optional:!1}],["columnNames","values","sqlError"],!1),InspectorBackend.registerIndexedDBDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"IndexedDB"),InspectorBackend.registerEnum("IndexedDB.KeyType",{Number:"number",String:"string",Date:"date",Array:"array"}),InspectorBackend.registerEnum("IndexedDB.KeyPathType",{Null:"null",String:"string",Array:"array"}),InspectorBackend.registerCommand("IndexedDB.enable",[],[],!1),InspectorBackend.registerCommand("IndexedDB.disable",[],[],!1),InspectorBackend.registerCommand("IndexedDB.requestDatabaseNames",[{name:"securityOrigin",type:"string",optional:!1}],["databaseNames"],!1),InspectorBackend.registerCommand("IndexedDB.requestDatabase",[{name:"securityOrigin",type:"string",optional:!1},{name:"databaseName",type:"string",optional:!1}],["databaseWithObjectStores"],!1),InspectorBackend.registerCommand("IndexedDB.requestData",[{name:"securityOrigin",type:"string",optional:!1},{name:"databaseName",type:"string",optional:!1},{name:"objectStoreName",type:"string",optional:!1},{name:"indexName",type:"string",optional:!1},{name:"skipCount",type:"number",optional:!1},{name:"pageSize",type:"number",optional:!1},{name:"keyRange",type:"object",optional:!0}],["objectStoreDataEntries","hasMore"],!1),InspectorBackend.registerCommand("IndexedDB.clearObjectStore",[{name:"securityOrigin",type:"string",optional:!1},{name:"databaseName",type:"string",optional:!1},{name:"objectStoreName",type:"string",optional:!1}],[],!1),InspectorBackend.registerDOMStorageDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"DOMStorage"),InspectorBackend.registerEvent("DOMStorage.domStorageItemsCleared",["storageId"]),InspectorBackend.registerEvent("DOMStorage.domStorageItemRemoved",["storageId","key"]),InspectorBackend.registerEvent("DOMStorage.domStorageItemAdded",["storageId","key","newValue"]),InspectorBackend.registerEvent("DOMStorage.domStorageItemUpdated",["storageId","key","oldValue","newValue"]),InspectorBackend.registerCommand("DOMStorage.enable",[],[],!1),InspectorBackend.registerCommand("DOMStorage.disable",[],[],!1),InspectorBackend.registerCommand("DOMStorage.getDOMStorageItems",[{name:"storageId",type:"object",optional:!1}],["entries"],!1),InspectorBackend.registerCommand("DOMStorage.setDOMStorageItem",[{name:"storageId",type:"object",optional:!1},{name:"key",type:"string",optional:!1},{name:"value",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMStorage.removeDOMStorageItem",[{name:"storageId",type:"object",optional:!1},{name:"key",type:"string",optional:!1}],[],!1),InspectorBackend.registerApplicationCacheDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"ApplicationCache"),InspectorBackend.registerEvent("ApplicationCache.applicationCacheStatusUpdated",["frameId","manifestURL","status"]),InspectorBackend.registerEvent("ApplicationCache.networkStateUpdated",["isNowOnline"]),InspectorBackend.registerCommand("ApplicationCache.getFramesWithManifests",[],["frameIds"],!1),InspectorBackend.registerCommand("ApplicationCache.enable",[],[],!1),InspectorBackend.registerCommand("ApplicationCache.getManifestForFrame",[{name:"frameId",type:"string",optional:!1}],["manifestURL"],!1),InspectorBackend.registerCommand("ApplicationCache.getApplicationCacheForFrame",[{name:"frameId",type:"string",optional:!1}],["applicationCache"],!1),InspectorBackend.registerFileSystemDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"FileSystem"),InspectorBackend.registerCommand("FileSystem.enable",[],[],!1),InspectorBackend.registerCommand("FileSystem.disable",[],[],!1),InspectorBackend.registerCommand("FileSystem.requestFileSystemRoot",[{name:"origin",type:"string",optional:!1},{name:"type",type:"string",optional:!1}],["errorCode","root"],!1),InspectorBackend.registerCommand("FileSystem.requestDirectoryContent",[{name:"url",type:"string",optional:!1}],["errorCode","entries"],!1),InspectorBackend.registerCommand("FileSystem.requestMetadata",[{name:"url",type:"string",optional:!1}],["errorCode","metadata"],!1),InspectorBackend.registerCommand("FileSystem.requestFileContent",[{name:"url",type:"string",optional:!1},{name:"readAsText",type:"boolean",optional:!1},{name:"start",type:"number",optional:!0},{name:"end",type:"number",optional:!0},{name:"charset",type:"string",optional:!0}],["errorCode","content","charset"],!1),InspectorBackend.registerCommand("FileSystem.deleteEntry",[{name:"url",type:"string",optional:!1}],["errorCode"],!1),InspectorBackend.registerDOMDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"DOM"),InspectorBackend.registerEnum("DOM.PseudoType",{Before:"before",After:"after"}),InspectorBackend.registerEnum("DOM.ShadowRootType",{UserAgent:"user-agent",Author:"author"}),InspectorBackend.registerEvent("DOM.documentUpdated",[]),InspectorBackend.registerEvent("DOM.inspectNodeRequested",["nodeId"]),InspectorBackend.registerEvent("DOM.setChildNodes",["parentId","nodes"]),InspectorBackend.registerEvent("DOM.attributeModified",["nodeId","name","value"]),InspectorBackend.registerEvent("DOM.attributeRemoved",["nodeId","name"]),InspectorBackend.registerEvent("DOM.inlineStyleInvalidated",["nodeIds"]),InspectorBackend.registerEvent("DOM.characterDataModified",["nodeId","characterData"]),InspectorBackend.registerEvent("DOM.childNodeCountUpdated",["nodeId","childNodeCount"]),InspectorBackend.registerEvent("DOM.childNodeInserted",["parentNodeId","previousNodeId","node"]),InspectorBackend.registerEvent("DOM.childNodeRemoved",["parentNodeId","nodeId"]),InspectorBackend.registerEvent("DOM.shadowRootPushed",["hostId","root"]),InspectorBackend.registerEvent("DOM.shadowRootPopped",["hostId","rootId"]),InspectorBackend.registerEvent("DOM.pseudoElementAdded",["parentId","pseudoElement"]),InspectorBackend.registerEvent("DOM.pseudoElementRemoved",["parentId","pseudoElementId"]),InspectorBackend.registerCommand("DOM.getDocument",[],["root"],!1),InspectorBackend.registerCommand("DOM.requestChildNodes",[{name:"nodeId",type:"number",optional:!1},{name:"depth",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.querySelector",[{name:"nodeId",type:"number",optional:!1},{name:"selector",type:"string",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.querySelectorAll",[{name:"nodeId",type:"number",optional:!1},{name:"selector",type:"string",optional:!1}],["nodeIds"],!1),InspectorBackend.registerCommand("DOM.setNodeName",[{name:"nodeId",type:"number",optional:!1},{name:"name",type:"string",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.setNodeValue",[{name:"nodeId",type:"number",optional:!1},{name:"value",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.removeNode",[{name:"nodeId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.setAttributeValue",[{name:"nodeId",type:"number",optional:!1},{name:"name",type:"string",optional:!1},{name:"value",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.setAttributesAsText",[{name:"nodeId",type:"number",optional:!1},{name:"text",type:"string",optional:!1},{name:"name",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.removeAttribute",[{name:"nodeId",type:"number",optional:!1},{name:"name",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.getEventListenersForNode",[{name:"nodeId",type:"number",optional:!1},{name:"objectGroup",type:"string",optional:!0}],["listeners"],!1),InspectorBackend.registerCommand("DOM.getOuterHTML",[{name:"nodeId",type:"number",optional:!1}],["outerHTML"],!1),InspectorBackend.registerCommand("DOM.setOuterHTML",[{name:"nodeId",type:"number",optional:!1},{name:"outerHTML",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.performSearch",[{name:"query",type:"string",optional:!1}],["searchId","resultCount"],!1),InspectorBackend.registerCommand("DOM.getSearchResults",[{name:"searchId",type:"string",optional:!1},{name:"fromIndex",type:"number",optional:!1},{name:"toIndex",type:"number",optional:!1}],["nodeIds"],!1),InspectorBackend.registerCommand("DOM.discardSearchResults",[{name:"searchId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.requestNode",[{name:"objectId",type:"string",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.setInspectModeEnabled",[{name:"enabled",type:"boolean",optional:!1},{name:"inspectUAShadowDOM",type:"boolean",optional:!0},{name:"highlightConfig",type:"object",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.highlightRect",[{name:"x",type:"number",optional:!1},{name:"y",type:"number",optional:!1},{name:"width",type:"number",optional:!1},{name:"height",type:"number",optional:!1},{name:"color",type:"object",optional:!0},{name:"outlineColor",type:"object",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.highlightQuad",[{name:"quad",type:"object",optional:!1},{name:"color",type:"object",optional:!0},{name:"outlineColor",type:"object",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.highlightNode",[{name:"highlightConfig",type:"object",optional:!1},{name:"nodeId",type:"number",optional:!0},{name:"objectId",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.hideHighlight",[],[],!1),InspectorBackend.registerCommand("DOM.highlightFrame",[{name:"frameId",type:"string",optional:!1},{name:"contentColor",type:"object",optional:!0},{name:"contentOutlineColor",type:"object",optional:!0}],[],!1),InspectorBackend.registerCommand("DOM.pushNodeByPathToFrontend",[{name:"path",type:"string",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.pushNodesByBackendIdsToFrontend",[{name:"backendNodeIds",type:"object",optional:!1}],["nodeIds"],!1),InspectorBackend.registerCommand("DOM.releaseBackendNodeIds",[{name:"nodeGroup",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.resolveNode",[{name:"nodeId",type:"number",optional:!1},{name:"objectGroup",type:"string",optional:!0}],["object"],!1),InspectorBackend.registerCommand("DOM.getAttributes",[{name:"nodeId",type:"number",optional:!1}],["attributes"],!1),InspectorBackend.registerCommand("DOM.moveTo",[{name:"nodeId",type:"number",optional:!1},{name:"targetNodeId",type:"number",optional:!1},{name:"insertBeforeNodeId",type:"number",optional:!0}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.undo",[],[],!1),InspectorBackend.registerCommand("DOM.redo",[],[],!1),InspectorBackend.registerCommand("DOM.markUndoableState",[],[],!1),InspectorBackend.registerCommand("DOM.focus",[{name:"nodeId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.setFileInputFiles",[{name:"nodeId",type:"number",optional:!1},{name:"files",type:"object",optional:!1}],[],!1),InspectorBackend.registerCommand("DOM.getBoxModel",[{name:"nodeId",type:"number",optional:!1}],["model"],!1),InspectorBackend.registerCommand("DOM.getNodeForLocation",[{name:"x",type:"number",optional:!1},{name:"y",type:"number",optional:!1}],["nodeId"],!1),InspectorBackend.registerCommand("DOM.getRelayoutBoundary",[{name:"nodeId",type:"number",optional:!1}],["nodeId"],!1),InspectorBackend.registerCSSDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"CSS"),InspectorBackend.registerEnum("CSS.StyleSheetOrigin",{User:"user",UserAgent:"user-agent",Inspector:"inspector",Regular:"regular"}),InspectorBackend.registerEnum("CSS.CSSMediaSource",{MediaRule:"mediaRule",ImportRule:"importRule",LinkedSheet:"linkedSheet",InlineSheet:"inlineSheet"}),InspectorBackend.registerEvent("CSS.mediaQueryResultChanged",[]),InspectorBackend.registerEvent("CSS.styleSheetChanged",["styleSheetId"]),InspectorBackend.registerEvent("CSS.styleSheetAdded",["header"]),InspectorBackend.registerEvent("CSS.styleSheetRemoved",["styleSheetId"]),InspectorBackend.registerCommand("CSS.enable",[],[],!1),InspectorBackend.registerCommand("CSS.disable",[],[],!1),InspectorBackend.registerCommand("CSS.getMatchedStylesForNode",[{name:"nodeId",type:"number",optional:!1},{name:"includePseudo",type:"boolean",optional:!0},{name:"includeInherited",type:"boolean",optional:!0}],["matchedCSSRules","pseudoElements","inherited"],!1),InspectorBackend.registerCommand("CSS.getInlineStylesForNode",[{name:"nodeId",type:"number",optional:!1}],["inlineStyle","attributesStyle"],!1),InspectorBackend.registerCommand("CSS.getComputedStyleForNode",[{name:"nodeId",type:"number",optional:!1}],["computedStyle"],!1),InspectorBackend.registerCommand("CSS.getPlatformFontsForNode",[{name:"nodeId",type:"number",optional:!1}],["cssFamilyName","fonts"],!1),InspectorBackend.registerCommand("CSS.getStyleSheetText",[{name:"styleSheetId",type:"string",optional:!1}],["text"],!1),InspectorBackend.registerCommand("CSS.setStyleSheetText",[{name:"styleSheetId",type:"string",optional:!1},{name:"text",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("CSS.setPropertyText",[{name:"styleId",type:"object",optional:!1},{name:"propertyIndex",type:"number",optional:!1},{name:"text",type:"string",optional:!1},{name:"overwrite",type:"boolean",optional:!1}],["style"],!1),InspectorBackend.registerCommand("CSS.setRuleSelector",[{name:"ruleId",type:"object",optional:!1},{name:"selector",type:"string",optional:!1}],["rule"],!1),InspectorBackend.registerCommand("CSS.createStyleSheet",[{name:"frameId",type:"string",optional:!1}],["styleSheetId"],!1),InspectorBackend.registerCommand("CSS.addRule",[{name:"styleSheetId",type:"string",optional:!1},{name:"selector",type:"string",optional:!1}],["rule"],!1),InspectorBackend.registerCommand("CSS.forcePseudoState",[{name:"nodeId",type:"number",optional:!1},{name:"forcedPseudoClasses",type:"object",optional:!1}],[],!1),InspectorBackend.registerTimelineDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Timeline"),InspectorBackend.registerEvent("Timeline.eventRecorded",["record"]),InspectorBackend.registerEvent("Timeline.progress",["count"]),InspectorBackend.registerEvent("Timeline.started",["consoleTimeline"]),InspectorBackend.registerEvent("Timeline.stopped",["consoleTimeline"]),InspectorBackend.registerCommand("Timeline.enable",[],[],!1),InspectorBackend.registerCommand("Timeline.disable",[],[],!1),InspectorBackend.registerCommand("Timeline.start",[{name:"maxCallStackDepth",type:"number",optional:!0},{name:"bufferEvents",type:"boolean",optional:!0},{name:"liveEvents",type:"string",optional:!0},{name:"includeCounters",type:"boolean",optional:!0},{name:"includeGPUEvents",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Timeline.stop",[],["events"],!1),InspectorBackend.registerDebuggerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Debugger"),InspectorBackend.registerEnum("Debugger.ScopeType",{Global:"global",Local:"local",With:"with",Closure:"closure",Catch:"catch"}),InspectorBackend.registerEvent("Debugger.globalObjectCleared",[]),InspectorBackend.registerEvent("Debugger.scriptParsed",["scriptId","url","startLine","startColumn","endLine","endColumn","isContentScript","sourceMapURL","hasSourceURL"]),InspectorBackend.registerEvent("Debugger.scriptFailedToParse",["url","scriptSource","startLine","errorLine","errorMessage"]),InspectorBackend.registerEvent("Debugger.breakpointResolved",["breakpointId","location"]),InspectorBackend.registerEvent("Debugger.paused",["callFrames","reason","data","hitBreakpoints","asyncStackTrace"]),InspectorBackend.registerEvent("Debugger.resumed",[]),InspectorBackend.registerCommand("Debugger.enable",[],[],!1),InspectorBackend.registerCommand("Debugger.disable",[],[],!1),InspectorBackend.registerCommand("Debugger.setBreakpointsActive",[{name:"active",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCommand("Debugger.setSkipAllPauses",[{name:"skipped",type:"boolean",optional:!1},{name:"untilReload",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.setBreakpointByUrl",[{name:"lineNumber",type:"number",optional:!1},{name:"url",type:"string",optional:!0},{name:"urlRegex",type:"string",optional:!0},{name:"columnNumber",type:"number",optional:!0},{name:"condition",type:"string",optional:!0},{name:"isAntibreakpoint",type:"boolean",optional:!0}],["breakpointId","locations"],!1),InspectorBackend.registerCommand("Debugger.setBreakpoint",[{name:"location",type:"object",optional:!1},{name:"condition",type:"string",optional:!0}],["breakpointId","actualLocation"],!1),InspectorBackend.registerCommand("Debugger.removeBreakpoint",[{name:"breakpointId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Debugger.continueToLocation",[{name:"location",type:"object",optional:!1},{name:"interstatementLocation",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.stepOver",[{name:"callFrameId",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.stepInto",[],[],!1),InspectorBackend.registerCommand("Debugger.stepOut",[{name:"callFrameId",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.pause",[],[],!1),InspectorBackend.registerCommand("Debugger.resume",[],[],!1),InspectorBackend.registerCommand("Debugger.searchInContent",[{name:"scriptId",type:"string",optional:!1},{name:"query",type:"string",optional:!1},{name:"caseSensitive",type:"boolean",optional:!0},{name:"isRegex",type:"boolean",optional:!0}],["result"],!1),InspectorBackend.registerCommand("Debugger.canSetScriptSource",[],["result"],!1),InspectorBackend.registerCommand("Debugger.setScriptSource",[{name:"scriptId",type:"string",optional:!1},{name:"scriptSource",type:"string",optional:!1},{name:"preview",type:"boolean",optional:!0}],["callFrames","result","asyncStackTrace"],!0),InspectorBackend.registerCommand("Debugger.restartFrame",[{name:"callFrameId",type:"string",optional:!1}],["callFrames","result","asyncStackTrace"],!1),InspectorBackend.registerCommand("Debugger.getScriptSource",[{name:"scriptId",type:"string",optional:!1}],["scriptSource"],!1),InspectorBackend.registerCommand("Debugger.getFunctionDetails",[{name:"functionId",type:"string",optional:!1}],["details"],!1),InspectorBackend.registerCommand("Debugger.setPauseOnExceptions",[{name:"state",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Debugger.evaluateOnCallFrame",[{name:"callFrameId",type:"string",optional:!1},{name:"expression",type:"string",optional:!1},{name:"objectGroup",type:"string",optional:!0},{name:"includeCommandLineAPI",type:"boolean",optional:!0},{name:"doNotPauseOnExceptionsAndMuteConsole",type:"boolean",optional:!0},{name:"returnByValue",type:"boolean",optional:!0},{name:"generatePreview",type:"boolean",optional:!0}],["result","wasThrown"],!1),InspectorBackend.registerCommand("Debugger.compileScript",[{name:"expression",type:"string",optional:!1},{name:"sourceURL",type:"string",optional:!1}],["scriptId","syntaxErrorMessage"],!1),InspectorBackend.registerCommand("Debugger.runScript",[{name:"scriptId",type:"string",optional:!1},{name:"contextId",type:"number",optional:!0},{name:"objectGroup",type:"string",optional:!0},{name:"doNotPauseOnExceptionsAndMuteConsole",type:"boolean",optional:!0}],["result","wasThrown"],!1),InspectorBackend.registerCommand("Debugger.setOverlayMessage",[{name:"message",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.setVariableValue",[{name:"scopeNumber",type:"number",optional:!1},{name:"variableName",type:"string",optional:!1},{name:"newValue",type:"object",optional:!1},{name:"callFrameId",type:"string",optional:!0},{name:"functionObjectId",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.getStepInPositions",[{name:"callFrameId",type:"string",optional:!1}],["stepInPositions"],!1),InspectorBackend.registerCommand("Debugger.getBacktrace",[],["callFrames","asyncStackTrace"],!1),InspectorBackend.registerCommand("Debugger.skipStackFrames",[{name:"script",type:"string",optional:!0}],[],!1),InspectorBackend.registerCommand("Debugger.setAsyncCallStackDepth",[{name:"maxDepth",type:"number",optional:!1}],[],!1),InspectorBackend.registerDOMDebuggerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"DOMDebugger"),InspectorBackend.registerEnum("DOMDebugger.DOMBreakpointType",{SubtreeModified:"subtree-modified",AttributeModified:"attribute-modified",NodeRemoved:"node-removed"}),InspectorBackend.registerCommand("DOMDebugger.setDOMBreakpoint",[{name:"nodeId",type:"number",optional:!1},{name:"type",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.removeDOMBreakpoint",[{name:"nodeId",type:"number",optional:!1},{name:"type",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.setEventListenerBreakpoint",[{name:"eventName",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.removeEventListenerBreakpoint",[{name:"eventName",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.setInstrumentationBreakpoint",[{name:"eventName",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.removeInstrumentationBreakpoint",[{name:"eventName",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.setXHRBreakpoint",[{name:"url",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("DOMDebugger.removeXHRBreakpoint",[{name:"url",type:"string",optional:!1}],[],!1),InspectorBackend.registerProfilerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Profiler"),InspectorBackend.registerEvent("Profiler.consoleProfileStarted",["id","location","title"]),InspectorBackend.registerEvent("Profiler.consoleProfileFinished",["id","location","profile","title"]),InspectorBackend.registerCommand("Profiler.enable",[],[],!1),InspectorBackend.registerCommand("Profiler.disable",[],[],!1),InspectorBackend.registerCommand("Profiler.setSamplingInterval",[{name:"interval",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Profiler.start",[],[],!1),InspectorBackend.registerCommand("Profiler.stop",[],["profile"],!1),InspectorBackend.registerHeapProfilerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"HeapProfiler"),InspectorBackend.registerEvent("HeapProfiler.addHeapSnapshotChunk",["chunk"]),InspectorBackend.registerEvent("HeapProfiler.resetProfiles",[]),InspectorBackend.registerEvent("HeapProfiler.reportHeapSnapshotProgress",["done","total","finished"]),InspectorBackend.registerEvent("HeapProfiler.lastSeenObjectId",["lastSeenObjectId","timestamp"]),InspectorBackend.registerEvent("HeapProfiler.heapStatsUpdate",["statsUpdate"]),InspectorBackend.registerCommand("HeapProfiler.enable",[],[],!1),InspectorBackend.registerCommand("HeapProfiler.disable",[],[],!1),InspectorBackend.registerCommand("HeapProfiler.startTrackingHeapObjects",[{name:"trackAllocations",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("HeapProfiler.stopTrackingHeapObjects",[{name:"reportProgress",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("HeapProfiler.takeHeapSnapshot",[{name:"reportProgress",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("HeapProfiler.collectGarbage",[],[],!1),InspectorBackend.registerCommand("HeapProfiler.getObjectByHeapObjectId",[{name:"objectId",type:"string",optional:!1},{name:"objectGroup",type:"string",optional:!0}],["result"],!1),InspectorBackend.registerCommand("HeapProfiler.getHeapObjectId",[{name:"objectId",type:"string",optional:!1}],["heapSnapshotObjectId"],!1),InspectorBackend.registerWorkerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Worker"),InspectorBackend.registerEvent("Worker.workerCreated",["workerId","url","inspectorConnected"]),InspectorBackend.registerEvent("Worker.workerTerminated",["workerId"]),InspectorBackend.registerEvent("Worker.dispatchMessageFromWorker",["workerId","message"]),InspectorBackend.registerEvent("Worker.disconnectedFromWorker",[]),InspectorBackend.registerCommand("Worker.enable",[],[],!1),InspectorBackend.registerCommand("Worker.disable",[],[],!1),InspectorBackend.registerCommand("Worker.sendMessageToWorker",[{name:"workerId",type:"number",optional:!1},{name:"message",type:"object",optional:!1}],[],!1),InspectorBackend.registerCommand("Worker.canInspectWorkers",[],["result"],!1),InspectorBackend.registerCommand("Worker.connectToWorker",[{name:"workerId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Worker.disconnectFromWorker",[{name:"workerId",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("Worker.setAutoconnectToWorkers",[{name:"value",type:"boolean",optional:!1}],[],!1),InspectorBackend.registerCanvasDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Canvas"),InspectorBackend.registerEnum("Canvas.CallArgumentType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean"}),InspectorBackend.registerEnum("Canvas.CallArgumentSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date"}),InspectorBackend.registerEvent("Canvas.contextCreated",["frameId"]),InspectorBackend.registerEvent("Canvas.traceLogsRemoved",["frameId","traceLogId"]),InspectorBackend.registerCommand("Canvas.enable",[],[],!1),InspectorBackend.registerCommand("Canvas.disable",[],[],!1),InspectorBackend.registerCommand("Canvas.dropTraceLog",[{name:"traceLogId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Canvas.hasUninstrumentedCanvases",[],["result"],!1),InspectorBackend.registerCommand("Canvas.captureFrame",[{name:"frameId",type:"string",optional:!0}],["traceLogId"],!1),InspectorBackend.registerCommand("Canvas.startCapturing",[{name:"frameId",type:"string",optional:!0}],["traceLogId"],!1),InspectorBackend.registerCommand("Canvas.stopCapturing",[{name:"traceLogId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Canvas.getTraceLog",[{name:"traceLogId",type:"string",optional:!1},{name:"startOffset",type:"number",optional:!0},{name:"maxLength",type:"number",optional:!0}],["traceLog"],!1),InspectorBackend.registerCommand("Canvas.replayTraceLog",[{name:"traceLogId",type:"string",optional:!1},{name:"stepNo",type:"number",optional:!1}],["resourceState","replayTime"],!1),InspectorBackend.registerCommand("Canvas.getResourceState",[{name:"traceLogId",type:"string",optional:!1},{name:"resourceId",type:"string",optional:!1}],["resourceState"],!1),InspectorBackend.registerCommand("Canvas.evaluateTraceLogCallArgument",[{name:"traceLogId",type:"string",optional:!1},{name:"callIndex",type:"number",optional:!1},{name:"argumentIndex",type:"number",optional:!1},{name:"objectGroup",type:"string",optional:!0}],["result","resourceState"],!1),InspectorBackend.registerInputDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Input"),InspectorBackend.registerEnum("Input.TouchPointState",{TouchPressed:"touchPressed",TouchReleased:"touchReleased",TouchMoved:"touchMoved",TouchStationary:"touchStationary",TouchCancelled:"touchCancelled"}),InspectorBackend.registerCommand("Input.dispatchKeyEvent",[{name:"type",type:"string",optional:!1},{name:"modifiers",type:"number",optional:!0},{name:"timestamp",type:"number",optional:!0},{name:"text",type:"string",optional:!0},{name:"unmodifiedText",type:"string",optional:!0},{name:"keyIdentifier",type:"string",optional:!0},{name:"windowsVirtualKeyCode",type:"number",optional:!0},{name:"nativeVirtualKeyCode",type:"number",optional:!0},{name:"macCharCode",type:"number",optional:!0},{name:"autoRepeat",type:"boolean",optional:!0},{name:"isKeypad",type:"boolean",optional:!0},{name:"isSystemKey",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Input.dispatchMouseEvent",[{name:"type",type:"string",optional:!1},{name:"x",type:"number",optional:!1},{name:"y",type:"number",optional:!1},{name:"modifiers",type:"number",optional:!0},{name:"timestamp",type:"number",optional:!0},{name:"button",type:"string",optional:!0},{name:"clickCount",type:"number",optional:!0},{name:"deviceSpace",type:"boolean",optional:!0}],[],!1),InspectorBackend.registerCommand("Input.dispatchTouchEvent",[{name:"type",type:"string",optional:!1},{name:"touchPoints",type:"object",optional:!1},{name:"modifiers",type:"number",optional:!0},{name:"timestamp",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Input.dispatchGestureEvent",[{name:"type",type:"string",optional:!1},{name:"x",type:"number",optional:!1},{name:"y",type:"number",optional:!1},{name:"timestamp",type:"number",optional:!0},{name:"deltaX",type:"number",optional:!0},{name:"deltaY",type:"number",optional:!0},{name:"pinchScale",type:"number",optional:!0}],[],!1),InspectorBackend.registerLayerTreeDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"LayerTree"),InspectorBackend.registerEnum("LayerTree.ScrollRectType",{RepaintsOnScroll:"RepaintsOnScroll",TouchEventHandler:"TouchEventHandler",WheelEventHandler:"WheelEventHandler"}),InspectorBackend.registerEvent("LayerTree.layerTreeDidChange",["layers"]),InspectorBackend.registerEvent("LayerTree.layerPainted",["layerId","clip"]),InspectorBackend.registerCommand("LayerTree.enable",[],[],!1),InspectorBackend.registerCommand("LayerTree.disable",[],[],!1),InspectorBackend.registerCommand("LayerTree.compositingReasons",[{name:"layerId",type:"string",optional:!1}],["compositingReasons"],!1),InspectorBackend.registerCommand("LayerTree.makeSnapshot",[{name:"layerId",type:"string",optional:!1}],["snapshotId"],!1),InspectorBackend.registerCommand("LayerTree.releaseSnapshot",[{name:"snapshotId",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("LayerTree.profileSnapshot",[{name:"snapshotId",type:"string",optional:!1},{name:"minRepeatCount",type:"number",optional:!0},{name:"minDuration",type:"number",optional:!0}],["timings"],!1),InspectorBackend.registerCommand("LayerTree.replaySnapshot",[{name:"snapshotId",type:"string",optional:!1},{name:"fromStep",type:"number",optional:!0},{name:"toStep",type:"number",optional:!0}],["dataURL"],!1),InspectorBackend.registerGeolocationDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Geolocation"),InspectorBackend.registerCommand("Geolocation.setGeolocationOverride",[{name:"latitude",type:"number",optional:!0},{name:"longitude",type:"number",optional:!0},{name:"accuracy",type:"number",optional:!0}],[],!1),InspectorBackend.registerCommand("Geolocation.clearGeolocationOverride",[],[],!1),InspectorBackend.registerDeviceOrientationDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"DeviceOrientation"),InspectorBackend.registerCommand("DeviceOrientation.setDeviceOrientationOverride",[{name:"alpha",type:"number",optional:!1},{name:"beta",type:"number",optional:!1},{name:"gamma",type:"number",optional:!1}],[],!1),InspectorBackend.registerCommand("DeviceOrientation.clearDeviceOrientationOverride",[],[],!1),InspectorBackend.registerTracingDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Tracing"),InspectorBackend.registerEvent("Tracing.dataCollected",["value"]),InspectorBackend.registerEvent("Tracing.tracingComplete",[]),InspectorBackend.registerCommand("Tracing.start",[{name:"categories",type:"string",optional:!1},{name:"options",type:"string",optional:!1}],[],!1),InspectorBackend.registerCommand("Tracing.end",[],[],!1),InspectorBackend.registerPowerDispatcher=InspectorBackend.registerDomainDispatcher.bind(InspectorBackend,"Power"),InspectorBackend.registerEvent("Power.dataAvailable",["value"]),InspectorBackend.registerCommand("Power.start",[],[],!1),InspectorBackend.registerCommand("Power.end",[],[],!1),InspectorBackend.registerCommand("Power.canProfilePower",[],["result"],!1);
var InspectorFrontendAPI={_pendingCommands:[],showConsole:function(){InspectorFrontendAPI._runOnceLoaded(function(){WebInspector.inspectorView.showPanel("console")})},enterInspectElementMode:function(){InspectorFrontendAPI._runOnceLoaded(function(){WebInspector.inspectorView.showPanel("elements"),WebInspector.inspectElementModeController&&WebInspector.inspectElementModeController.toggleSearch()})},revealSourceLine:function(a,b,c){InspectorFrontendAPI._runOnceLoaded(function(){function d(e){var f=e.data;f.url===a&&(WebInspector.Revealer.reveal(new WebInspector.UILocation(f,b,c)),WebInspector.workspace.removeEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,d))}var e=WebInspector.workspace.uiSourceCodeForURL(a);return e?void WebInspector.Revealer.reveal(new WebInspector.UILocation(e,b,c)):void WebInspector.workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,d)})},setToolbarColors:function(a,b){WebInspector.setToolbarColors(a,b)},loadTimelineFromURL:function(a){InspectorFrontendAPI._runOnceLoaded(function(){WebInspector.inspectorView.showPanel("timeline").loadFromURL(a)})},setUseSoftMenu:function(a){WebInspector.ContextMenu.setUseSoftMenu(a)},dispatchMessage:function(a){InspectorBackend.connection().dispatch(a)},contextMenuItemSelected:function(a){WebInspector.contextMenuItemSelected(a)},contextMenuCleared:function(){WebInspector.contextMenuCleared()},fileSystemsLoaded:function(a){WebInspector.isolatedFileSystemDispatcher.fileSystemsLoaded(a)},fileSystemRemoved:function(a){WebInspector.isolatedFileSystemDispatcher.fileSystemRemoved(a)},fileSystemAdded:function(a,b){WebInspector.isolatedFileSystemDispatcher.fileSystemAdded(a,b)},indexingTotalWorkCalculated:function(a,b,c){var d=WebInspector.fileSystemWorkspaceProvider.delegate(b);d.indexingTotalWorkCalculated(a,c)},indexingWorked:function(a,b,c){var d=WebInspector.fileSystemWorkspaceProvider.delegate(b);d.indexingWorked(a,c)},indexingDone:function(a,b){var c=WebInspector.fileSystemWorkspaceProvider.delegate(b);c.indexingDone(a)},searchCompleted:function(a,b,c){var d=WebInspector.fileSystemWorkspaceProvider.delegate(b);d.searchCompleted(a,c)},savedURL:function(a){WebInspector.fileManager.savedURL(a)},canceledSaveURL:function(a){WebInspector.fileManager.canceledSaveURL(a)},appendedToURL:function(a){WebInspector.fileManager.appendedToURL(a)},embedderMessageAck:function(a,b){InspectorFrontendHost.embedderMessageAck(a,b)},loadCompleted:function(){InspectorFrontendAPI._isLoaded=!0;for(var a=0;a<InspectorFrontendAPI._pendingCommands.length;++a)InspectorFrontendAPI._pendingCommands[a]();InspectorFrontendAPI._pendingCommands=[],window.opener&&window.opener.postMessage(["loadCompleted"],"*")},dispatchQueryParameters:function(a){a&&InspectorFrontendAPI._dispatch(JSON.parse(window.decodeURI(a)))},evaluateForTest:function(a,b){WebInspector.evaluateForTestInFrontend(a,b)},dispatchMessageAsync:function(a){WebInspector.dispatch(a)},_dispatch:function(a){InspectorFrontendAPI._runOnceLoaded(function(){var b=a.shift();return InspectorFrontendAPI[b].apply(InspectorFrontendAPI,a)})},_runOnceLoaded:function(a){return InspectorFrontendAPI._isLoaded?void a():void InspectorFrontendAPI._pendingCommands.push(a)}};window.opener&&window.dispatchStandaloneTestRunnerMessages&&window.addEventListener("message",onMessageFromOpener,!0),WebInspector.Target=function(a,b){Protocol.Agents.call(this,a.agentsMap()),this._connection=a,this.isMainFrontend=!1,this.pageAgent().canScreencast(this._initializeCapability.bind(this,"canScreencast",null)),WebInspector.experimentsSettings.powerProfiler.isEnabled()&&this.powerAgent().canProfilePower(this._initializeCapability.bind(this,"canProfilePower",null)),this.workerAgent().canInspectWorkers(this._initializeCapability.bind(this,"isMainFrontend",this._loadedWithCapabilities.bind(this,b)))},WebInspector.Target.prototype={_initializeCapability:function(a,b,c,d){this[a]=d,Capabilities[a]||(Capabilities[a]=d),b&&b()},_loadedWithCapabilities:function(a){this.consoleModel=new WebInspector.ConsoleModel(this),WebInspector.console||(WebInspector.console=this.consoleModel),this.networkManager=new WebInspector.NetworkManager(this),WebInspector.networkManager||(WebInspector.networkManager=this.networkManager),this.resourceTreeModel=new WebInspector.ResourceTreeModel(this),WebInspector.resourceTreeModel||(WebInspector.resourceTreeModel=this.resourceTreeModel),this.debuggerModel=new WebInspector.DebuggerModel(this),WebInspector.debuggerModel||(WebInspector.debuggerModel=this.debuggerModel),this.runtimeModel=new WebInspector.RuntimeModel(this),WebInspector.runtimeModel||(WebInspector.runtimeModel=this.runtimeModel),this.domModel=new WebInspector.DOMModel,WebInspector.domModel||(WebInspector.domModel=this.domModel),this.workerManager=new WebInspector.WorkerManager(this,this.isMainFrontend),WebInspector.workerManager||(WebInspector.workerManager=this.workerManager),this.canProfilePower&&(WebInspector.powerProfiler=new WebInspector.PowerProfiler),a&&a(this)},registerDispatcher:function(a,b){this._connection.registerDispatcher(a,b)},isWorkerTarget:function(){return!this.isMainFrontend},__proto__:Protocol.Agents.prototype},WebInspector.TargetManager=function(){WebInspector.Object.call(this),this._targets=[]},WebInspector.TargetManager.Events={TargetAdded:"TargetAdded"},WebInspector.TargetManager.prototype={createTarget:function(a,b){function c(a){b&&b(a),this._targets.push(a),this.dispatchEventToListeners(WebInspector.TargetManager.Events.TargetAdded,a)}new WebInspector.Target(a,c.bind(this))},targets:function(){return this._targets},mainTarget:function(){return this._targets[0]},__proto__:WebInspector.Object.prototype},WebInspector.targetManager,WebInspector.NotificationService=function(){},WebInspector.NotificationService.prototype={__proto__:WebInspector.Object.prototype},WebInspector.NotificationService.Events={InspectorLoaded:"InspectorLoaded",SelectedNodeChanged:"SelectedNodeChanged"},WebInspector.notifications=new WebInspector.NotificationService;var Preferences={maxInlineTextChildLength:80,minSidebarWidth:100,minSidebarHeight:75,applicationTitle:"Developer Tools - %s"},Capabilities={isMainFrontend:!1,canProfilePower:!1};if(WebInspector.Settings=function(){this._eventSupport=new WebInspector.Object,this._registry={},this.colorFormat=this.createSetting("colorFormat","original"),this.consoleHistory=this.createSetting("consoleHistory",[]),this.domWordWrap=this.createSetting("domWordWrap",!0),this.eventListenersFilter=this.createSetting("eventListenersFilter","all"),this.lastViewedScriptFile=this.createSetting("lastViewedScriptFile","application"),this.monitoringXHREnabled=this.createSetting("monitoringXHREnabled",!1),this.preserveConsoleLog=this.createSetting("preserveConsoleLog",!1),this.consoleTimestampsEnabled=this.createSetting("consoleTimestampsEnabled",!1),this.resourcesLargeRows=this.createSetting("resourcesLargeRows",!0),this.resourcesSortOptions=this.createSetting("resourcesSortOptions",{timeOption:"responseTime",sizeOption:"transferSize"}),this.resourceViewTab=this.createSetting("resourceViewTab","preview"),this.showInheritedComputedStyleProperties=this.createSetting("showInheritedComputedStyleProperties",!1),this.showUserAgentStyles=this.createSetting("showUserAgentStyles",!0),this.watchExpressions=this.createSetting("watchExpressions",[]),this.breakpoints=this.createSetting("breakpoints",[]),this.eventListenerBreakpoints=this.createSetting("eventListenerBreakpoints",[]),this.domBreakpoints=this.createSetting("domBreakpoints",[]),this.xhrBreakpoints=this.createSetting("xhrBreakpoints",[]),this.jsSourceMapsEnabled=this.createSetting("sourceMapsEnabled",!0),this.cssSourceMapsEnabled=this.createSetting("cssSourceMapsEnabled",!0),this.cacheDisabled=this.createSetting("cacheDisabled",!1),this.overrideUserAgent=this.createSetting("overrideUserAgent",!1),this.userAgent=this.createSetting("userAgent",""),this.overrideDeviceMetrics=this.createSetting("overrideDeviceMetrics",!1),this.deviceMetrics=this.createSetting("deviceMetrics",""),this.deviceFitWindow=this.createSetting("deviceFitWindow",!0),this.emulateViewport=this.createSetting("emulateViewport",!1),this.emulateTouchEvents=this.createSetting("emulateTouchEvents",!1),this.showUAShadowDOM=this.createSetting("showUAShadowDOM",!1),this.savedURLs=this.createSetting("savedURLs",{}),this.javaScriptDisabled=this.createSetting("javaScriptDisabled",!1),this.overrideGeolocation=this.createSetting("overrideGeolocation",!1),this.geolocationOverride=this.createSetting("geolocationOverride",""),this.overrideDeviceOrientation=this.createSetting("overrideDeviceOrientation",!1),this.deviceOrientationOverride=this.createSetting("deviceOrientationOverride",""),this.showAdvancedHeapSnapshotProperties=this.createSetting("showAdvancedHeapSnapshotProperties",!1),this.highResolutionCpuProfiling=this.createSetting("highResolutionCpuProfiling",!1),this.searchInContentScripts=this.createSetting("searchInContentScripts",!1),this.textEditorIndent=this.createSetting("textEditorIndent","    "),this.textEditorAutoDetectIndent=this.createSetting("textEditorAutoIndentIndent",!0),this.textEditorAutocompletion=this.createSetting("textEditorAutocompletion",!0),this.textEditorBracketMatching=this.createSetting("textEditorBracketMatching",!0),this.cssReloadEnabled=this.createSetting("cssReloadEnabled",!1),this.timelineCaptureStacks=this.createSetting("timelineCaptureStacks",!0),this.timelineLiveUpdate=this.createSetting("timelineLiveUpdate",!0),this.showMetricsRulers=this.createSetting("showMetricsRulers",!1),this.overrideCSSMedia=this.createSetting("overrideCSSMedia",!1),this.emulatedCSSMedia=this.createSetting("emulatedCSSMedia","print"),this.workerInspectorWidth=this.createSetting("workerInspectorWidth",600),this.workerInspectorHeight=this.createSetting("workerInspectorHeight",600),this.messageURLFilters=this.createSetting("messageURLFilters",{}),this.networkHideDataURL=this.createSetting("networkHideDataURL",!1),this.networkResourceTypeFilters=this.createSetting("networkResourceTypeFilters",{}),this.messageLevelFilters=this.createSetting("messageLevelFilters",{}),this.splitVerticallyWhenDockedToRight=this.createSetting("splitVerticallyWhenDockedToRight",!0),this.visiblePanels=this.createSetting("visiblePanels",{}),this.shortcutPanelSwitch=this.createSetting("shortcutPanelSwitch",!1),this.showWhitespacesInEditor=this.createSetting("showWhitespacesInEditor",!1),this.skipStackFramesSwitch=this.createSetting("skipStackFramesSwitch",!1),this.skipStackFramesPattern=this.createRegExpSetting("skipStackFramesPattern",""),this.pauseOnExceptionEnabled=this.createSetting("pauseOnExceptionEnabled",!1),this.pauseOnCaughtException=this.createSetting("pauseOnCaughtException",!1),this.enableAsyncStackTraces=this.createSetting("enableAsyncStackTraces",!1)},WebInspector.Settings.prototype={createSetting:function(a,b){return this._registry[a]||(this._registry[a]=new WebInspector.Setting(a,b,this._eventSupport,window.localStorage)),this._registry[a]},createRegExpSetting:function(a,b,c){return this._registry[a]||(this._registry[a]=new WebInspector.RegExpSetting(a,b,this._eventSupport,window.localStorage,c)),this._registry[a]},createBackendSetting:function(a,b,c){return this._registry[a]||(this._registry[a]=new WebInspector.BackendSetting(a,b,this._eventSupport,window.localStorage,c)),this._registry[a]},initializeBackendSettings:function(){this.showPaintRects=WebInspector.settings.createBackendSetting("showPaintRects",!1,PageAgent.setShowPaintRects.bind(PageAgent)),this.showDebugBorders=WebInspector.settings.createBackendSetting("showDebugBorders",!1,PageAgent.setShowDebugBorders.bind(PageAgent)),this.continuousPainting=WebInspector.settings.createBackendSetting("continuousPainting",!1,PageAgent.setContinuousPaintingEnabled.bind(PageAgent)),this.showFPSCounter=WebInspector.settings.createBackendSetting("showFPSCounter",!1,PageAgent.setShowFPSCounter.bind(PageAgent)),this.showScrollBottleneckRects=WebInspector.settings.createBackendSetting("showScrollBottleneckRects",!1,PageAgent.setShowScrollBottleneckRects.bind(PageAgent))}},WebInspector.Setting=function(a,b,c,d){this._name=a,this._defaultValue=b,this._eventSupport=c,this._storage=d},WebInspector.Setting.prototype={addChangeListener:function(a,b){this._eventSupport.addEventListener(this._name,a,b)},removeChangeListener:function(a,b){this._eventSupport.removeEventListener(this._name,a,b)},get name(){return this._name},get:function(){if("undefined"!=typeof this._value)return this._value;if(this._value=this._defaultValue,this._storage&&this._name in this._storage)try{this._value=JSON.parse(this._storage[this._name])}catch(a){delete this._storage[this._name]}return this._value},set:function(a){if(this._value=a,this._storage)try{this._storage[this._name]=JSON.stringify(a)}catch(b){console.error("Error saving setting with name:"+this._name)}this._eventSupport.dispatchEventToListeners(this._name,a)}},WebInspector.RegExpSetting=function(a,b,c,d,e){WebInspector.Setting.call(this,a,b,c,d),this._regexFlags=e},WebInspector.RegExpSetting.prototype={set:function(a){delete this._regex,WebInspector.Setting.prototype.set.call(this,a)},asRegExp:function(){if("undefined"!=typeof this._regex)return this._regex;this._regex=null;try{this._regex=new RegExp(this.get(),this._regexFlags||"")}catch(a){}return this._regex},__proto__:WebInspector.Setting.prototype},WebInspector.BackendSetting=function(a,b,c,d,e){WebInspector.Setting.call(this,a,b,c,d),this._setterCallback=e;var f=this.get();f!==b&&this.set(f)},WebInspector.BackendSetting.prototype={set:function(a){function b(b){return b?(WebInspector.console.log("Error applying setting "+this._name+": "+b),void this._eventSupport.dispatchEventToListeners(this._name,this._value)):void WebInspector.Setting.prototype.set.call(this,a)}this._setterCallback(a,b.bind(this))},__proto__:WebInspector.Setting.prototype},WebInspector.ExperimentsSettings=function(a){this._experimentsEnabled=a,this._setting=WebInspector.settings.createSetting("experiments",{}),this._experiments=[],this._enabledForTest={},this.fileSystemInspection=this._createExperiment("fileSystemInspection","FileSystem inspection"),this.canvasInspection=this._createExperiment("canvasInspection ","Canvas inspection"),this.frameworksDebuggingSupport=this._createExperiment("frameworksDebuggingSupport","Enable frameworks debugging support"),this.layersPanel=this._createExperiment("layersPanel","Show Layers panel"),this.doNotOpenDrawerOnEsc=this._createExperiment("doNotOpenDrawerWithEsc","Do not open drawer on Esc"),this.showEditorInDrawer=this._createExperiment("showEditorInDrawer","Show editor in drawer"),this.gpuTimeline=this._createExperiment("gpuTimeline","Show GPU data on timeline"),this.applyCustomStylesheet=this._createExperiment("applyCustomStylesheet","Allow custom UI themes"),this.workersInMainWindow=this._createExperiment("workersInMainWindow","Show workers in main window"),this.dockToLeft=this._createExperiment("dockToLeft","Enable dock to left mode"),this.allocationProfiler=this._createExperiment("allocationProfiler","Enable JavaScript heap allocation profiler"),this.timelineFlameChart=this._createExperiment("timelineFlameChart","Enable FlameChart mode in Timeline"),this.heapSnapshotStatistics=this._createExperiment("heapSnapshotStatistics","Show memory breakdown statistics in heap snapshots"),this.timelineNoLiveUpdate=this._createExperiment("timelineNoLiveUpdate","Timeline w/o live update"),this.powerProfiler=this._createExperiment("powerProfiler","Enable power mode in Timeline"),this._cleanUpSetting()},WebInspector.ExperimentsSettings.prototype={get experiments(){return this._experiments.slice()},get experimentsEnabled(){return this._experimentsEnabled},_createExperiment:function(a,b){var c=new WebInspector.Experiment(this,a,b);return this._experiments.push(c),c},isEnabled:function(a){if(this._enabledForTest[a])return!0;if(!this.experimentsEnabled)return!1;var b=this._setting.get();return b[a]},setEnabled:function(a,b){var c=this._setting.get();c[a]=b,this._setting.set(c)},_enableForTest:function(a){this._enabledForTest[a]=!0},_cleanUpSetting:function(){for(var a=this._setting.get(),b={},c=0;c<this._experiments.length;++c){var d=this._experiments[c].name;a[d]&&(b[d]=!0)}this._setting.set(b)}},WebInspector.Experiment=function(a,b,c){this._name=b,this._title=c,this._experimentsSettings=a},WebInspector.Experiment.prototype={get name(){return this._name},get title(){return this._title},isEnabled:function(){return this._experimentsSettings.isEnabled(this._name)},setEnabled:function(a){this._experimentsSettings.setEnabled(this._name,a)},enableForTest:function(){this._experimentsSettings._enableForTest(this._name)}},WebInspector.VersionController=function(){},WebInspector.VersionController.currentVersion=7,WebInspector.VersionController.prototype={updateVersion:function(){for(var a=WebInspector.settings.createSetting("inspectorVersion",0),b=WebInspector.VersionController.currentVersion,c=a.get(),d=this._methodsToRunToUpdateVersion(c,b),e=0;e<d.length;++e)this[d[e]].call(this);a.set(b)},_methodsToRunToUpdateVersion:function(a,b){for(var c=[],d=a;b>d;++d)c.push("_updateVersionFrom"+d+"To"+(d+1));return c},_updateVersionFrom0To1:function(){this._clearBreakpointsWhenTooMany(WebInspector.settings.breakpoints,5e5)},_updateVersionFrom1To2:function(){var a=WebInspector.settings.createSetting("previouslyViewedFiles",[]);a.set([])},_updateVersionFrom2To3:function(){var a=WebInspector.settings.createSetting("fileSystemMapping",{});a.set({}),window.localStorage&&delete window.localStorage.fileMappingEntries},_updateVersionFrom3To4:function(){var a=WebInspector.settings.createSetting("showHeaSnapshotObjectsHiddenProperties",!1).get();WebInspector.settings.showAdvancedHeapSnapshotProperties.set(a)},_updateVersionFrom4To5:function(){if(window.localStorage){var a={FileSystemViewSidebarWidth:"fileSystemViewSplitViewState",canvasProfileViewReplaySplitLocation:"canvasProfileViewReplaySplitViewState",canvasProfileViewSplitLocation:"canvasProfileViewSplitViewState",elementsSidebarWidth:"elementsPanelSplitViewState",StylesPaneSplitRatio:"stylesPaneSplitViewState",heapSnapshotRetainersViewSize:"heapSnapshotSplitViewState","InspectorView.splitView":"InspectorView.splitViewState","InspectorView.screencastSplitView":"InspectorView.screencastSplitViewState","Inspector.drawerSplitView":"Inspector.drawerSplitViewState",layerDetailsSplitView:"layerDetailsSplitViewState",networkSidebarWidth:"networkPanelSplitViewState",sourcesSidebarWidth:"sourcesPanelSplitViewState",scriptsPanelNavigatorSidebarWidth:"sourcesPanelNavigatorSplitViewState",sourcesPanelSplitSidebarRatio:"sourcesPanelDebuggerSidebarSplitViewState","timeline-details":"timelinePanelDetailsSplitViewState","timeline-split":"timelinePanelRecorsSplitViewState","timeline-view":"timelinePanelTimelineStackSplitViewState",auditsSidebarWidth:"auditsPanelSplitViewState",layersSidebarWidth:"layersPanelSplitViewState",profilesSidebarWidth:"profilesPanelSplitViewState",resourcesSidebarWidth:"resourcesPanelSplitViewState"};for(var b in a){var c=a[b],d=b+"H",e=null,f=WebInspector.settings.createSetting(b,void 0).get();f&&(e=e||{},e.vertical={},e.vertical.size=f,delete window.localStorage[b]);var g=WebInspector.settings.createSetting(d,void 0).get();g&&(e=e||{},e.horizontal={},e.horizontal.size=g,delete window.localStorage[d]);var h=WebInspector.settings.createSetting(c,{});e&&h.set(e)}}},_updateVersionFrom5To6:function(){if(window.localStorage){var a={debuggerSidebarHidden:"sourcesPanelSplitViewState",navigatorHidden:"sourcesPanelNavigatorSplitViewState","WebInspector.Drawer.showOnLoad":"Inspector.drawerSplitViewState"};for(var b in a){var c=a[b],d=WebInspector.settings.createSetting(b,void 0).get(),e="WebInspector.Drawer.showOnLoad"===b,f=!!d!==e;delete window.localStorage[b];var g=f?"OnlyMain":"Both",h=WebInspector.settings.createSetting(c,null),i=h.get()||{};i.vertical=i.vertical||{},i.vertical.showMode=g,i.horizontal=i.horizontal||{},i.horizontal.showMode=g,h.set(i)}}},_updateVersionFrom6To7:function(){if(window.localStorage){var a={sourcesPanelNavigatorSplitViewState:"sourcesPanelNavigatorSplitViewState",elementsPanelSplitViewState:"elementsPanelSplitViewState",canvasProfileViewReplaySplitViewState:"canvasProfileViewReplaySplitViewState",editorInDrawerSplitViewState:"editorInDrawerSplitViewState",stylesPaneSplitViewState:"stylesPaneSplitViewState",sourcesPanelDebuggerSidebarSplitViewState:"sourcesPanelDebuggerSidebarSplitViewState"};for(var b in a)if(b in window.localStorage){var c=WebInspector.settings.createSetting(b,void 0),d=c.get();d&&(d.vertical&&d.vertical.size&&d.vertical.size<1&&(d.vertical.size=0),d.horizontal&&d.horizontal.size&&d.horizontal.size<1&&(d.horizontal.size=0),c.set(d))}}},_clearBreakpointsWhenTooMany:function(a,b){a.get().length>b&&a.set([])}},WebInspector.settings=new WebInspector.Settings,WebInspector.experimentsSettings=new WebInspector.ExperimentsSettings(null!==WebInspector.queryParam("experiments")),WebInspector.PauseOnExceptionStateSetting=function(){WebInspector.settings.pauseOnExceptionEnabled.addChangeListener(this._enabledChanged,this),WebInspector.settings.pauseOnCaughtException.addChangeListener(this._pauseOnCaughtChanged,this),this._name="pauseOnExceptionStateString",this._eventSupport=new WebInspector.Object,this._value=this._calculateValue()},WebInspector.PauseOnExceptionStateSetting.prototype={addChangeListener:function(a,b){this._eventSupport.addEventListener(this._name,a,b)},removeChangeListener:function(a,b){this._eventSupport.removeEventListener(this._name,a,b)},get:function(){return this._value},_calculateValue:function(){return WebInspector.settings.pauseOnExceptionEnabled.get()?"all":"none"},_enabledChanged:function(){this._fireChangedIfNeeded()},_pauseOnCaughtChanged:function(){this._fireChangedIfNeeded()},_fireChangedIfNeeded:function(){var a=this._calculateValue();a!==this._value&&(this._value=a,this._eventSupport.dispatchEventToListeners(this._name,this._value))}},WebInspector.settings.pauseOnExceptionStateString=new WebInspector.PauseOnExceptionStateSetting,WebInspector.SettingsUI={},WebInspector.SettingsUI.createCheckbox=function(a,b,c,d,e,f){function g(){c(h.checked)}var h=e||document.createElement("input");h.type="checkbox",h.name=a,h.checked=b(),h.addEventListener("change",g,!1);var i=document.createElement("label");if(i.appendChild(h),i.createTextChild(a),f&&(i.title=f),d)return i;var j=document.createElement("p");return j.appendChild(i),j},WebInspector.SettingsUI.createSettingCheckbox=function(a,b,c,d,e){return WebInspector.SettingsUI.createCheckbox(a,b.get.bind(b),b.set.bind(b),c,d,e)},WebInspector.SettingsUI.createSettingFieldset=function(a){function b(){c.disabled=!a.get()}var c=document.createElement("fieldset");return c.disabled=!a.get(),a.addChangeListener(b),c},WebInspector.View=function(){this.element=document.createElement("div"),this.element.className="view",this.element.__view=this,this._visible=!0,this._isRoot=!1,this._isShowing=!1,this._children=[],this._hideOnDetach=!1,this._cssFiles=[],this._notificationDepth=0},WebInspector.View._cssFileToVisibleViewCount={},WebInspector.View._cssFileToStyleElement={},WebInspector.View._cssUnloadTimeout=2e3,WebInspector.View._buildSourceURL=function(a){return"\n/*# sourceURL="+WebInspector.ParsedURL.completeURL(window.location.href,a)+" */"},WebInspector.View.createStyleElement=function(a){return console.log("Trying to load: "+a)},WebInspector.View.prototype={markAsRoot:function(){WebInspector.View._assert(!this.element.parentElement,"Attempt to mark as root attached node"),this._isRoot=!0},makeLayoutBoundary:function(){this._isLayoutBoundary=!0},parentView:function(){return this._parentView},isShowing:function(){return this._isShowing},setHideOnDetach:function(){this._hideOnDetach=!0},_inNotification:function(){return!!this._notificationDepth||this._parentView&&this._parentView._inNotification()},_parentIsShowing:function(){return this._isRoot?!0:this._parentView&&this._parentView.isShowing()},_callOnVisibleChildren:function(a){for(var b=this._children.slice(),c=0;c<b.length;++c)b[c]._parentView===this&&b[c]._visible&&a.call(b[c])},_processWillShow:function(){this._loadCSSIfNeeded(),this._callOnVisibleChildren(this._processWillShow),this._isShowing=!0},_processWasShown:function(){this._inNotification()||(this.restoreScrollPositions(),this._notify(this.wasShown),this._notify(this.onResize),this._callOnVisibleChildren(this._processWasShown))},_processWillHide:function(){this._inNotification()||(this.storeScrollPositions(),this._callOnVisibleChildren(this._processWillHide),this._notify(this.willHide),this._isShowing=!1)},_processWasHidden:function(){this._disableCSSIfNeeded(),this._callOnVisibleChildren(this._processWasHidden)},_processOnResize:function(){this._inNotification()||this.isShowing()&&(this._notify(this.onResize),this._callOnVisibleChildren(this._processOnResize))},_processDiscardCachedSize:function(){this._isLayoutBoundary&&(this.element.style.removeProperty("width"),this.element.style.removeProperty("height")),this._callOnVisibleChildren(this._processDiscardCachedSize)},_cacheSize:function(){this._prepareCacheSize(),this._applyCacheSize()},_prepareCacheSize:function(){this._isLayoutBoundary&&(this._cachedOffsetWidth=this.element.offsetWidth,this._cachedOffsetHeight=this.element.offsetHeight),this._callOnVisibleChildren(this._prepareCacheSize)},_applyCacheSize:function(){this._isLayoutBoundary&&(this.element.style.setProperty("width",this._cachedOffsetWidth+"px"),this.element.style.setProperty("height",this._cachedOffsetHeight+"px"),delete this._cachedOffsetWidth,delete this._cachedOffsetHeight),this._callOnVisibleChildren(this._applyCacheSize)},_notify:function(a){++this._notificationDepth;try{a.call(this)}finally{--this._notificationDepth}},wasShown:function(){},willHide:function(){},onResize:function(){},onLayout:function(){},show:function(a,b){if(WebInspector.View._assert(a,"Attempt to attach view with no parent element"),this.element.parentElement!==a){this.element.parentElement&&this.detach();for(var c=a;c&&!c.__view;)c=c.parentElement;c?(this._parentView=c.__view,this._parentView._children.push(this),this._isRoot=!1):WebInspector.View._assert(this._isRoot,"Attempt to attach view to orphan node")}else if(this._visible)return;this._visible=!0,this._parentIsShowing()&&this._processWillShow(),this.element.classList.add("visible"),this.element.parentElement!==a&&(WebInspector.View._incrementViewCounter(a,this.element),b?WebInspector.View._originalInsertBefore.call(a,this.element,b):WebInspector.View._originalAppendChild.call(a,this.element)),this._parentIsShowing()&&(this._processWasShown(),this._cacheSize()),this._parentView&&this._hasNonZeroMinimumSize()&&this._parentView.invalidateMinimumSize()},detach:function(a){var b=this.element.parentElement;if(b){if(this._parentIsShowing()&&(this._processDiscardCachedSize(),this._processWillHide()),this._hideOnDetach&&!a)return this.element.classList.remove("visible"),this._visible=!1,this._parentIsShowing()&&this._processWasHidden(),void(this._parentView&&this._hasNonZeroMinimumSize()&&this._parentView.invalidateMinimumSize());if(WebInspector.View._decrementViewCounter(b,this.element),WebInspector.View._originalRemoveChild.call(b,this.element),this._visible=!1,this._parentIsShowing()&&this._processWasHidden(),this._parentView){var c=this._parentView._children.indexOf(this);WebInspector.View._assert(c>=0,"Attempt to remove non-child view"),this._parentView._children.splice(c,1);var d=this._parentView;this._parentView=null,this._hasNonZeroMinimumSize()&&d.invalidateMinimumSize()}else WebInspector.View._assert(this._isRoot,"Removing non-root view from DOM")}},detachChildViews:function(){for(var a=this._children.slice(),b=0;b<a.length;++b)a[b].detach()},elementsToRestoreScrollPositionsFor:function(){return[this.element]},storeScrollPositions:function(){for(var a=this.elementsToRestoreScrollPositionsFor(),b=0;b<a.length;++b){var c=a[b];c._scrollTop=c.scrollTop,c._scrollLeft=c.scrollLeft}},restoreScrollPositions:function(){for(var a=this.elementsToRestoreScrollPositionsFor(),b=0;b<a.length;++b){var c=a[b];c._scrollTop&&(c.scrollTop=c._scrollTop),c._scrollLeft&&(c.scrollLeft=c._scrollLeft)}},doResize:function(){this.isShowing()&&(this._processDiscardCachedSize(),this._inNotification()||this._callOnVisibleChildren(this._processOnResize),this._cacheSize())},doLayout:function(){this.isShowing()&&(this._notify(this.onLayout),this.doResize())},registerRequiredCSS:function(a){window.flattenImports&&(a=a.split("/").reverse()[0]),this._cssFiles.push(a)},_loadCSSIfNeeded:function(){for(var a=0;a<this._cssFiles.length;++a){var b=this._cssFiles[a],c=WebInspector.View._cssFileToVisibleViewCount[b];WebInspector.View._cssFileToVisibleViewCount[b]=(c||0)+1,c||this._doLoadCSS(b)}},_doLoadCSS:function(a){var b=WebInspector.View._cssFileToStyleElement[a];return b?void(b.disabled=!1):(b=WebInspector.View.createStyleElement(a),void(WebInspector.View._cssFileToStyleElement[a]=b))},_disableCSSIfNeeded:function(){function a(){delete WebInspector.View._cssUnloadTimer;for(d in WebInspector.View._cssFileToVisibleViewCount)WebInspector.View._cssFileToVisibleViewCount.hasOwnProperty(d)&&!WebInspector.View._cssFileToVisibleViewCount[d]&&(WebInspector.View._cssFileToStyleElement[d].disabled=!0)}for(var b=!!WebInspector.View._cssUnloadTimer,c=0;c<this._cssFiles.length;++c){var d=this._cssFiles[c];--WebInspector.View._cssFileToVisibleViewCount[d]||(b=!0)}b&&(WebInspector.View._cssUnloadTimer&&clearTimeout(WebInspector.View._cssUnloadTimer),WebInspector.View._cssUnloadTimer=setTimeout(a,WebInspector.View._cssUnloadTimeout))},printViewHierarchy:function(){var a=[];this._collectViewHierarchy("",a),console.log(a.join("\n"))},_collectViewHierarchy:function(a,b){b.push(a+"["+this.element.className+"]"+(this._children.length?" {":""));for(var c=0;c<this._children.length;++c)this._children[c]._collectViewHierarchy(a+"    ",b);this._children.length&&b.push(a+"}")},defaultFocusedElement:function(){return this._defaultFocusedElement||this.element},setDefaultFocusedElement:function(a){this._defaultFocusedElement=a},focus:function(){var a=this.defaultFocusedElement();a&&!a.isAncestor(document.activeElement)&&WebInspector.setCurrentFocusElement(a)},measurePreferredSize:function(){this._loadCSSIfNeeded(),WebInspector.View._originalAppendChild.call(document.body,this.element),this.element.positionAt(0,0);var a=new Size(this.element.offsetWidth,this.element.offsetHeight);return this.element.positionAt(void 0,void 0),WebInspector.View._originalRemoveChild.call(document.body,this.element),this._disableCSSIfNeeded(),a},calculateMinimumSize:function(){return new Size(0,0)},minimumSize:function(){return"undefined"!=typeof this._minimumSize?this._minimumSize:("undefined"==typeof this._cachedMinimumSize&&(this._cachedMinimumSize=this.calculateMinimumSize()),this._cachedMinimumSize)},setMinimumSize:function(a,b){this._minimumSize=new Size(a,b),this.invalidateMinimumSize()},_hasNonZeroMinimumSize:function(){var a=this.minimumSize();return a.width||a.height},invalidateMinimumSize:function(){var a=this._cachedMinimumSize;delete this._cachedMinimumSize;var b=this.minimumSize();!b.isEqual(a)&&this._parentView?this._parentView.invalidateMinimumSize():this.doLayout()},__proto__:WebInspector.Object.prototype},WebInspector.View._originalAppendChild=Element.prototype.appendChild,WebInspector.View._originalInsertBefore=Element.prototype.insertBefore,WebInspector.View._originalRemoveChild=Element.prototype.removeChild,WebInspector.View._originalRemoveChildren=Element.prototype.removeChildren,WebInspector.View._incrementViewCounter=function(a,b){var c=(b.__viewCounter||0)+(b.__view?1:0);if(c)for(;a;)a.__viewCounter=(a.__viewCounter||0)+c,a=a.parentElement},WebInspector.View._decrementViewCounter=function(a,b){var c=(b.__viewCounter||0)+(b.__view?1:0);if(c)for(;a;)a.__viewCounter-=c,a=a.parentElement
},WebInspector.View._assert=function(a,b){if(!a)throw console.trace(),new Error(b)},WebInspector.VBox=function(){WebInspector.View.call(this),this.element.classList.add("vbox")},WebInspector.VBox.prototype={calculateMinimumSize:function(){function a(){var a=this.minimumSize();b=Math.max(b,a.width),c+=a.height}var b=0,c=0;return this._callOnVisibleChildren(a),new Size(b,c)},__proto__:WebInspector.View.prototype},WebInspector.HBox=function(){WebInspector.View.call(this),this.element.classList.add("hbox")},WebInspector.HBox.prototype={calculateMinimumSize:function(){function a(){var a=this.minimumSize();b+=a.width,c=Math.max(c,a.height)}var b=0,c=0;return this._callOnVisibleChildren(a),new Size(b,c)},__proto__:WebInspector.View.prototype},WebInspector.VBoxWithResizeCallback=function(a){WebInspector.VBox.call(this),this._resizeCallback=a},WebInspector.VBoxWithResizeCallback.prototype={onResize:function(){this._resizeCallback()},__proto__:WebInspector.VBox.prototype},Element.prototype.appendChild=function(a){return WebInspector.View._assert(!a.__view||a.parentElement===this,"Attempt to add view via regular DOM operation."),WebInspector.View._originalAppendChild.call(this,a)},Element.prototype.insertBefore=function(a,b){return WebInspector.View._assert(!a.__view||a.parentElement===this,"Attempt to add view via regular DOM operation."),WebInspector.View._originalInsertBefore.call(this,a,b)},Element.prototype.removeChild=function(a){return WebInspector.View._assert(!a.__viewCounter&&!a.__view,"Attempt to remove element containing view via regular DOM operation"),WebInspector.View._originalRemoveChild.call(this,a)},Element.prototype.removeChildren=function(){WebInspector.View._assert(!this.__viewCounter,"Attempt to remove element containing view via regular DOM operation"),WebInspector.View._originalRemoveChildren.call(this)},WebInspector.installDragHandle=function(a,b,c,d,e,f){a.addEventListener("mousedown",WebInspector.elementDragStart.bind(WebInspector,b,c,d,e),!1),null!==f&&(a.style.cursor=f||e)},WebInspector.elementDragStart=function(a,b,c,d,e){if(!(e.button||WebInspector.isMac()&&e.ctrlKey||WebInspector._elementDraggingEventListener||a&&!a(e))){WebInspector._elementDraggingGlassPane&&(WebInspector._elementDraggingGlassPane.dispose(),delete WebInspector._elementDraggingGlassPane);var f=e.target.ownerDocument;WebInspector._elementDraggingEventListener=b,WebInspector._elementEndDraggingEventListener=c,WebInspector._mouseOutWhileDraggingTargetDocument=f,f.addEventListener("mousemove",WebInspector._elementDragMove,!0),f.addEventListener("mouseup",WebInspector._elementDragEnd,!0),f.addEventListener("mouseout",WebInspector._mouseOutWhileDragging,!0),f.body.style.cursor=d,e.preventDefault()}},WebInspector._mouseOutWhileDragging=function(){WebInspector._unregisterMouseOutWhileDragging(),WebInspector._elementDraggingGlassPane=new WebInspector.GlassPane},WebInspector._unregisterMouseOutWhileDragging=function(){WebInspector._mouseOutWhileDraggingTargetDocument&&(WebInspector._mouseOutWhileDraggingTargetDocument.removeEventListener("mouseout",WebInspector._mouseOutWhileDragging,!0),delete WebInspector._mouseOutWhileDraggingTargetDocument)},WebInspector._elementDragMove=function(a){WebInspector._elementDraggingEventListener(a)&&WebInspector._cancelDragEvents(a)},WebInspector._cancelDragEvents=function(a){var b=a.target.ownerDocument;b.removeEventListener("mousemove",WebInspector._elementDragMove,!0),b.removeEventListener("mouseup",WebInspector._elementDragEnd,!0),WebInspector._unregisterMouseOutWhileDragging(),b.body.style.removeProperty("cursor"),WebInspector._elementDraggingGlassPane&&WebInspector._elementDraggingGlassPane.dispose(),delete WebInspector._elementDraggingGlassPane,delete WebInspector._elementDraggingEventListener,delete WebInspector._elementEndDraggingEventListener},WebInspector._elementDragEnd=function(a){var b=WebInspector._elementEndDraggingEventListener;WebInspector._cancelDragEvents(a),a.preventDefault(),b&&b(a)},WebInspector.GlassPane=function(){this.element=document.createElement("div"),this.element.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;background-color:transparent;z-index:1000;",this.element.id="glass-pane",document.body.appendChild(this.element),WebInspector._glassPane=this},WebInspector.GlassPane.prototype={dispose:function(){delete WebInspector._glassPane,WebInspector.HelpScreen.isVisible()?WebInspector.HelpScreen.focus():WebInspector.inspectorView.focus(),this.element.remove()}},WebInspector.isBeingEdited=function(a){if(a.classList.contains("text-prompt")||"INPUT"===a.nodeName||"TEXTAREA"===a.nodeName)return!0;if(!WebInspector.__editingCount)return!1;for(;a;){if(a.__editing)return!0;a=a.parentElement}return!1},WebInspector.markBeingEdited=function(a,b){if(b){if(a.__editing)return!1;a.classList.add("being-edited"),a.__editing=!0,WebInspector.__editingCount=(WebInspector.__editingCount||0)+1}else{if(!a.__editing)return!1;a.classList.remove("being-edited"),delete a.__editing,--WebInspector.__editingCount}return!0},WebInspector.CSSNumberRegex=/^(-?(?:\d+(?:\.\d+)?|\.\d+))$/,WebInspector.StyleValueDelimiters="  	\n\"':;,/()",WebInspector._valueModificationDirection=function(a){var b=null;return"mousewheel"===a.type?a.wheelDeltaY>0?b="Up":a.wheelDeltaY<0&&(b="Down"):"Up"===a.keyIdentifier||"PageUp"===a.keyIdentifier?b="Up":("Down"===a.keyIdentifier||"PageDown"===a.keyIdentifier)&&(b="Down"),b},WebInspector._modifiedHexValue=function(a,b){var c=WebInspector._valueModificationDirection(b);if(!c)return a;var d=parseInt(a,16);if(isNaN(d)||!isFinite(d))return a;var e,f=Math.pow(16,a.length)-1,g="Up"===b.keyIdentifier||"Down"===b.keyIdentifier||"mousewheel"===b.type;e=g?"Up"===c?1:-1:"PageUp"===b.keyIdentifier?16:-16,b.shiftKey&&(e*=16);var h=d+e;if(0>h)h=0;else if(h>f)return a;for(var i=h.toString(16).toUpperCase(),j=0,k=a.length-i.length;k>j;++j)i="0"+i;return i},WebInspector._modifiedFloatNumber=function(a,b){var c=WebInspector._valueModificationDirection(b);if(!c)return a;var d="Up"===b.keyIdentifier||"Down"===b.keyIdentifier||"mousewheel"===b.type,e=1;b.shiftKey&&!d?e=100:b.shiftKey||!d?e=10:b.altKey&&(e=.1),"Down"===c&&(e*=-1);var f=Number((a+e).toFixed(6));return String(f).match(WebInspector.CSSNumberRegex)?f:null},WebInspector.handleElementValueModifications=function(a,b,c,d,e){var f="Up"===a.keyIdentifier||"Down"===a.keyIdentifier||"mousewheel"===a.type,g="PageUp"===a.keyIdentifier||"PageDown"===a.keyIdentifier;if(!f&&!g)return!1;var h=window.getSelection();if(!h.rangeCount)return!1;var i=h.getRangeAt(0);if(!i.commonAncestorContainer.isSelfOrDescendant(b))return!1;var j=b.textContent,k=i.startContainer.rangeOfWord(i.startOffset,WebInspector.StyleValueDelimiters,b),l=k.toString();if(d&&d(l))return!1;var m,n,o,p,q;if(q=/(.*#)([\da-fA-F]+)(.*)/.exec(l),q&&q.length)n=q[1],o=q[3],p=WebInspector._modifiedHexValue(q[2],a),e&&(p=e(p)),m=n+p+o;else if(q=/(.*?)(-?(?:\d+(?:\.\d+)?|\.\d+))(.*)/.exec(l),q&&q.length){if(n=q[1],o=q[3],p=WebInspector._modifiedFloatNumber(parseFloat(q[2]),a),null===p)return!1;e&&(p=e(p)),m=n+p+o}if(m){var r=document.createTextNode(m);k.deleteContents(),k.insertNode(r);var s=document.createRange();return s.setStart(r,0),s.setEnd(r,m.length),h.removeAllRanges(),h.addRange(s),a.handled=!0,a.preventDefault(),c&&c(j,m),!0}return!1},Number.preciseMillisToString=function(a,b){b=b||0;var c="%."+b+"f ms";return WebInspector.UIString(c,a)},Number.millisToString=function(a,b){if(!isFinite(a))return"-";if(0===a)return"0";if(b&&1e3>a)return WebInspector.UIString("%.3f ms",a);if(1e3>a)return WebInspector.UIString("%.0f ms",a);var c=a/1e3;if(60>c)return WebInspector.UIString("%.2f s",c);var d=c/60;if(60>d)return WebInspector.UIString("%.1f min",d);var e=d/60;if(24>e)return WebInspector.UIString("%.1f hrs",e);var f=e/24;return WebInspector.UIString("%.1f days",f)},Number.secondsToString=function(a,b){return isFinite(a)?Number.millisToString(1e3*a,b):"-"},Number.bytesToString=function(a){if(1024>a)return WebInspector.UIString("%.0f B",a);var b=a/1024;if(100>b)return WebInspector.UIString("%.1f KB",b);if(1024>b)return WebInspector.UIString("%.0f KB",b);var c=b/1024;return 100>c?WebInspector.UIString("%.1f MB",c):WebInspector.UIString("%.0f MB",c)},Number.withThousandsSeparator=function(a){for(var b=a+"",c=/(\d+)(\d{3})/;b.match(c);)b=b.replace(c,"$1 $2");return b},WebInspector.useLowerCaseMenuTitles=function(){return"windows"===WebInspector.platform()},WebInspector.formatLocalized=function(a,b,c,d,e){return String.format(WebInspector.UIString(a),b,c,d,e)},WebInspector.openLinkExternallyLabel=function(){return WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open link in new tab":"Open Link in New Tab")},WebInspector.copyLinkAddressLabel=function(){return WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Copy link address":"Copy Link Address")},WebInspector.installPortStyles=function(){var a=WebInspector.platform();document.body.classList.add("platform-"+a);var b=WebInspector.platformFlavor();b&&document.body.classList.add("platform-"+b);var c=WebInspector.port();document.body.classList.add("port-"+c)},WebInspector._windowFocused=function(a){a.target.document.nodeType===Node.DOCUMENT_NODE&&document.body.classList.remove("inactive")},WebInspector._windowBlurred=function(a){a.target.document.nodeType===Node.DOCUMENT_NODE&&document.body.classList.add("inactive")},WebInspector.previousFocusElement=function(){return WebInspector._previousFocusElement},WebInspector.currentFocusElement=function(){return WebInspector._currentFocusElement},WebInspector._focusChanged=function(a){WebInspector.setCurrentFocusElement(a.target)},WebInspector._documentBlurred=function(a){a.relatedTarget||document.activeElement!==document.body||WebInspector.setCurrentFocusElement(null)},WebInspector._textInputTypes=["text","search","tel","url","email","password"].keySet(),WebInspector._isTextEditingElement=function(a){return a instanceof HTMLInputElement?a.type in WebInspector._textInputTypes:a instanceof HTMLTextAreaElement?!0:!1},WebInspector.setCurrentFocusElement=function(a){if(!WebInspector._glassPane||!a||WebInspector._glassPane.element.isAncestor(a))if(WebInspector._currentFocusElement!==a&&(WebInspector._previousFocusElement=WebInspector._currentFocusElement),WebInspector._currentFocusElement=a,WebInspector._currentFocusElement){WebInspector._currentFocusElement.focus();var b=window.getSelection();if(!WebInspector._isTextEditingElement(WebInspector._currentFocusElement)&&b.isCollapsed&&!WebInspector._currentFocusElement.isInsertionCaretInside()){var c=WebInspector._currentFocusElement.ownerDocument.createRange();c.setStart(WebInspector._currentFocusElement,0),c.setEnd(WebInspector._currentFocusElement,0),b.removeAllRanges(),b.addRange(c)}}else WebInspector._previousFocusElement&&WebInspector._previousFocusElement.blur()},WebInspector.restoreFocusFromElement=function(a){a&&a.isSelfOrAncestor(WebInspector.currentFocusElement())&&WebInspector.setCurrentFocusElement(WebInspector.previousFocusElement())},WebInspector.setToolbarColors=function(a,b){WebInspector._themeStyleElement||(WebInspector._themeStyleElement=document.createElement("style"),document.head.appendChild(WebInspector._themeStyleElement));var c=WebInspector.Color.parse(b),d=c?c.invert().setAlpha(.33).toString(WebInspector.Color.Format.RGBA):"white",e=WebInspector.isMac()?"body:not(.undocked)":"";WebInspector._themeStyleElement.textContent=String.sprintf("%s .toolbar-background {                 background-image: none !important;                 background-color: %s !important;                 color: %s !important;             }",e,a,b)+String.sprintf("%s .toolbar-background button.status-bar-item .glyph, %s .toolbar-background button.status-bar-item .long-click-glyph {                 background-color: %s;             }",e,e,b)+String.sprintf("%s .toolbar-background button.status-bar-item .glyph.shadow, %s .toolbar-background button.status-bar-item .long-click-glyph.shadow {                 background-color: %s;             }",e,e,d)},WebInspector.resetToolbarColors=function(){WebInspector._themeStyleElement&&(WebInspector._themeStyleElement.textContent="")},WebInspector.highlightSearchResult=function(a,b,c,d){var e=WebInspector.highlightSearchResults(a,[new WebInspector.SourceRange(b,c)],d);return e.length?e[0]:null},WebInspector.highlightSearchResults=function(a,b,c){return WebInspector.highlightRangesWithStyleClass(a,b,"highlighted-search-result",c)},WebInspector.runCSSAnimationOnce=function(a,b){function c(){a.classList.remove(b),a.removeEventListener("animationend",c,!1)}a.classList.contains(b)&&a.classList.remove(b),a.addEventListener("animationend",c,!1),a.classList.add(b)},WebInspector.highlightRangesWithStyleClass=function(a,b,c,d){d=d||[];var e=[],f=a.textContent,g=a.ownerDocument,h=g.evaluate(".//text()",a,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),i=h.snapshotLength;if(0===i)return e;for(var j=[],k=0,l=0;i>l;++l){var m={};m.offset=k,m.length=h.snapshotItem(l).textContent.length,k=m.offset+m.length,j.push(m)}for(var n=0,l=0;l<b.length;++l){for(var o=b[l].offset,p=o+b[l].length;i>n&&j[n].offset+j[n].length<=o;)n++;for(var q=n;i>q&&j[q].offset+j[q].length<p;)q++;if(q===i)break;var r=g.createElement("span");r.className=c,r.textContent=f.substring(o,p);var s=h.snapshotItem(q),t=s.textContent;if(s.textContent=t.substring(p-j[q].offset),d.push({node:s,type:"changed",oldText:t,newText:s.textContent}),n===q){s.parentElement.insertBefore(r,s),d.push({node:r,type:"added",nextSibling:s,parent:s.parentElement}),e.push(r);var u=g.createTextNode(t.substring(0,o-j[n].offset));s.parentElement.insertBefore(u,r),d.push({node:u,type:"added",nextSibling:r,parent:s.parentElement})}else{var v=h.snapshotItem(n),w=v.textContent,x=v.nextSibling;v.parentElement.insertBefore(r,x),d.push({node:r,type:"added",nextSibling:x,parent:v.parentElement}),e.push(r),v.textContent=w.substring(0,o-j[n].offset),d.push({node:v,type:"changed",oldText:w,newText:v.textContent});for(var y=n+1;q>y;y++){var z=h.snapshotItem(y),A=z.textContent;z.textContent="",d.push({node:z,type:"changed",oldText:A,newText:z.textContent})}}n=q,j[n].offset=p,j[n].length=s.textContent.length}return e},WebInspector.applyDomChanges=function(a){for(var b=0,c=a.length;c>b;++b){var d=a[b];switch(d.type){case"added":d.parent.insertBefore(d.node,d.nextSibling);break;case"changed":d.node.textContent=d.newText}}},WebInspector.revertDomChanges=function(a){for(var b=a.length-1;b>=0;--b){var c=a[b];switch(c.type){case"added":c.node.remove();break;case"changed":c.node.textContent=c.oldText}}},WebInspector._coalescingLevel=0,WebInspector.startBatchUpdate=function(){WebInspector._coalescingLevel||(WebInspector._postUpdateHandlers=new Map),WebInspector._coalescingLevel++},WebInspector.endBatchUpdate=function(){if(!--WebInspector._coalescingLevel){var a=WebInspector._postUpdateHandlers;delete WebInspector._postUpdateHandlers,window.requestAnimationFrame(function(){if(!WebInspector._coalescingLevel)for(var b=a.keys(),c=0;c<b.length;++c)for(var d=b[c],e=a.get(d).keys(),f=0;f<e.length;++f)e[f].call(d)})}},WebInspector.invokeOnceAfterBatchUpdate=function(a,b){if(!WebInspector._coalescingLevel)return void window.requestAnimationFrame(function(){WebInspector._coalescingLevel||b.call(a)});var c=WebInspector._postUpdateHandlers.get(a);c||(c=new Map,WebInspector._postUpdateHandlers.put(a,c)),c.put(b)},function(){function a(){window.addEventListener("focus",WebInspector._windowFocused,!1),window.addEventListener("blur",WebInspector._windowBlurred,!1),document.addEventListener("focus",WebInspector._focusChanged,!0),document.addEventListener("blur",WebInspector._documentBlurred,!0),window.removeEventListener("DOMContentLoaded",a,!1)}window.addEventListener("DOMContentLoaded",a,!1)}(),WebInspector.HelpScreen=function(a){if(WebInspector.VBox.call(this),this.markAsRoot(),this.registerRequiredCSS("helpScreen.css"),this.element.classList.add("help-window-outer"),this.element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this.element.tabIndex=0,a){var b=this.element.createChild("div","help-window-main"),c=b.createChild("div","help-window-caption");c.appendChild(this._createCloseButton()),this.contentElement=b.createChild("div","help-content"),c.createChild("h1","help-window-title").textContent=a}},WebInspector.HelpScreen._visibleScreen=null,WebInspector.HelpScreen.isVisible=function(){return!!WebInspector.HelpScreen._visibleScreen},WebInspector.HelpScreen.focus=function(){WebInspector.HelpScreen._visibleScreen.element.focus()},WebInspector.HelpScreen.prototype={_createCloseButton:function(){var a=document.createElement("div");return a.className="help-close-button close-button-gray",a.addEventListener("click",this.hide.bind(this),!1),a},showModal:function(){var a=WebInspector.HelpScreen._visibleScreen;a!==this&&(a&&a.hide(),WebInspector.HelpScreen._visibleScreen=this,this.show(WebInspector.inspectorView.element),this.focus())},hide:function(){this.isShowing()&&(WebInspector.HelpScreen._visibleScreen=null,WebInspector.restoreFocusFromElement(this.element),this.detach())},isClosingKey:function(a){return[WebInspector.KeyboardShortcut.Keys.Enter.code,WebInspector.KeyboardShortcut.Keys.Esc.code,WebInspector.KeyboardShortcut.Keys.Space.code].indexOf(a)>=0},_onKeyDown:function(a){this.isShowing()&&this.isClosingKey(a.keyCode)&&(this.hide(),a.consume())},__proto__:WebInspector.VBox.prototype},WebInspector.RemoteDebuggingTerminatedScreen=function(a){WebInspector.HelpScreen.call(this,WebInspector.UIString("Detached from the target"));var b=this.contentElement.createChild("p");b.classList.add("help-section"),b.createChild("span").textContent=WebInspector.UIString("Remote debugging has been terminated with reason: "),b.createChild("span","error-message").textContent=a,b.createChild("br"),b.createChild("span").textContent=WebInspector.UIString("Please re-attach to the new target.")},WebInspector.RemoteDebuggingTerminatedScreen.prototype={__proto__:WebInspector.HelpScreen.prototype},WebInspector.WorkerTerminatedScreen=function(){WebInspector.HelpScreen.call(this,WebInspector.UIString("Inspected worker terminated"));var a=this.contentElement.createChild("p");a.classList.add("help-section"),a.textContent=WebInspector.UIString("Inspected worker has terminated. Once it restarts we will attach to it automatically.")},WebInspector.WorkerTerminatedScreen.prototype={__proto__:WebInspector.HelpScreen.prototype},window.InspectorFrontendHost||(WebInspector.InspectorFrontendHostStub=function(){this.isStub=!0},WebInspector.InspectorFrontendHostStub.prototype={getSelectionBackgroundColor:function(){return"#6e86ff"},getSelectionForegroundColor:function(){return"#ffffff"},platform:function(){var a=navigator.userAgent.match(/Windows NT/);return a?"windows":(a=navigator.userAgent.match(/Mac OS X/),a?"mac":"linux")},port:function(){return"unknown"},bringToFront:function(){this._windowVisible=!0},closeWindow:function(){this._windowVisible=!1},setIsDocked:function(){},setContentsResizingStrategy:function(){},inspectElementCompleted:function(){},moveWindowBy:function(){},setInjectedScriptForOrigin:function(){},inspectedURLChanged:function(a){document.title=WebInspector.UIString(Preferences.applicationTitle,a)},copyText:function(){WebInspector.console.log("Clipboard is not enabled in hosted mode. Please inspect using chrome://inspect",WebInspector.ConsoleMessage.MessageLevel.Error,!0)},openInNewTab:function(a){window.open(a,"_blank")},save:function(a){WebInspector.console.log("Saving files is not enabled in hosted mode. Please inspect using chrome://inspect",WebInspector.ConsoleMessage.MessageLevel.Error,!0),WebInspector.fileManager.canceledSaveURL(a)},append:function(){WebInspector.console.log("Saving files is not enabled in hosted mode. Please inspect using chrome://inspect",WebInspector.ConsoleMessage.MessageLevel.Error,!0)},sendMessageToBackend:function(){},sendMessageToEmbedder:function(){},recordActionTaken:function(){},recordPanelShown:function(){},requestFileSystems:function(){},addFileSystem:function(){},removeFileSystem:function(){},isolatedFileSystem:function(){return null},upgradeDraggedFileSystemPermissions:function(){},indexPath:function(){},stopIndexing:function(){},searchInPath:function(){},setZoomFactor:function(){},zoomFactor:function(){return 1},zoomIn:function(){},zoomOut:function(){},resetZoom:function(){},isUnderTest:function(){return!1}},InspectorFrontendHost=new WebInspector.InspectorFrontendHostStub),WebInspector.FileManager=function(){this._saveCallbacks={}},WebInspector.FileManager.EventTypes={SavedURL:"SavedURL",AppendedToURL:"AppendedToURL"},WebInspector.FileManager.prototype={canSave:function(){return!0},save:function(a,b,c,d){var e=WebInspector.settings.savedURLs.get();delete e[a],WebInspector.settings.savedURLs.set(e),this._saveCallbacks[a]=d||null,InspectorFrontendHost.save(a,b,c)},savedURL:function(a){var b=WebInspector.settings.savedURLs.get();b[a]=!0,WebInspector.settings.savedURLs.set(b),this.dispatchEventToListeners(WebInspector.FileManager.EventTypes.SavedURL,a),this._invokeSaveCallback(a,!0)},_invokeSaveCallback:function(a,b){var c=this._saveCallbacks[a];delete this._saveCallbacks[a],c&&c(b)},canceledSaveURL:function(a){this._invokeSaveCallback(a,!1)},isURLSaved:function(a){var b=WebInspector.settings.savedURLs.get();return b[a]},append:function(a,b){InspectorFrontendHost.append(a,b)},close:function(){},appendedToURL:function(a){this.dispatchEventToListeners(WebInspector.FileManager.EventTypes.AppendedToURL,a)},__proto__:WebInspector.Object.prototype},WebInspector.fileManager=new WebInspector.FileManager,WebInspector.Checkbox=function(a,b,c){this.element=document.createElement("label"),this._inputElement=document.createElement("input"),this._inputElement.type="checkbox",this.element.className=b,this.element.appendChild(this._inputElement),this.element.appendChild(document.createTextNode(a)),c&&(this.element.title=c)},WebInspector.Checkbox.prototype={set checked(a){this._inputElement.checked=a},get checked(){return this._inputElement.checked},addEventListener:function(a){function b(b){return a&&a(b),b.consume(),!0}this._inputElement.addEventListener("click",b,!1),this.element.addEventListener("click",b,!1)}},WebInspector.ContextMenuItem=function(a,b,c,d,e){this._type=b,this._label=c,this._disabled=d,this._checked=e,this._contextMenu=a,("item"===b||"checkbox"===b)&&(this._id=a.nextId())},WebInspector.ContextMenuItem.prototype={id:function(){return this._id},type:function(){return this._type},isEnabled:function(){return!this._disabled},setEnabled:function(a){this._disabled=!a},_buildDescriptor:function(){switch(this._type){case"item":return{type:"item",id:this._id,label:this._label,enabled:!this._disabled};case"separator":return{type:"separator"};case"checkbox":return{type:"checkbox",id:this._id,label:this._label,checked:!!this._checked,enabled:!this._disabled}}}},WebInspector.ContextSubMenuItem=function(a,b,c){WebInspector.ContextMenuItem.call(this,a,"subMenu",b,c),this._items=[]},WebInspector.ContextSubMenuItem.prototype={appendItem:function(a,b,c){var d=new WebInspector.ContextMenuItem(this._contextMenu,"item",a,c);return this._pushItem(d),this._contextMenu._setHandler(d.id(),b),d},appendSubMenuItem:function(a,b){var c=new WebInspector.ContextSubMenuItem(this._contextMenu,a,b);return this._pushItem(c),c},appendCheckboxItem:function(a,b,c,d){var e=new WebInspector.ContextMenuItem(this._contextMenu,"checkbox",a,d,c);return this._pushItem(e),this._contextMenu._setHandler(e.id(),b),e},appendSeparator:function(){this._items.length&&(this._pendingSeparator=!0)},_pushItem:function(a){this._pendingSeparator&&(this._items.push(new WebInspector.ContextMenuItem(this._contextMenu,"separator")),delete this._pendingSeparator),this._items.push(a)},isEmpty:function(){return!this._items.length},_buildDescriptor:function(){for(var a={type:"subMenu",label:this._label,enabled:!this._disabled,subItems:[]},b=0;b<this._items.length;++b)a.subItems.push(this._items[b]._buildDescriptor());return a},__proto__:WebInspector.ContextMenuItem.prototype},WebInspector.ContextMenu=function(a){WebInspector.ContextSubMenuItem.call(this,this,""),this._event=a,this._handlers={},this._id=0},WebInspector.ContextMenu.setUseSoftMenu=function(a){WebInspector.ContextMenu._useSoftMenu=a},WebInspector.ContextMenu.prototype={nextId:function(){return this._id++},show:function(){var a=this._buildDescriptor();if(a.length){if(WebInspector._contextMenu=this,WebInspector.ContextMenu._useSoftMenu){var b=new WebInspector.SoftContextMenu(a);b.show(this._event)}else InspectorFrontendHost.showContextMenu(this._event,a);this._event.consume()}},_setHandler:function(a,b){b&&(this._handlers[a]=b)},_buildDescriptor:function(){for(var a=[],b=0;b<this._items.length;++b)a.push(this._items[b]._buildDescriptor());return a},_itemSelected:function(a){this._handlers[a]&&this._handlers[a].call(this)},appendApplicableItems:function(a){function b(b){var c=b.instance();this.appendSeparator(),c.appendApplicableItems(this._event,this,a),this.appendSeparator()}WebInspector.moduleManager.extensions(WebInspector.ContextMenu.Provider,a).forEach(b.bind(this))},__proto__:WebInspector.ContextSubMenuItem.prototype},WebInspector.ContextMenu.Provider=function(){},WebInspector.ContextMenu.Provider.prototype={appendApplicableItems:function(){}},WebInspector.contextMenuItemSelected=function(a){WebInspector._contextMenu&&WebInspector._contextMenu._itemSelected(a)},WebInspector.contextMenuCleared=function(){},WebInspector.SoftContextMenu=function(a,b){this._items=a,this._parentMenu=b},WebInspector.SoftContextMenu.prototype={show:function(a){this._x=a.x,this._y=a.y,this._time=(new Date).getTime();for(var b=a.pageX,c=a.pageY,d=a.target;d&&window!==d.ownerDocument.defaultView;){var e=d.ownerDocument.defaultView.frameElement;c+=e.totalOffsetTop(),b+=e.totalOffsetLeft(),d=e}this._contextMenuElement=document.createElement("div"),this._contextMenuElement.className="soft-context-menu",this._contextMenuElement.tabIndex=0,this._contextMenuElement.style.top=c+"px",this._contextMenuElement.style.left=b+"px",this._contextMenuElement.addEventListener("mouseup",consumeEvent,!1),this._contextMenuElement.addEventListener("keydown",this._menuKeyDown.bind(this),!1);for(var f=0;f<this._items.length;++f)this._contextMenuElement.appendChild(this._createMenuItem(this._items[f]));this._parentMenu?this._parentMenu._parentGlassPaneElement().appendChild(this._contextMenuElement):(this._glassPaneElement=document.createElement("div"),this._glassPaneElement.className="soft-context-menu-glass-pane",this._glassPaneElement.tabIndex=0,this._glassPaneElement.addEventListener("mouseup",this._glassPaneMouseUp.bind(this),!1),this._glassPaneElement.appendChild(this._contextMenuElement),document.body.appendChild(this._glassPaneElement),this._focus()),document.body.offsetWidth<this._contextMenuElement.offsetLeft+this._contextMenuElement.offsetWidth&&(this._contextMenuElement.style.left=b-this._contextMenuElement.offsetWidth+"px"),document.body.offsetHeight<this._contextMenuElement.offsetTop+this._contextMenuElement.offsetHeight&&(this._contextMenuElement.style.top=document.body.offsetHeight-this._contextMenuElement.offsetHeight+"px"),a.consume(!0)},_parentGlassPaneElement:function(){return this._glassPaneElement?this._glassPaneElement:this._parentMenu?this._parentMenu._parentGlassPaneElement():null},_createMenuItem:function(a){if("separator"===a.type)return this._createSeparator();if("subMenu"===a.type)return this._createSubMenu(a);var b=document.createElement("div");b.className="soft-context-menu-item";var c=document.createElement("span");return c.textContent="✓ ",c.className="soft-context-menu-item-checkmark",a.checked||(c.style.opacity="0"),b.appendChild(c),b.appendChild(document.createTextNode(a.label)),b.addEventListener("mousedown",this._menuItemMouseDown.bind(this),!1),b.addEventListener("mouseup",this._menuItemMouseUp.bind(this),!1),b.addEventListener("mouseover",this._menuItemMouseOver.bind(this),!1),b.addEventListener("mouseout",this._menuItemMouseOut.bind(this),!1),b._actionId=a.id,b},_createSubMenu:function(a){var b=document.createElement("div");b.className="soft-context-menu-item",b._subItems=a.subItems;var c=document.createElement("span");c.textContent="✓ ",c.className="soft-context-menu-item-checkmark",c.style.opacity="0",b.appendChild(c);var d=document.createElement("span");return d.textContent="▶",d.className="soft-context-menu-item-submenu-arrow",b.appendChild(document.createTextNode(a.label)),b.appendChild(d),b.addEventListener("mousedown",this._menuItemMouseDown.bind(this),!1),b.addEventListener("mouseup",this._menuItemMouseUp.bind(this),!1),b.addEventListener("mouseover",this._menuItemMouseOver.bind(this),!1),b.addEventListener("mouseout",this._menuItemMouseOut.bind(this),!1),b},_createSeparator:function(){var a=document.createElement("div");return a.className="soft-context-menu-separator",a._isSeparator=!0,a.addEventListener("mouseover",this._hideSubMenu.bind(this),!1),a.createChild("div","separator-line"),a},_menuItemMouseDown:function(a){a.consume(!0)},_menuItemMouseUp:function(a){this._triggerAction(a.target,a),a.consume()},_focus:function(){this._contextMenuElement.focus()},_triggerAction:function(a,b){return a._subItems?(this._showSubMenu(a,b),void b.consume()):(this._discardMenu(!0,b),void("undefined"!=typeof a._actionId&&(WebInspector.contextMenuItemSelected(a._actionId),delete a._actionId)))},_showSubMenu:function(a){a._subMenuTimer&&(clearTimeout(a._subMenuTimer),delete a._subMenuTimer),this._subMenu||(this._subMenu=new WebInspector.SoftContextMenu(a._subItems,this),this._subMenu.show(this._buildMouseEventForSubMenu(a)))},_buildMouseEventForSubMenu:function(a){var b={x:a.offsetWidth-3,y:a.offsetTop-1},c=this._x+b.x,d=this._y+b.y,e=parseInt(this._contextMenuElement.style.left,10)+b.x,f=parseInt(this._contextMenuElement.style.top,10)+b.y;return{x:c,y:d,pageX:e,pageY:f,consume:function(){}}},_hideSubMenu:function(){this._subMenu&&(this._subMenu._discardSubMenus(),this._focus())},_menuItemMouseOver:function(a){this._highlightMenuItem(a.target)},_menuItemMouseOut:function(a){if(!this._subMenu||!a.relatedTarget)return void this._highlightMenuItem(null);var b=a.relatedTarget;(this._contextMenuElement.isSelfOrAncestor(b)||b.classList.contains("soft-context-menu-glass-pane"))&&this._highlightMenuItem(null)},_highlightMenuItem:function(a){this._highlightedMenuItemElement!==a&&(this._hideSubMenu(),this._highlightedMenuItemElement&&(this._highlightedMenuItemElement.classList.remove("soft-context-menu-item-mouse-over"),this._highlightedMenuItemElement._subItems&&this._highlightedMenuItemElement._subMenuTimer&&(clearTimeout(this._highlightedMenuItemElement._subMenuTimer),delete this._highlightedMenuItemElement._subMenuTimer)),this._highlightedMenuItemElement=a,this._highlightedMenuItemElement&&(this._highlightedMenuItemElement.classList.add("soft-context-menu-item-mouse-over"),this._contextMenuElement.focus(),this._highlightedMenuItemElement._subItems&&!this._highlightedMenuItemElement._subMenuTimer&&(this._highlightedMenuItemElement._subMenuTimer=setTimeout(this._showSubMenu.bind(this,this._highlightedMenuItemElement,this._buildMouseEventForSubMenu(this._highlightedMenuItemElement)),150))))},_highlightPrevious:function(){for(var a=this._highlightedMenuItemElement?this._highlightedMenuItemElement.previousSibling:this._contextMenuElement.lastChild;a&&a._isSeparator;)a=a.previousSibling;a&&this._highlightMenuItem(a)},_highlightNext:function(){for(var a=this._highlightedMenuItemElement?this._highlightedMenuItemElement.nextSibling:this._contextMenuElement.firstChild;a&&a._isSeparator;)a=a.nextSibling;a&&this._highlightMenuItem(a)},_menuKeyDown:function(a){switch(a.keyIdentifier){case"Up":this._highlightPrevious();break;case"Down":this._highlightNext();break;case"Left":this._parentMenu&&(this._highlightMenuItem(null),this._parentMenu._focus());break;case"Right":if(!this._highlightedMenuItemElement)break;
this._highlightedMenuItemElement._subItems&&(this._showSubMenu(this._highlightedMenuItemElement,this._buildMouseEventForSubMenu(this._highlightedMenuItemElement)),this._subMenu._focus(),this._subMenu._highlightNext());break;case"U+001B":this._discardMenu(!0,a);break;case"Enter":if(!isEnterKey(a))break;case"U+0020":this._highlightedMenuItemElement&&this._triggerAction(this._highlightedMenuItemElement,a)}a.consume(!0)},_glassPaneMouseUp:function(a){a.x===this._x&&a.y===this._y&&(new Date).getTime()-this._time<300||(this._discardMenu(!0,a),a.consume())},_discardMenu:function(a,b){if(!this._subMenu||a)if(this._glassPaneElement){var c=this._glassPaneElement;delete this._glassPaneElement,document.body.removeChild(c),this._parentMenu&&(delete this._parentMenu._subMenu,a&&this._parentMenu._discardMenu(a,b)),b&&b.consume(!0)}else this._parentMenu&&this._contextMenuElement.parentElement&&(this._discardSubMenus(),a&&this._parentMenu._discardMenu(a,b),b&&b.consume(!0))},_discardSubMenus:function(){this._subMenu&&this._subMenu._discardSubMenus(),this._contextMenuElement.remove(),this._parentMenu&&delete this._parentMenu._subMenu}},InspectorFrontendHost.showContextMenu||(InspectorFrontendHost.showContextMenu=function(a,b){new WebInspector.SoftContextMenu(b).show(a)}),WebInspector.KeyboardShortcut=function(){},WebInspector.KeyboardShortcut.Modifiers={None:0,Shift:1,Ctrl:2,Alt:4,Meta:8,get CtrlOrMeta(){return WebInspector.isMac()?this.Meta:this.Ctrl}},WebInspector.KeyboardShortcut.Key,WebInspector.KeyboardShortcut.Keys={Backspace:{code:8,name:"↤"},Tab:{code:9,name:{mac:"⇥",other:"Tab"}},Enter:{code:13,name:{mac:"↩",other:"Enter"}},Ctrl:{code:17,name:"Ctrl"},Esc:{code:27,name:{mac:"⎋",other:"Esc"}},Space:{code:32,name:"Space"},PageUp:{code:33,name:{mac:"⇞",other:"PageUp"}},PageDown:{code:34,name:{mac:"⇟",other:"PageDown"}},End:{code:35,name:{mac:"↗",other:"End"}},Home:{code:36,name:{mac:"↖",other:"Home"}},Left:{code:37,name:"←"},Up:{code:38,name:"↑"},Right:{code:39,name:"→"},Down:{code:40,name:"↓"},Delete:{code:46,name:"Del"},Zero:{code:48,name:"0"},H:{code:72,name:"H"},Meta:{code:91,name:"Meta"},F1:{code:112,name:"F1"},F2:{code:113,name:"F2"},F3:{code:114,name:"F3"},F4:{code:115,name:"F4"},F5:{code:116,name:"F5"},F6:{code:117,name:"F6"},F7:{code:118,name:"F7"},F8:{code:119,name:"F8"},F9:{code:120,name:"F9"},F10:{code:121,name:"F10"},F11:{code:122,name:"F11"},F12:{code:123,name:"F12"},Semicolon:{code:186,name:";"},Plus:{code:187,name:"+"},Comma:{code:188,name:","},Minus:{code:189,name:"-"},Period:{code:190,name:"."},Slash:{code:191,name:"/"},QuestionMark:{code:191,name:"?"},Apostrophe:{code:192,name:"`"},Tilde:{code:192,name:"Tilde"},Backslash:{code:220,name:"\\"},SingleQuote:{code:222,name:"'"},get CtrlOrMeta(){return WebInspector.isMac()?this.Meta:this.Ctrl}},WebInspector.KeyboardShortcut.KeyBindings={},function(){for(var a in WebInspector.KeyboardShortcut.Keys){var b=WebInspector.KeyboardShortcut.Keys[a];if("object"==typeof b&&b.code){var c="string"==typeof b.name?b.name:a;WebInspector.KeyboardShortcut.KeyBindings[c]={code:b.code}}}}(),WebInspector.KeyboardShortcut.makeKey=function(a,b){return"string"==typeof a&&(a=a.charCodeAt(0)-(/^[a-z]/.test(a)?32:0)),b=b||WebInspector.KeyboardShortcut.Modifiers.None,WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers(a,b)},WebInspector.KeyboardShortcut.makeKeyFromEvent=function(a){function b(a){return a.keyCode||a.__keyCode}var c=WebInspector.KeyboardShortcut.Modifiers.None;return a.shiftKey&&(c|=WebInspector.KeyboardShortcut.Modifiers.Shift),a.ctrlKey&&(c|=WebInspector.KeyboardShortcut.Modifiers.Ctrl),a.altKey&&(c|=WebInspector.KeyboardShortcut.Modifiers.Alt),a.metaKey&&(c|=WebInspector.KeyboardShortcut.Modifiers.Meta),WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers(b(a),c)},WebInspector.KeyboardShortcut.eventHasCtrlOrMeta=function(a){return WebInspector.isMac()?a.metaKey&&!a.ctrlKey:a.ctrlKey&&!a.metaKey},WebInspector.KeyboardShortcut.hasNoModifiers=function(a){return!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)},WebInspector.KeyboardShortcut.Descriptor,WebInspector.KeyboardShortcut.makeDescriptor=function(a,b){return{key:WebInspector.KeyboardShortcut.makeKey("string"==typeof a?a:a.code,b),name:WebInspector.KeyboardShortcut.shortcutToString(a,b)}},WebInspector.KeyboardShortcut.makeKeyFromBindingShortcut=function(a){for(var b=a.split(/\+(?!$)/),c=0,d=0;d<b.length;++d){if("undefined"==typeof WebInspector.KeyboardShortcut.Modifiers[b[d]]){console.assert(d===b.length-1,"Modifiers-only shortcuts are not allowed (encountered <"+a+">)");var e=WebInspector.KeyboardShortcut.Keys[b[d]]||WebInspector.KeyboardShortcut.KeyBindings[b[d]];return e&&e.shiftKey&&(c|=WebInspector.KeyboardShortcut.Modifiers.Shift),WebInspector.KeyboardShortcut.makeKey(e?e.code:b[d].toLowerCase(),c)}c|=WebInspector.KeyboardShortcut.Modifiers[b[d]]}return console.assert(!1),0},WebInspector.KeyboardShortcut.shortcutToString=function(a,b){return WebInspector.KeyboardShortcut._modifiersToString(b)+WebInspector.KeyboardShortcut._keyName(a)},WebInspector.KeyboardShortcut._keyName=function(a){return"string"==typeof a?a.toUpperCase():"string"==typeof a.name?a.name:a.name[WebInspector.platform()]||a.name.other||""},WebInspector.KeyboardShortcut._makeKeyFromCodeAndModifiers=function(a,b){return 255&a|b<<8},WebInspector.KeyboardShortcut._modifiersToString=function(a){const b="⌘",c="⌥",d="⇧",e="⌃";var f=WebInspector.isMac(),g="";return a&WebInspector.KeyboardShortcut.Modifiers.Ctrl&&(g+=f?e:"Ctrl + "),a&WebInspector.KeyboardShortcut.Modifiers.Alt&&(g+=f?c:"Alt + "),a&WebInspector.KeyboardShortcut.Modifiers.Shift&&(g+=f?d:"Shift + "),a&WebInspector.KeyboardShortcut.Modifiers.Meta&&(g+=f?b:"Win + "),g},WebInspector.KeyboardShortcut.handleShortcut=function(a){function b(b){var c=b.instance().handleAction(a);return c&&a.consume(!0),delete WebInspector.KeyboardShortcut._pendingActionTimer,c}var c=WebInspector.KeyboardShortcut.makeKeyFromEvent(a),d=WebInspector.KeyboardShortcut._keysToActionExtensions[c];if(d)for(var e=0;e<d.length;++e){var f=a.keyIdentifier;if(!(/^F\d+|Control|Shift|Alt|Meta|Win|U\+001B$/.test(f)||a.ctrlKey||a.altKey||a.metaKey)){WebInspector.KeyboardShortcut._pendingActionTimer=setTimeout(b.bind(null,d[e]),0);break}if(b(d[e]))return}},WebInspector.KeyboardShortcut.SelectAll=WebInspector.KeyboardShortcut.makeKey("a",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta),WebInspector.KeyboardShortcut._onKeyPress=function(a){if(WebInspector.KeyboardShortcut._pendingActionTimer){{a.target}WebInspector.isBeingEdited(a.target)&&(clearTimeout(WebInspector.KeyboardShortcut._pendingActionTimer),delete WebInspector.KeyboardShortcut._pendingActionTimer)}},WebInspector.KeyboardShortcut.registerActions=function(){function a(a){for(var d=a.descriptor().bindings,e=0;d&&e<d.length;++e)if(c(d[e].platform)){var f=d[e].shortcut.split(/\s+/);f.forEach(b.bind(null,a))}}function b(a,b){var c=WebInspector.KeyboardShortcut.makeKeyFromBindingShortcut(b);c&&(WebInspector.KeyboardShortcut._keysToActionExtensions[c]?WebInspector.KeyboardShortcut._keysToActionExtensions[c].push(a):WebInspector.KeyboardShortcut._keysToActionExtensions[c]=[a])}function c(a){if(!a)return!0;for(var b=a.split(","),c=!1,d=WebInspector.platform(),e=0;!c&&e<b.length;++e)c=b[e]===d;return c}document.addEventListener("keypress",WebInspector.KeyboardShortcut._onKeyPress,!0),WebInspector.KeyboardShortcut._keysToActionExtensions={};var d=WebInspector.moduleManager.extensions(WebInspector.ActionDelegate);d.forEach(a)},WebInspector.SuggestBoxDelegate=function(){},WebInspector.SuggestBoxDelegate.prototype={applySuggestion:function(){},acceptSuggestion:function(){}},WebInspector.SuggestBox=function(a,b,c,d){this._suggestBoxDelegate=a,this._anchorElement=b,this._length=0,this._selectedIndex=-1,this._selectedElement=null,this._maxItemsHeight=d,this._bodyElement=b.ownerDocument.body,this._element=b.ownerDocument.createElement("div"),this._element.className="suggest-box "+(c||""),this._element.addEventListener("mousedown",this._onBoxMouseDown.bind(this),!0),this.containerElement=this._element.createChild("div","container"),this.contentElement=this.containerElement.createChild("div","content")},WebInspector.SuggestBox.prototype={visible:function(){return!!this._element.parentElement},setPosition:function(a){this._updateBoxPosition(a)},_updateBoxPosition:function(a){this._anchorBox=a,a=a||this._anchorElement.boxInWindow(window);var b=WebInspector.Dialog.modalHostView().element;a=a.relativeToElement(b);var c=b.offsetWidth,d=b.offsetHeight;this.contentElement.style.display="inline-block",document.body.appendChild(this.contentElement),this.contentElement.positionAt(0,0);var e=this.contentElement.offsetWidth,f=this.contentElement.offsetHeight;this.contentElement.style.display="block",this.containerElement.appendChild(this.contentElement);const g=6,h=21,i=2;var j=c-a.x-g,k=Math.min(e,j-h)+h,l=e+h,m=a.x;l>k&&(j=c-g,k=Math.min(e,j-h)+h,m=c-k);var n,o=a.y,p=d-a.y-a.height,q=this._maxItemsHeight?f*this._maxItemsHeight/this._length:Math.max(p,o)-g,r=Math.min(f,q-i)+i;p>=o?(n=a.y+a.height,this._element.classList.remove("above-anchor"),this._element.classList.add("under-anchor")):(n=a.y-r,this._element.classList.remove("under-anchor"),this._element.classList.add("above-anchor")),this._element.positionAt(m,n,b),this._element.style.width=k+"px",this._element.style.height=r+"px"},_onBoxMouseDown:function(a){a.preventDefault()},hide:function(){this.visible()&&(this._element.remove(),delete this._selectedElement,this._selectedIndex=-1)},removeFromElement:function(){this.hide()},_applySuggestion:function(a){if(!this.visible()||!this._selectedElement)return!1;var b=this._selectedElement.textContent;return b?(this._suggestBoxDelegate.applySuggestion(b,a),!0):!1},acceptSuggestion:function(){var a=this._applySuggestion();return this.hide(),a?(this._suggestBoxDelegate.acceptSuggestion(),!0):!1},_selectClosest:function(a,b){if(!this._length)return!1;-1===this._selectedIndex&&0>a&&(a+=1);var c=this._selectedIndex+a;return c=b?(this._length+c)%this._length:Number.constrain(c,0,this._length-1),this._selectItem(c),this._applySuggestion(!0),!0},_onItemMouseDown:function(a){this._selectedElement=a.currentTarget,this.acceptSuggestion(),a.consume(!0)},_createItemElement:function(a,b){var c=document.createElement("div");if(c.className="suggest-box-content-item source-code",c.tabIndex=-1,a&&a.length&&!b.indexOf(a)){var d=c.createChild("span","prefix");d.textContent=a;var e=c.createChild("span","suffix");e.textContent=b.substring(a.length)}else{var e=c.createChild("span","suffix");e.textContent=b}return c.addEventListener("mousedown",this._onItemMouseDown.bind(this),!1),c},_updateItems:function(a,b,c){this._length=a.length,this.contentElement.removeChildren();for(var d=0;d<a.length;++d){var e=a[d],f=this._createItemElement(c,e);this.contentElement.appendChild(f)}this._selectedElement=null,"number"==typeof b&&this._selectItem(b)},_selectItem:function(a){this._selectedElement&&this._selectedElement.classList.remove("selected"),this._selectedIndex=a,0>a||(this._selectedElement=this.contentElement.children[a],this._selectedElement.classList.add("selected"),this._selectedElement.scrollIntoViewIfNeeded(!1))},_canShowBox:function(a,b,c){return a&&a.length?a.length>1?!0:b&&a[0]!==c:!1},_rememberRowCountPerViewport:function(){this.contentElement.firstChild&&(this._rowCountPerViewport=Math.floor(this.containerElement.offsetHeight/this.contentElement.firstChild.offsetHeight))},updateSuggestions:function(a,b,c,d,e){this._canShowBox(b,d,e)?(this._updateItems(b,c,e),this._updateBoxPosition(a),this.visible()||this._bodyElement.appendChild(this._element),this._rememberRowCountPerViewport()):this.hide()},keyPressed:function(a){switch(a.keyIdentifier){case"Up":return this.upKeyPressed();case"Down":return this.downKeyPressed();case"PageUp":return this.pageUpKeyPressed();case"PageDown":return this.pageDownKeyPressed();case"Enter":return this.enterKeyPressed()}return!1},upKeyPressed:function(){return this._selectClosest(-1,!0)},downKeyPressed:function(){return this._selectClosest(1,!0)},pageUpKeyPressed:function(){return this._selectClosest(-this._rowCountPerViewport,!1)},pageDownKeyPressed:function(){return this._selectClosest(this._rowCountPerViewport,!1)},enterKeyPressed:function(){var a=!!this._selectedElement;return this.acceptSuggestion(),a}},WebInspector.TextPrompt=function(a,b){this._proxyElement,this._proxyElementDisplay="inline-block",this._loadCompletions=a,this._completionStopCharacters=b||" =:[({;,!+-*/&|^<>."},WebInspector.TextPrompt.Events={ItemApplied:"text-prompt-item-applied",ItemAccepted:"text-prompt-item-accepted"},WebInspector.TextPrompt.prototype={get proxyElement(){return this._proxyElement},setSuggestBoxEnabled:function(a){this._suggestBoxClassName=a},renderAsBlock:function(){this._proxyElementDisplay="block"},attach:function(a){return this._attachInternal(a)},attachAndStartEditing:function(a,b){return this._attachInternal(a),this._startEditing(b),this.proxyElement},_attachInternal:function(a){if(this.proxyElement)throw"Cannot attach an attached TextPrompt";return this._element=a,this._boundOnKeyDown=this.onKeyDown.bind(this),this._boundOnMouseWheel=this.onMouseWheel.bind(this),this._boundSelectStart=this._selectStart.bind(this),this._boundHideSuggestBox=this.hideSuggestBox.bind(this),this._proxyElement=a.ownerDocument.createElement("span"),this._proxyElement.style.display=this._proxyElementDisplay,a.parentElement.insertBefore(this.proxyElement,a),this.proxyElement.appendChild(a),this._element.classList.add("text-prompt"),this._element.addEventListener("keydown",this._boundOnKeyDown,!1),this._element.addEventListener("mousewheel",this._boundOnMouseWheel,!1),this._element.addEventListener("selectstart",this._boundSelectStart,!1),this._element.addEventListener("blur",this._boundHideSuggestBox,!1),"string"==typeof this._suggestBoxClassName&&(this._suggestBox=new WebInspector.SuggestBox(this,this._element,this._suggestBoxClassName)),this.proxyElement},detach:function(){this._removeFromElement(),this.proxyElement.parentElement.insertBefore(this._element,this.proxyElement),this.proxyElement.remove(),delete this._proxyElement,this._element.classList.remove("text-prompt"),this._element.removeEventListener("keydown",this._boundOnKeyDown,!1),this._element.removeEventListener("mousewheel",this._boundOnMouseWheel,!1),this._element.removeEventListener("selectstart",this._boundSelectStart,!1),WebInspector.restoreFocusFromElement(this._element)},get text(){return this._element.textContent},set text(a){this._removeSuggestionAids(),a?this._element.textContent=a:(this._element.removeChildren(),this._element.appendChild(document.createElement("br"))),this.moveCaretToEndOfPrompt(),this._element.scrollIntoView()},_removeFromElement:function(){this.clearAutoComplete(!0),this._element.removeEventListener("keydown",this._boundOnKeyDown,!1),this._element.removeEventListener("selectstart",this._boundSelectStart,!1),this._element.removeEventListener("blur",this._boundHideSuggestBox,!1),this._isEditing&&this._stopEditing(),this._suggestBox&&this._suggestBox.removeFromElement()},_startEditing:function(a){this._isEditing=!0,this._element.classList.add("editing"),a&&(this._blurListener=a,this._element.addEventListener("blur",this._blurListener,!1)),this._oldTabIndex=this._element.tabIndex,this._element.tabIndex<0&&(this._element.tabIndex=0),WebInspector.setCurrentFocusElement(this._element),this.text||this._updateAutoComplete()},_stopEditing:function(){this._element.tabIndex=this._oldTabIndex,this._blurListener&&this._element.removeEventListener("blur",this._blurListener,!1),this._element.classList.remove("editing"),delete this._isEditing},_removeSuggestionAids:function(){this.clearAutoComplete(),this.hideSuggestBox()},_selectStart:function(){function a(){delete this._selectionTimeout,!this.isCaretInsidePrompt()&&window.getSelection().isCollapsed&&(this.moveCaretToEndOfPrompt(),this.autoCompleteSoon())}this._selectionTimeout&&clearTimeout(this._selectionTimeout),this._removeSuggestionAids(),this._selectionTimeout=setTimeout(a.bind(this),100)},defaultKeyHandler:function(a,b){return this._updateAutoComplete(b),!1},_updateAutoComplete:function(a){this.clearAutoComplete(),this.autoCompleteSoon(a)},onMouseWheel:function(){},onKeyDown:function(a){var b=!1,c=!0;switch(a.keyIdentifier){case"U+0009":b=this.tabKeyPressed(a);break;case"Left":case"Home":this._removeSuggestionAids(),c=!1;break;case"Right":case"End":this.isCaretAtEndOfPrompt()?b=this.acceptAutoComplete():this._removeSuggestionAids(),c=!1;break;case"U+001B":this.isSuggestBoxVisible()&&(this._removeSuggestionAids(),b=!0);break;case"U+0020":!a.ctrlKey||a.metaKey||a.altKey||a.shiftKey||(this.defaultKeyHandler(a,!0),b=!0);break;case"Alt":case"Meta":case"Shift":case"Control":c=!1}return!b&&this.isSuggestBoxVisible()&&(b=this._suggestBox.keyPressed(a)),!b&&c&&(b=this.defaultKeyHandler(a)),b&&a.consume(!0),b},acceptAutoComplete:function(){var a=!1;return this.isSuggestBoxVisible()&&(a=this._suggestBox.acceptSuggestion()),a||(a=this._acceptSuggestionInternal()),a},clearAutoComplete:function(a){if(a&&this._completeTimeout&&(clearTimeout(this._completeTimeout),delete this._completeTimeout),delete this._waitingForCompletions,this.autoCompleteElement&&(this.autoCompleteElement.remove(),delete this.autoCompleteElement,this._userEnteredRange&&this._userEnteredText)){this._userEnteredRange.deleteContents(),this._element.normalize();var b=document.createTextNode(this._userEnteredText);this._userEnteredRange.insertNode(b);var c=document.createRange();c.setStart(b,this._userEnteredText.length),c.setEnd(b,this._userEnteredText.length);var d=window.getSelection();d.removeAllRanges(),d.addRange(c),delete this._userEnteredRange,delete this._userEnteredText}},autoCompleteSoon:function(a){var b=this.isSuggestBoxVisible()||a;this._completeTimeout||(this._completeTimeout=setTimeout(this.complete.bind(this,a),b?0:250))},complete:function(a,b){this.clearAutoComplete(!0);var c=window.getSelection();if(c.rangeCount){var d,e=c.getRangeAt(0);if(a||this.isCaretAtEndOfPrompt()||this.isSuggestBoxVisible())if(c.isCollapsed){if(!a){var f=e.startContainer.rangeOfWord(e.endOffset,this._completionStopCharacters,this._element,"forward");f.toString().length&&(d=!0)}}else d=!0;else d=!0;if(d)return void this.hideSuggestBox();var g=e.startContainer.rangeOfWord(e.startOffset,this._completionStopCharacters,this._element,"backward");this._waitingForCompletions=!0,this._loadCompletions(this.proxyElement,g,a,this._completionsReady.bind(this,c,g,!!b))}},disableDefaultSuggestionForEmptyInput:function(){this._disableDefaultSuggestionForEmptyInput=!0},_boxForAnchorAtStart:function(a,b){var c=a.getRangeAt(0).cloneRange(),d=document.createElement("span");d.textContent="​",b.insertNode(d);var e=d.boxInWindow(window);return d.remove(),a.removeAllRanges(),a.addRange(c),e},_buildCommonPrefix:function(a,b){for(var c=a[0],d=0;d<a.length;++d)for(var e=a[d],f=Math.min(c.length,e.length),g=b;f>g;++g)if(c[g]!==e[g]){c=c.substr(0,g);break}return c},_completionsReady:function(a,b,c,d,e){if(!this._waitingForCompletions||!d.length)return void this.hideSuggestBox();delete this._waitingForCompletions;var f=a.getRangeAt(0),g=document.createRange();if(g.setStart(b.startContainer,b.startOffset),g.setEnd(f.endContainer,f.endOffset),b.toString()+f.toString()===g.toString()&&(e=this._disableDefaultSuggestionForEmptyInput&&!this.text?-1:e||0,this._userEnteredRange=g,this._userEnteredText=g.toString(),this._suggestBox&&this._suggestBox.updateSuggestions(this._boxForAnchorAtStart(a,g),d,e,!this.isCaretAtEndOfPrompt(),this._userEnteredText),-1!==e)){var h=b.toString().length;if(this._commonPrefix=this._buildCommonPrefix(d,h),this.isCaretAtEndOfPrompt()){this._userEnteredRange.deleteContents(),this._element.normalize();var i=document.createRange(),j=d[e],k=j.substring(0,h),l=j.substring(h),m=document.createTextNode(k);g.insertNode(m),this.autoCompleteElement=document.createElement("span"),this.autoCompleteElement.className="auto-complete-text",this.autoCompleteElement.textContent=l,m.parentNode.insertBefore(this.autoCompleteElement,m.nextSibling),i.setStart(m,h),i.setEnd(m,h),a.removeAllRanges(),a.addRange(i),this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemApplied)}}},_completeCommonPrefix:function(){if(this.autoCompleteElement&&this._commonPrefix&&this._userEnteredText&&this._commonPrefix.startsWith(this._userEnteredText)){if(!this.isSuggestBoxVisible())return void this.acceptAutoComplete();this.autoCompleteElement.textContent=this._commonPrefix.substring(this._userEnteredText.length),this._acceptSuggestionInternal(!0)}},applySuggestion:function(a,b){this._applySuggestion(a,b)},_applySuggestion:function(a,b,c){var d;d=c?c.toString().length:this._userEnteredText?this._userEnteredText.length:0,this._userEnteredRange.deleteContents(),this._element.normalize();var e=document.createRange(),f=document.createTextNode(a);this._userEnteredRange.insertNode(f),this.autoCompleteElement&&(this.autoCompleteElement.remove(),delete this.autoCompleteElement),b?e.setStart(f,d):e.setStart(f,a.length),e.setEnd(f,a.length);var g=window.getSelection();g.removeAllRanges(),g.addRange(e),b&&this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemApplied,{itemText:a})},acceptSuggestion:function(){this._acceptSuggestionInternal()},_acceptSuggestionInternal:function(a){if(this._isAcceptingSuggestion)return!1;if(!this.autoCompleteElement||!this.autoCompleteElement.parentNode)return!1;var b=this.autoCompleteElement.textContent,c=document.createTextNode(b);this.autoCompleteElement.parentNode.replaceChild(c,this.autoCompleteElement),delete this.autoCompleteElement;var d=document.createRange();d.setStart(c,b.length),d.setEnd(c,b.length);var e=window.getSelection();return e.removeAllRanges(),e.addRange(d),a?this.autoCompleteSoon(!0):(this.hideSuggestBox(),this.dispatchEventToListeners(WebInspector.TextPrompt.Events.ItemAccepted)),!0},hideSuggestBox:function(){this.isSuggestBoxVisible()&&this._suggestBox.hide()},isSuggestBoxVisible:function(){return this._suggestBox&&this._suggestBox.visible()},isCaretInsidePrompt:function(){return this._element.isInsertionCaretInside()},isCaretAtEndOfPrompt:function(){var a=window.getSelection();if(!a.rangeCount||!a.isCollapsed)return!1;var b=a.getRangeAt(0),c=b.startContainer;if(!c.isSelfOrDescendant(this._element))return!1;if(c.nodeType===Node.TEXT_NODE&&b.startOffset<c.nodeValue.length)return!1;for(var d=!1;c;){if(c.nodeType===Node.TEXT_NODE&&c.nodeValue.length){if(d&&(!this.autoCompleteElement||!this.autoCompleteElement.isAncestor(c)))return!1;d=!0}c=c.traverseNextNode(this._element)}return!0},isCaretOnFirstLine:function(){var a=window.getSelection(),b=a.focusNode;if(!b||b.nodeType!==Node.TEXT_NODE||b.parentNode!==this._element)return!0;if(-1!==b.textContent.substring(0,a.focusOffset).indexOf("\n"))return!1;for(b=b.previousSibling;b;){if(b.nodeType!==Node.TEXT_NODE)return!0;if(-1!==b.textContent.indexOf("\n"))return!1;b=b.previousSibling}return!0},isCaretOnLastLine:function(){var a=window.getSelection(),b=a.focusNode;if(!b||b.nodeType!==Node.TEXT_NODE||b.parentNode!==this._element)return!0;if(-1!==b.textContent.substring(a.focusOffset).indexOf("\n"))return!1;for(b=b.nextSibling;b;){if(b.nodeType!==Node.TEXT_NODE)return!0;if(-1!==b.textContent.indexOf("\n"))return!1;b=b.nextSibling}return!0},moveCaretToEndOfPrompt:function(){var a=window.getSelection(),b=document.createRange(),c=this._element.childNodes.length;b.setStart(this._element,c),b.setEnd(this._element,c),a.removeAllRanges(),a.addRange(b)},tabKeyPressed:function(){return this._completeCommonPrefix(),!0},__proto__:WebInspector.Object.prototype},WebInspector.TextPromptWithHistory=function(a,b){WebInspector.TextPrompt.call(this,a,b),this._data=[],this._historyOffset=1,this._coalesceHistoryDupes=!0},WebInspector.TextPromptWithHistory.prototype={get historyData(){return this._data},setCoalesceHistoryDupes:function(a){this._coalesceHistoryDupes=a},setHistoryData:function(a){this._data=[].concat(a),this._historyOffset=1},pushHistoryItem:function(a){this._uncommittedIsTop&&(this._data.pop(),delete this._uncommittedIsTop),this._historyOffset=1,this._coalesceHistoryDupes&&a===this._currentHistoryItem()||this._data.push(a)},_pushCurrentText:function(){this._uncommittedIsTop&&this._data.pop(),this._uncommittedIsTop=!0,this.clearAutoComplete(!0),this._data.push(this.text)},_previous:function(){return this._historyOffset>this._data.length?void 0:(1===this._historyOffset&&this._pushCurrentText(),++this._historyOffset,this._currentHistoryItem())},_next:function(){return 1===this._historyOffset?void 0:(--this._historyOffset,this._currentHistoryItem())},_currentHistoryItem:function(){return this._data[this._data.length-this._historyOffset]},defaultKeyHandler:function(a){var b,c;switch(a.keyIdentifier){case"Up":if(!this.isCaretOnFirstLine())break;b=this._previous(),c=!0;break;case"Down":if(!this.isCaretOnLastLine())break;b=this._next();break;case"U+0050":!WebInspector.isMac()||!a.ctrlKey||a.metaKey||a.altKey||a.shiftKey||(b=this._previous(),c=!0);break;case"U+004E":!WebInspector.isMac()||!a.ctrlKey||a.metaKey||a.altKey||a.shiftKey||(b=this._next())}if(void 0!==b){if(a.consume(!0),this.text=b,c){var d=this.text.indexOf("\n");if(-1===d)this.moveCaretToEndOfPrompt();else{var e=window.getSelection(),f=document.createRange();f.setStart(this._element.firstChild,d),f.setEnd(this._element.firstChild,d),e.removeAllRanges(),e.addRange(f)}}return!0}return WebInspector.TextPrompt.prototype.defaultKeyHandler.apply(this,arguments)},__proto__:WebInspector.TextPrompt.prototype},WebInspector.Popover=function(a){WebInspector.View.call(this),this.markAsRoot(),this.element.className="popover custom-popup-vertical-scroll custom-popup-horizontal-scroll",this._popupArrowElement=document.createElement("div"),this._popupArrowElement.className="arrow",this.element.appendChild(this._popupArrowElement),this._contentDiv=document.createElement("div"),this._contentDiv.className="content",this.element.appendChild(this._contentDiv),this._popoverHelper=a},WebInspector.Popover.prototype={show:function(a,b,c,d,e){this._innerShow(null,a,b,c,d,e)},showView:function(a,b,c,d){this._innerShow(a,a.element,b,c,d)},_innerShow:function(a,b,c,d,e,f){if(!this._disposed){this.contentElement=b,WebInspector.Popover._popover&&WebInspector.Popover._popover.detach(),WebInspector.Popover._popover=this;var g=a?a.measurePreferredSize():this.contentElement.measurePreferredSize();d=d||g.width,e=e||g.height,WebInspector.View.prototype.show.call(this,document.body),a?a.show(this._contentDiv):this._contentDiv.appendChild(this.contentElement),this._positionElement(c,d,e,f),this._popoverHelper&&(this._contentDiv.addEventListener("mousemove",this._popoverHelper._killHidePopoverTimer.bind(this._popoverHelper),!0),this.element.addEventListener("mouseout",this._popoverHelper._popoverMouseOut.bind(this._popoverHelper),!0))}},hide:function(){this.detach(),delete WebInspector.Popover._popover},get disposed(){return this._disposed},dispose:function(){this.isShowing()&&this.hide(),this._disposed=!0},setCanShrink:function(a){this._hasFixedHeight=!a,this._contentDiv.classList.add("fixed-height")},_positionElement:function(a,b,c,d){const e=25,f=this._hasFixedHeight?0:11,g=15,h=10,i=10;b=Math.max(b,50);const j=WebInspector.Dialog.modalHostView().element,k=j.offsetWidth,l=j.offsetHeight;var m=a instanceof AnchorBox?a:a.boxInWindow(window);m=m.relativeToElement(j);var n,o={x:0,y:0,width:b+f,height:c},p=m.y,q=l-m.y-m.height;p>q||d===WebInspector.Popover.Orientation.Bottom?(m.y>o.height+g+i||d===WebInspector.Popover.Orientation.Bottom?o.y=m.y-o.height-g:(o.y=i,o.height=m.y-20-g,this._hasFixedHeight&&o.height<c&&(o.y=i,o.height=c)),n=WebInspector.Popover.Orientation.Bottom):(o.y=m.y+m.height+g,o.y+o.height+i>=l&&d!==WebInspector.Popover.Orientation.Top&&(o.height=l-i-o.y,this._hasFixedHeight&&o.height<c&&(o.y=l-c-i,o.height=c)),n=WebInspector.Popover.Orientation.Top);var r;if(m.x+o.width<k)o.x=Math.max(i,m.x-i-h),r="left";else if(o.width+20<k){o.x=k-o.width-i,r="right";var s=Math.max(0,k-m.x-m.width-i-h);s+=m.width/2,s=Math.min(s,o.width-i-h),this._popupArrowElement.style.right=s+"px"}else o.x=i,o.width=k-20,o.height+=f,r="left",n===WebInspector.Popover.Orientation.Bottom&&(o.y-=f),this._popupArrowElement.style.left=Math.max(0,m.x-20-h)+"px",this._popupArrowElement.style.left+=m.width/2;this.element.className="popover custom-popup-vertical-scroll custom-popup-horizontal-scroll "+n+"-"+r+"-arrow",this.element.positionAt(o.x-e,o.y-e,j),this.element.style.width=o.width+50+"px",this.element.style.height=o.height+50+"px"},__proto__:WebInspector.View.prototype},WebInspector.PopoverHelper=function(a,b,c,d,e){this._panelElement=a,this._getAnchor=b,this._showPopover=c,this._onHide=d,this._disableOnClick=!!e,a.addEventListener("mousedown",this._mouseDown.bind(this),!1),a.addEventListener("mousemove",this._mouseMove.bind(this),!1),a.addEventListener("mouseout",this._mouseOut.bind(this),!1),this.setTimeout(1e3)},WebInspector.PopoverHelper.prototype={setTimeout:function(a){this._timeout=a},_eventInHoverElement:function(a){if(!this._hoverElement)return!1;var b=this._hoverElement instanceof AnchorBox?this._hoverElement:this._hoverElement.boxInWindow();return b.x<=a.clientX&&a.clientX<=b.x+b.width&&b.y<=a.clientY&&a.clientY<=b.y+b.height},_mouseDown:function(a){this._disableOnClick||!this._eventInHoverElement(a)?this.hidePopover():(this._killHidePopoverTimer(),this._handleMouseAction(a,!0))},_mouseMove:function(a){this._eventInHoverElement(a)||(this._startHidePopoverTimer(),this._handleMouseAction(a,!1))},_popoverMouseOut:function(a){this.isPopoverVisible()&&a.relatedTarget&&!a.relatedTarget.isSelfOrDescendant(this._popover._contentDiv)&&this._startHidePopoverTimer()},_mouseOut:function(a){this.isPopoverVisible()&&(this._eventInHoverElement(a)||this._startHidePopoverTimer())},_startHidePopoverTimer:function(){function a(){this._hidePopover(),delete this._hidePopoverTimer}this._popover&&!this._hidePopoverTimer&&(this._hidePopoverTimer=setTimeout(a.bind(this),this._timeout/2))},_handleMouseAction:function(a,b){if(this._resetHoverTimer(),(!a.which||!this._disableOnClick)&&(this._hoverElement=this._getAnchor(a.target,a),this._hoverElement)){const c=b?0:this._popup?.6*this._timeout:this._timeout;this._hoverTimer=setTimeout(this._mouseHover.bind(this,this._hoverElement),c)}},_resetHoverTimer:function(){this._hoverTimer&&(clearTimeout(this._hoverTimer),delete this._hoverTimer)},isPopoverVisible:function(){return!!this._popover},hidePopover:function(){this._resetHoverTimer(),this._hidePopover()},_hidePopover:function(){this._popover&&(this._onHide&&this._onHide(),this._popover.dispose(),delete this._popover,this._hoverElement=null)},_mouseHover:function(a){delete this._hoverTimer,this._hidePopover(),this._popover=new WebInspector.Popover(this),this._showPopover(a,this._popover)},_killHidePopoverTimer:function(){this._hidePopoverTimer&&(clearTimeout(this._hidePopoverTimer),delete this._hidePopoverTimer,this._resetHoverTimer())}},WebInspector.Popover.Orientation={Top:"top",Bottom:"bottom"},WebInspector.Placard=function(a,b){this.element=document.createElementWithClass("div","placard"),this.element.placard=this,this.subtitleElement=this.element.createChild("div","subtitle"),this.titleElement=this.element.createChild("div","title"),this.title=a,this.subtitle=b,this.selected=!1},WebInspector.Placard.prototype={get title(){return this._title},set title(a){this._title!==a&&(this._title=a,this.titleElement.textContent=a)},get subtitle(){return this._subtitle},set subtitle(a){this._subtitle!==a&&(this._subtitle=a,this.subtitleElement.textContent=a)},get selected(){return this._selected},set selected(a){a?this.select():this.deselect()},select:function(){this._selected||(this._selected=!0,this.element.classList.add("selected"))},deselect:function(){this._selected&&(this._selected=!1,this.element.classList.remove("selected"))
},toggleSelected:function(){this.selected=!this.selected},discard:function(){}},WebInspector.TabbedPane=function(){WebInspector.VBox.call(this),this.element.classList.add("tabbed-pane"),this._headerElement=this.element.createChild("div","tabbed-pane-header"),this._headerContentsElement=this._headerElement.createChild("div","tabbed-pane-header-contents"),this._tabsElement=this._headerContentsElement.createChild("div","tabbed-pane-header-tabs"),this._contentElement=this.element.createChild("div","tabbed-pane-content scroll-target"),this._tabs=[],this._tabsHistory=[],this._tabsById={},this._dropDownButton=this._createDropDownButton()},WebInspector.TabbedPane.EventTypes={TabSelected:"TabSelected",TabClosed:"TabClosed"},WebInspector.TabbedPane.prototype={get visibleView(){return this._currentTab?this._currentTab.view:null},get selectedTabId(){return this._currentTab?this._currentTab.id:null},set shrinkableTabs(a){this._shrinkableTabs=a},set verticalTabLayout(a){this._verticalTabLayout=a,this.invalidateMinimumSize()},set closeableTabs(a){this._closeableTabs=a},setRetainTabOrder:function(a,b){this._retainTabOrder=a,this._tabOrderComparator=b},defaultFocusedElement:function(){return this.visibleView?this.visibleView.defaultFocusedElement():null},focus:function(){this.visibleView?this.visibleView.focus():WebInspector.View.prototype.focus.call(this)},headerElement:function(){return this._headerElement},isTabCloseable:function(a){var b=this._tabsById[a];return b?b.isCloseable():!1},setTabDelegate:function(a){for(var b=this._tabs.slice(),c=0;c<b.length;++c)b[c].setDelegate(a);this._delegate=a},appendTab:function(a,b,c,d,e,f){function g(a,b){return this._tabOrderComparator(a.id,b.id)}f="boolean"==typeof f?f:this._closeableTabs;var h=new WebInspector.TabbedPaneTab(this,a,b,f,c,d);h.setDelegate(this._delegate),this._tabsById[a]=h,this._retainTabOrder&&this._tabOrderComparator?this._tabs.splice(insertionIndexForObjectInListSortedByFunction(h,this._tabs,g.bind(this)),0,h):this._tabs.push(h),this._tabsHistory.push(h),this._tabsHistory[0]===h&&this.isShowing()&&this.selectTab(h.id,e),this._updateTabElements()},closeTab:function(a,b){this.closeTabs([a],b)},closeTabs:function(a,b){for(var c=0;c<a.length;++c)this._innerCloseTab(a[c],b);this._updateTabElements(),this._tabsHistory.length&&this.selectTab(this._tabsHistory[0].id,!1)},_innerCloseTab:function(a,b){if(this._tabsById[a]&&(!b||this._tabsById[a]._closeable)){this._currentTab&&this._currentTab.id===a&&this._hideCurrentTab();var c=this._tabsById[a];delete this._tabsById[a],this._tabsHistory.splice(this._tabsHistory.indexOf(c),1),this._tabs.splice(this._tabs.indexOf(c),1),c._shown&&this._hideTabElement(c);var d={tabId:a,view:c.view,isUserGesture:b};return this.dispatchEventToListeners(WebInspector.TabbedPane.EventTypes.TabClosed,d),!0}},hasTab:function(a){return!!this._tabsById[a]},allTabs:function(){for(var a=[],b=this._tabs.slice(),c=0;c<b.length;++c)a.push(b[c].id);return a},otherTabs:function(a){for(var b=[],c=this._tabs.slice(),d=0;d<c.length;++d)c[d].id!==a&&b.push(c[d].id);return b},selectTab:function(a,b){var c=this._tabsById[a];if(c&&(!this._currentTab||this._currentTab.id!==a)){this._hideCurrentTab(),this._showTab(c),this._currentTab=c,this._tabsHistory.splice(this._tabsHistory.indexOf(c),1),this._tabsHistory.splice(0,0,c),this._updateTabElements();var d={tabId:a,view:c.view,isUserGesture:b};this.dispatchEventToListeners(WebInspector.TabbedPane.EventTypes.TabSelected,d)}},lastOpenedTabIds:function(a){function b(a){return a.id}return this._tabsHistory.slice(0,a).map(b)},setTabIcon:function(a,b,c){var d=this._tabsById[a];d._setIconClass(b,c)&&this._updateTabElements()},changeTabTitle:function(a,b){var c=this._tabsById[a];c.title!==b&&(c.title=b,this._updateTabElements())},changeTabView:function(a,b){var c=this._tabsById[a];this._currentTab&&this._currentTab.id===c.id?(c.view!==b&&this._hideTab(c),c.view=b,this._showTab(c)):c.view=b},changeTabTooltip:function(a,b){var c=this._tabsById[a];c.tooltip=b},onResize:function(){this._updateTabElements()},headerResized:function(){this._updateTabElements()},wasShown:function(){var a=this._currentTab||this._tabsHistory[0];a&&this.selectTab(a.id),this.invalidateMinimumSize()},calculateMinimumSize:function(){var a=WebInspector.VBox.prototype.calculateMinimumSize.call(this);return this._verticalTabLayout?a.width+=this._headerElement.offsetWidth:a.height+=this._headerElement.offsetHeight,a},_updateTabElements:function(){WebInspector.invokeOnceAfterBatchUpdate(this,this._innerUpdateTabElements)},setPlaceholderText:function(a){this._noTabsMessage=a},_innerUpdateTabElements:function(){this.isShowing()&&(this._tabs.length?(this._contentElement.classList.remove("has-no-tabs"),this._noTabsMessageElement&&(this._noTabsMessageElement.remove(),delete this._noTabsMessageElement)):(this._contentElement.classList.add("has-no-tabs"),this._noTabsMessage&&!this._noTabsMessageElement&&(this._noTabsMessageElement=this._contentElement.createChild("div","tabbed-pane-placeholder fill"),this._noTabsMessageElement.textContent=this._noTabsMessage)),this._measuredDropDownButtonWidth||this._measureDropDownButton(),this._updateWidths(),this._updateTabsDropDown())},_showTabElement:function(a,b){a>=this._tabsElement.children.length?this._tabsElement.appendChild(b.tabElement):this._tabsElement.insertBefore(b.tabElement,this._tabsElement.children[a]),b._shown=!0},_hideTabElement:function(a){this._tabsElement.removeChild(a.tabElement),a._shown=!1},_createDropDownButton:function(){var a=document.createElement("div");a.classList.add("tabbed-pane-header-tabs-drop-down-container");var b=a.createChild("div","tabbed-pane-header-tabs-drop-down");return b.appendChild(document.createTextNode("»")),this._dropDownMenu=new WebInspector.DropDownMenu,this._dropDownMenu.addEventListener(WebInspector.DropDownMenu.Events.ItemSelected,this._dropDownMenuItemSelected,this),b.appendChild(this._dropDownMenu.element),a},_dropDownMenuItemSelected:function(a){var b=a.data;this.selectTab(b,!0)},_totalWidth:function(){return this._headerContentsElement.getBoundingClientRect().width},_updateTabsDropDown:function(){for(var a=this._tabsToShowIndexes(this._tabs,this._tabsHistory,this._totalWidth(),this._measuredDropDownButtonWidth),b=0;b<this._tabs.length;++b)this._tabs[b]._shown&&-1===a.indexOf(b)&&this._hideTabElement(this._tabs[b]);for(var b=0;b<a.length;++b){var c=this._tabs[a[b]];c._shown||this._showTabElement(b,c)}this._populateDropDownFromIndex()},_populateDropDownFromIndex:function(){function a(a,b){return a.title.localeCompare(b.title)}this._dropDownButton.parentElement&&this._headerContentsElement.removeChild(this._dropDownButton),this._dropDownMenu.clear();for(var b=[],c=0;c<this._tabs.length;++c)this._tabs[c]._shown||b.push(this._tabs[c]);this._retainTabOrder||b.sort(a);for(var d=null,c=0;c<b.length;++c){var e=b[c];this._dropDownMenu.addItem(e.id,e.title),this._tabsHistory[0]===e&&(d=e.id)}b.length&&(this._headerContentsElement.appendChild(this._dropDownButton),this._dropDownMenu.selectItem(d))},_measureDropDownButton:function(){this._dropDownButton.classList.add("measuring"),this._headerContentsElement.appendChild(this._dropDownButton),this._measuredDropDownButtonWidth=this._dropDownButton.getBoundingClientRect().width,this._headerContentsElement.removeChild(this._dropDownButton),this._dropDownButton.classList.remove("measuring")},_updateWidths:function(){var a=this._measureWidths(),b=this._shrinkableTabs?this._calculateMaxWidth(a.slice(),this._totalWidth()):Number.MAX_VALUE,c=0;for(var d in this._tabs){var e=this._tabs[d];e.setWidth(this._verticalTabLayout?-1:Math.min(b,a[c++]))}},_measureWidths:function(){this._tabsElement.style.setProperty("width","2000px");var a=[];for(var b in this._tabs){var c=this._tabs[b];if("number"!=typeof c._measuredWidth){var d=c._createTabElement(!0);d.__tab=c,a.push(d),this._tabsElement.appendChild(d)}}for(var e=0;e<a.length;++e)a[e].__tab._measuredWidth=a[e].getBoundingClientRect().width;for(var e=0;e<a.length;++e)a[e].remove();var f=[];for(var b in this._tabs)f.push(this._tabs[b]._measuredWidth);return this._tabsElement.style.removeProperty("width"),f},_calculateMaxWidth:function(a,b){if(!a.length)return 0;a.sort(function(a,b){return a-b});for(var c=0,d=0;d<a.length;++d)c+=a[d];if(b>=c)return a[a.length-1];for(var e=0,d=a.length-1;d>0;--d){var f=a[d]-a[d-1];if(e+=(a.length-d)*f,b+e>=c)return a[d-1]+(b+e-c)/(a.length-d)}return b/a.length},_tabsToShowIndexes:function(a,b,c,d){for(var e=[],f=0,g=a.length,h=0;g>h;++h){var i=this._retainTabOrder?a[h]:b[h];f+=i.width();var j=f;if(h!==g-1&&(j+=d),!this._verticalTabLayout&&j>c)break;e.push(a.indexOf(i))}return e.sort(function(a,b){return a-b}),e},_hideCurrentTab:function(){this._currentTab&&(this._hideTab(this._currentTab),delete this._currentTab)},_showTab:function(a){a.tabElement.classList.add("selected"),a.view.show(this._contentElement)},_hideTab:function(a){a.tabElement.classList.remove("selected"),a.view.detach()},elementsToRestoreScrollPositionsFor:function(){return[this._contentElement]},_insertBefore:function(a,b){this._tabsElement.insertBefore(a._tabElement,this._tabsElement.childNodes[b]);var c=this._tabs.indexOf(a);this._tabs.splice(c,1),b>c&&--b,this._tabs.splice(b,0,a)},__proto__:WebInspector.VBox.prototype},WebInspector.TabbedPaneTab=function(a,b,c,d,e,f){this._closeable=d,this._tabbedPane=a,this._id=b,this._title=c,this._tooltip=f,this._view=e,this._shown=!1,this._measuredWidth,this._tabElement},WebInspector.TabbedPaneTab.prototype={get id(){return this._id},get title(){return this._title},set title(a){a!==this._title&&(this._title=a,this._titleElement&&(this._titleElement.textContent=a),delete this._measuredWidth)},iconClass:function(){return this._iconClass},isCloseable:function(){return this._closeable},_setIconClass:function(a,b){return a===this._iconClass&&b===this._iconTooltip?!1:(this._iconClass=a,this._iconTooltip=b,this._iconElement&&this._iconElement.remove(),this._iconClass&&this._tabElement&&(this._iconElement=this._createIconElement(this._tabElement,this._titleElement)),delete this._measuredWidth,!0)},get view(){return this._view},set view(a){this._view=a},get tooltip(){return this._tooltip},set tooltip(a){this._tooltip=a,this._titleElement&&(this._titleElement.title=a||"")},get tabElement(){return this._tabElement||(this._tabElement=this._createTabElement(!1)),this._tabElement},width:function(){return this._width},setWidth:function(a){this.tabElement.style.width=-1===a?"":a+"px",this._width=a},setDelegate:function(a){this._delegate=a},_createIconElement:function(a,b){var c=document.createElement("span");return c.className="tabbed-pane-header-tab-icon "+this._iconClass,this._iconTooltip&&(c.title=this._iconTooltip),a.insertBefore(c,b),c},_createTabElement:function(a){var b=document.createElement("div");b.classList.add("tabbed-pane-header-tab"),b.id="tab-"+this._id,b.tabIndex=-1,b.selectTabForTest=this._tabbedPane.selectTab.bind(this._tabbedPane,this.id,!0);var c=b.createChild("span","tabbed-pane-header-tab-title");return c.textContent=this.title,c.title=this.tooltip||"",this._iconClass&&this._createIconElement(b,c),a||(this._titleElement=c),this._closeable&&b.createChild("div","close-button-gray"),a?b.classList.add("measuring"):(b.addEventListener("click",this._tabClicked.bind(this),!1),b.addEventListener("mousedown",this._tabMouseDown.bind(this),!1),b.addEventListener("mouseup",this._tabMouseUp.bind(this),!1),this._closeable&&(b.addEventListener("contextmenu",this._tabContextMenu.bind(this),!1),WebInspector.installDragHandle(b,this._startTabDragging.bind(this),this._tabDragging.bind(this),this._endTabDragging.bind(this),"pointer"))),b},_tabClicked:function(a){var b=1===a.button,c=this._closeable&&(b||a.target.classList.contains("close-button-gray"));return c?(this._closeTabs([this.id]),void a.consume(!0)):void this._tabbedPane.focus()},_tabMouseDown:function(a){a.target.classList.contains("close-button-gray")||1===a.button||this._tabbedPane.selectTab(this.id,!0)},_tabMouseUp:function(a){1===a.button&&a.consume(!0)},_closeTabs:function(a){return this._delegate?void this._delegate.closeTabs(this._tabbedPane,a):void this._tabbedPane.closeTabs(a,!0)},_tabContextMenu:function(a){function b(){this._closeTabs([this.id])}function c(){this._closeTabs(this._tabbedPane.otherTabs(this.id))}function d(){this._closeTabs(this._tabbedPane.allTabs())}var e=new WebInspector.ContextMenu(a);e.appendItem(WebInspector.UIString("Close"),b.bind(this)),e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Close others":"Close Others"),c.bind(this)),e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Close all":"Close All"),d.bind(this)),e.show()},_startTabDragging:function(a){return a.target.classList.contains("close-button-gray")?!1:(this._dragStartX=a.pageX,!0)},_tabDragging:function(a){for(var b=this._tabbedPane._tabsElement.childNodes,c=0;c<b.length;++c){var d=b[c];if(d!==this._tabElement){var e=d.offsetLeft+d.clientWidth>this._tabElement.offsetLeft&&this._tabElement.offsetLeft+this._tabElement.clientWidth>d.offsetLeft;if(e){if(Math.abs(a.pageX-this._dragStartX)<d.clientWidth/2+5)break;a.pageX-this._dragStartX>0&&(d=d.nextSibling,++c);var f=this._tabElement.offsetLeft;this._tabbedPane._insertBefore(this,c),this._dragStartX+=this._tabElement.offsetLeft-f;break}}}return!this._tabElement.previousSibling&&a.pageX-this._dragStartX<0?void this._tabElement.style.setProperty("left","0px"):!this._tabElement.nextSibling&&a.pageX-this._dragStartX>0?void this._tabElement.style.setProperty("left","0px"):(this._tabElement.style.setProperty("position","relative"),void this._tabElement.style.setProperty("left",a.pageX-this._dragStartX+"px"))},_endTabDragging:function(){this._tabElement.style.removeProperty("position"),this._tabElement.style.removeProperty("left"),delete this._dragStartX}},WebInspector.TabbedPaneTabDelegate=function(){},WebInspector.TabbedPaneTabDelegate.prototype={closeTabs:function(){}},WebInspector.ExtensibleTabbedPaneController=function(a,b,c){this._tabbedPane=a,this._extensionPoint=b,this._viewCallback=c,this._tabbedPane.setRetainTabOrder(!0,WebInspector.moduleManager.orderComparator(b,"name","order")),this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this),this._views=new StringMap,this._initialize()},WebInspector.ExtensibleTabbedPaneController.prototype={_initialize:function(){this._extensions={};for(var a=WebInspector.moduleManager.extensions(this._extensionPoint),b=0;b<a.length;++b){var c=a[b].descriptor(),d=c.name,e=WebInspector.UIString(c.title),f=c.setting,g=f?WebInspector.settings[f]:null;this._extensions[d]=a[b],g?(g.addChangeListener(this._toggleSettingBasedView.bind(this,d,e,g)),g.get()&&this._tabbedPane.appendTab(d,e,new WebInspector.View)):this._tabbedPane.appendTab(d,e,new WebInspector.View)}},_toggleSettingBasedView:function(a,b,c){this._tabbedPane.closeTab(a),c.get()&&this._tabbedPane.appendTab(a,b,new WebInspector.View)},_tabSelected:function(){var a=this._tabbedPane.selectedTabId,b=this._viewForId(a);b&&this._tabbedPane.changeTabView(a,b)},_viewForId:function(a){if(this._views.contains(a))return this._views.get(a);var b=this._extensions[a]?this._extensions[a].instance():null;return this._views.put(a,b),this._viewCallback&&b&&this._viewCallback(a,b),b}},WebInspector.ViewportControl=function(a){this.element=document.createElement("div"),this.element.className="fill",this.element.style.overflow="auto",this._topGapElement=this.element.createChild("div"),this._contentElement=this.element.createChild("div"),this._bottomGapElement=this.element.createChild("div"),this._provider=a,this.element.addEventListener("scroll",this._onScroll.bind(this),!1),this._firstVisibleIndex=0,this._lastVisibleIndex=-1},WebInspector.ViewportControl.Provider=function(){},WebInspector.ViewportControl.Provider.prototype={itemCount:function(){return 0},itemElement:function(){return null}},WebInspector.ViewportControl.prototype={contentElement:function(){return this._contentElement},refresh:function(){if(this.element.clientHeight){this._contentElement.style.setProperty("height","100000px"),this._contentElement.removeChildren();var a=this._provider.itemCount();if(!a)return this._firstVisibleIndex=-1,void(this._lastVisibleIndex=-1);if(!this._rowHeight){var b=this._provider.itemElement(0);this._rowHeight=b.measurePreferredSize(this._contentElement).height}var c=this.element.scrollTop,d=c+this.element.clientHeight;this._firstVisibleIndex=Math.floor(c/this._rowHeight),this._lastVisibleIndex=Math.min(Math.ceil(d/this._rowHeight),a)-1,this._topGapElement.style.height=this._rowHeight*this._firstVisibleIndex+"px",this._bottomGapElement.style.height=this._rowHeight*(a-this._lastVisibleIndex-1)+"px";for(var e=this._firstVisibleIndex;e<=this._lastVisibleIndex;++e)this._contentElement.appendChild(this._provider.itemElement(e));this._contentElement.style.removeProperty("height")}},_onScroll:function(){this.refresh()},rowsPerViewport:function(){return Math.floor(this.element.clientHeight/this._rowHeight)},firstVisibleIndex:function(){return this._firstVisibleIndex},lastVisibleIndex:function(){return this._lastVisibleIndex},renderedElementAt:function(a){return a<this._firstVisibleIndex?null:a>this._lastVisibleIndex?null:this._contentElement.childNodes[a-this._firstVisibleIndex]},scrollItemIntoView:function(a,b){a>this._firstVisibleIndex&&a<this._lastVisibleIndex||(this.element.scrollTop=b?this._rowHeight*(a+1)-this.element.clientHeight:this._rowHeight*a)}},WebInspector.Drawer=function(a){WebInspector.VBox.call(this),this.element.id="drawer-contents",this._splitView=a,a.hideDefaultResizer(),this.show(a.sidebarElement()),this._drawerEditorSplitView=new WebInspector.SplitView(!0,!0,"editorInDrawerSplitViewState",.5,.5),this._drawerEditorSplitView.hideSidebar(),this._drawerEditorSplitView.addEventListener(WebInspector.SplitView.Events.ShowModeChanged,this._drawerEditorSplitViewShowModeChanged,this),this._drawerEditorShownSetting=WebInspector.settings.createSetting("drawerEditorShown",!0),this._drawerEditorSplitView.show(this.element),this._toggleDrawerButton=new WebInspector.StatusBarButton(WebInspector.UIString("Show drawer."),"console-status-bar-item"),this._toggleDrawerButton.addEventListener("click",this.toggle,this),this._tabbedPane=new WebInspector.TabbedPane,this._tabbedPane.element.id="drawer-tabbed-pane",this._tabbedPane.closeableTabs=!1,this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this),new WebInspector.ExtensibleTabbedPaneController(this._tabbedPane,"drawer-view"),this._toggleDrawerEditorButton=this._drawerEditorSplitView.createShowHideSidebarButton("editor in drawer","drawer-editor-show-hide-button"),this._tabbedPane.element.appendChild(this._toggleDrawerEditorButton.element),WebInspector.experimentsSettings.showEditorInDrawer.isEnabled()||this.setDrawerEditorAvailable(!1),a.installResizer(this._tabbedPane.headerElement()),this._lastSelectedViewSetting=WebInspector.settings.createSetting("WebInspector.Drawer.lastSelectedView","console"),this._tabbedPane.show(this._drawerEditorSplitView.mainElement())},WebInspector.Drawer.prototype={toggleButtonElement:function(){return this._toggleDrawerButton.element},closeView:function(a){this._tabbedPane.closeTab(a)},showView:function(a,b){return this._tabbedPane.hasTab(a)?(this._innerShow(b),this._tabbedPane.selectTab(a,!0),void this._lastSelectedViewSetting.set(a)):void this._innerShow(b)},showCloseableView:function(a,b,c){this._tabbedPane.hasTab(a)?(this._tabbedPane.changeTabView(a,c),this._tabbedPane.changeTabTitle(a,b)):this._tabbedPane.appendTab(a,b,c,void 0,!1,!0),this._innerShow(),this._tabbedPane.selectTab(a,!0)},showDrawer:function(){this.showView(this._lastSelectedViewSetting.get())},wasShown:function(){this.showView(this._lastSelectedViewSetting.get()),this._toggleDrawerButton.toggled=!0,this._toggleDrawerButton.title=WebInspector.UIString("Hide drawer."),this._ensureDrawerEditorExistsIfNeeded()},willHide:function(){this._toggleDrawerButton.toggled=!1,this._toggleDrawerButton.title=WebInspector.UIString("Show drawer.")},_innerShow:function(a){this.isShowing()||(this._splitView.showBoth(!a),this._visibleView()&&this._visibleView().focus())},closeDrawer:function(){this.isShowing()&&(WebInspector.restoreFocusFromElement(this.element),this._splitView.hideSidebar(!0))},_visibleView:function(){return this._tabbedPane.visibleView},_tabSelected:function(a){var b=this._tabbedPane.selectedTabId;a.data.isUserGesture&&!this._tabbedPane.isTabCloseable(b)&&this._lastSelectedViewSetting.set(b)},toggle:function(){this._toggleDrawerButton.toggled?this.closeDrawer():this.showDrawer()},visible:function(){return this._toggleDrawerButton.toggled},selectedViewId:function(){return this._tabbedPane.selectedTabId},_drawerEditorSplitViewShowModeChanged:function(a){var b=a.data,c=b===WebInspector.SplitView.ShowMode.Both;this._isHidingDrawerEditor||(this._drawerEditorShownSetting.set(c),c&&(this._ensureDrawerEditor(),this._drawerEditor.view().show(this._drawerEditorSplitView.sidebarElement())))},initialPanelShown:function(){this._initialPanelWasShown=!0,this._ensureDrawerEditorExistsIfNeeded()},_ensureDrawerEditorExistsIfNeeded:function(){this._initialPanelWasShown&&this.isShowing()&&this._drawerEditorShownSetting.get()&&WebInspector.experimentsSettings.showEditorInDrawer.isEnabled()&&this._ensureDrawerEditor()},_ensureDrawerEditor:function(){this._drawerEditor||(this._drawerEditor=WebInspector.moduleManager.instance(WebInspector.DrawerEditor),this._drawerEditor.installedIntoDrawer())},setDrawerEditorAvailable:function(a){WebInspector.experimentsSettings.showEditorInDrawer.isEnabled()||(a=!1),this._toggleDrawerEditorButton.element.classList.toggle("hidden",!a)},showDrawerEditor:function(){WebInspector.experimentsSettings.showEditorInDrawer.isEnabled()&&(this._splitView.showBoth(),this._drawerEditorSplitView.showBoth())},hideDrawerEditor:function(){this._isHidingDrawerEditor=!0,this._drawerEditorSplitView.hideSidebar(),this._isHidingDrawerEditor=!1},isDrawerEditorShown:function(){return this._drawerEditorShownSetting.get()},__proto__:WebInspector.VBox.prototype},WebInspector.Drawer.ViewFactory=function(){},WebInspector.Drawer.ViewFactory.prototype={createView:function(){}},WebInspector.Drawer.SingletonViewFactory=function(a){this._constructor=a},WebInspector.Drawer.SingletonViewFactory.prototype={createView:function(){return this._instance||(this._instance=new this._constructor),this._instance}},WebInspector.DrawerEditor=function(){},WebInspector.DrawerEditor.prototype={view:function(){},installedIntoDrawer:function(){}},WebInspector.ConsoleModel=function(a){this.messages=[],this.warnings=0,this.errors=0,this._target=a,this._consoleAgent=a.consoleAgent(),a.registerConsoleDispatcher(new WebInspector.ConsoleDispatcher(this)),this._enableAgent()},WebInspector.ConsoleModel.Events={ConsoleCleared:"ConsoleCleared",MessageAdded:"MessageAdded",CommandEvaluated:"CommandEvaluated"},WebInspector.ConsoleModel.prototype={_enableAgent:function(){function a(){delete this._enablingConsole}WebInspector.settings.monitoringXHREnabled.get()&&this._consoleAgent.setMonitoringXHREnabled(!0),this._enablingConsole=!0,this._consoleAgent.enable(a.bind(this))},enablingConsole:function(){return!!this._enablingConsole},addMessage:function(a,b){b&&WebInspector.SourceMap.hasSourceMapRequestHeader(a.request)||(a.index=this.messages.length,this.messages.push(a),this._incrementErrorWarningCount(a),this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.MessageAdded,a))},evaluateCommand:function(a,b){function c(b,c){b&&this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.CommandEvaluated,{result:b,wasThrown:c,text:a,commandMessage:d})}this.show();var d=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.JS,null,a,WebInspector.ConsoleMessage.MessageType.Command);this.addMessage(d),this._target.runtimeModel.evaluate(a,"console",b,!1,!1,!0,c.bind(this)),WebInspector.userMetrics.ConsoleEvaluated.record()},show:function(){WebInspector.Revealer.reveal(this)},evaluate:function(a){this.evaluateCommand(a,!1)},log:function(a,b,c){var d=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.Other,b||WebInspector.ConsoleMessage.MessageLevel.Debug,a);this.addMessage(d),c&&this.show()},showErrorMessage:function(a){this.log(a,WebInspector.ConsoleMessage.MessageLevel.Error,!0)},_incrementErrorWarningCount:function(a){switch(a.level){case WebInspector.ConsoleMessage.MessageLevel.Warning:this.warnings++;break;case WebInspector.ConsoleMessage.MessageLevel.Error:this.errors++}},requestClearMessages:function(){this._consoleAgent.clearMessages(),this.clearMessages()},clearMessages:function(){this.dispatchEventToListeners(WebInspector.ConsoleModel.Events.ConsoleCleared),this.messages=[],this.errors=0,this.warnings=0},__proto__:WebInspector.Object.prototype},WebInspector.ConsoleMessage=function(a,b,c,d,e,f,g,h,i,j,k,l){this.source=a,this.level=b,this.messageText=c,this.type=d||WebInspector.ConsoleMessage.MessageType.Log,this.url=e||null,this.line=f||0,this.column=g||0,this.parameters=i,this.stackTrace=j,this.timestamp=k||Date.now(),this.isOutdated=l,this.request=h?WebInspector.networkLog.requestForId(h):null},WebInspector.ConsoleMessage.prototype={isGroupMessage:function(){return this.type===WebInspector.ConsoleMessage.MessageType.StartGroup||this.type===WebInspector.ConsoleMessage.MessageType.StartGroupCollapsed||this.type===WebInspector.ConsoleMessage.MessageType.EndGroup},isErrorOrWarning:function(){return this.level===WebInspector.ConsoleMessage.MessageLevel.Warning||this.level===WebInspector.ConsoleMessage.MessageLevel.Error},clone:function(){return new WebInspector.ConsoleMessage(this.source,this.level,this.messageText,this.type,this.url,this.line,this.column,this.request?this.request.requestId:void 0,this.parameters,this.stackTrace,this.timestamp,this.isOutdated)},isEqual:function(a){if(!a||WebInspector.settings.consoleTimestampsEnabled.get())return!1;if(this.stackTrace){if(!a.stackTrace||this.stackTrace.length!==a.stackTrace.length)return!1;for(var b=0;b<a.stackTrace.length;++b)if(this.stackTrace[b].url!==a.stackTrace[b].url||this.stackTrace[b].functionName!==a.stackTrace[b].functionName||this.stackTrace[b].lineNumber!==a.stackTrace[b].lineNumber||this.stackTrace[b].columnNumber!==a.stackTrace[b].columnNumber)return!1}if(this.parameters){if(!a.parameters||this.parameters.length!==a.parameters.length)return!1;for(var b=0;b<a.parameters.length;++b)if(this.parameters[b].type!==a.parameters[b].type||"object"===a.parameters[b].type||this.parameters[b].value!==a.parameters[b].value)return!1}return this.source===a.source&&this.type===a.type&&this.level===a.level&&this.line===a.line&&this.url===a.url&&this.messageText===a.messageText&&this.request===a.request}},WebInspector.ConsoleMessage.MessageSource={XML:"xml",JS:"javascript",Network:"network",ConsoleAPI:"console-api",Storage:"storage",AppCache:"appcache",Rendering:"rendering",CSS:"css",Security:"security",Other:"other",Deprecation:"deprecation"},WebInspector.ConsoleMessage.MessageType={Log:"log",Dir:"dir",DirXML:"dirxml",Table:"table",Trace:"trace",Clear:"clear",StartGroup:"startGroup",StartGroupCollapsed:"startGroupCollapsed",EndGroup:"endGroup",Assert:"assert",Result:"result",Profile:"profile",ProfileEnd:"profileEnd",Command:"command"},WebInspector.ConsoleMessage.MessageLevel={Log:"log",Info:"info",Warning:"warning",Error:"error",Debug:"debug"},WebInspector.ConsoleDispatcher=function(a){this._console=a},WebInspector.ConsoleDispatcher.prototype={messageAdded:function(a){var b=new WebInspector.ConsoleMessage(a.source,a.level,a.text,a.type,a.url,a.line,a.column,a.networkRequestId,a.parameters,a.stackTrace,1e3*a.timestamp,this._console._enablingConsole);this._console.addMessage(b,!0)},messageRepeatCountUpdated:function(){},messagesCleared:function(){WebInspector.settings.preserveConsoleLog.get()||this._console.clearMessages()}},WebInspector.console,WebInspector.Panel=function(a){WebInspector.VBox.call(this),WebInspector.panels[a]=this,this.element.classList.add("panel"),this.element.classList.add(a),this._panelName=a,this._shortcuts={}},WebInspector.Panel.counterRightMargin=25,WebInspector.Panel.prototype={get name(){return this._panelName},reset:function(){},defaultFocusedElement:function(){return this.element},searchableView:function(){return null},replaceSelectionWith:function(){},replaceAllWith:function(){},get statusBarItems(){},elementsToRestoreScrollPositionsFor:function(){return[]},handleShortcut:function(a){function b(a,b){for(var d=0;d<a.length;++d)if(a[d].key===c)return b.call(e);return!1}var c=WebInspector.KeyboardShortcut.makeKeyFromEvent(a),d=this._shortcuts[c];if(d&&d(a))return void(a.handled=!0);var e=this.searchableView();e&&(b(WebInspector.SearchableView.findShortcuts(),e.handleFindShortcut)?a.handled=!0:b(WebInspector.SearchableView.cancelSearchShortcuts(),e.handleCancelSearchShortcut)&&(a.handled=!0))},registerShortcuts:function(a,b){for(var c=0;c<a.length;++c)this._shortcuts[a[c].key]=b},__proto__:WebInspector.VBox.prototype},WebInspector.PanelWithSidebarTree=function(a,b){WebInspector.Panel.call(this,a),this._panelSplitView=new WebInspector.SplitView(!0,!1,this._panelName+"PanelSplitViewState",b||200),this._panelSplitView.show(this.element);var c=new WebInspector.VBox;c.setMinimumSize(Preferences.minSidebarWidth,25),c.show(this._panelSplitView.sidebarElement()),this._sidebarElement=c.element,this._sidebarElement.classList.add("sidebar");var d=this._sidebarElement.createChild("ol","sidebar-tree");this.sidebarTree=new TreeOutline(d)},WebInspector.PanelWithSidebarTree.prototype={sidebarElement:function(){return this._sidebarElement},mainElement:function(){return this._panelSplitView.mainElement()},defaultFocusedElement:function(){return this.sidebarTree.element||this.element},__proto__:WebInspector.Panel.prototype},WebInspector.PanelDescriptor=function(){},WebInspector.PanelDescriptor.prototype={name:function(){},title:function(){},panel:function(){}},WebInspector.ModuleManagerExtensionPanelDescriptor=function(a){this._name=a.descriptor().name,this._title=WebInspector.UIString(a.descriptor().title),this._extension=a},WebInspector.ModuleManagerExtensionPanelDescriptor.prototype={name:function(){return this._name},title:function(){return this._title},panel:function(){return this._extension.instance()}},WebInspector.InspectorView=function(){WebInspector.VBox.call(this),WebInspector.Dialog.setModalHostView(this),this.setMinimumSize(180,72),this._drawerSplitView=new WebInspector.SplitView(!1,!0,"Inspector.drawerSplitViewState",200,200),this._drawerSplitView.hideSidebar(),this._drawerSplitView.enableShowModeSaving(),this._drawerSplitView.show(this.element),this._tabbedPane=new WebInspector.TabbedPane,this._tabbedPane.setRetainTabOrder(!0,WebInspector.moduleManager.orderComparator(WebInspector.Panel,"name","order")),this._tabbedPane.show(this._drawerSplitView.mainElement()),this._drawer=new WebInspector.Drawer(this._drawerSplitView),this._toolbarElement=document.createElement("div"),this._toolbarElement.className="toolbar toolbar-background";var a=this._tabbedPane.headerElement();a.parentElement.insertBefore(this._toolbarElement,a),this._leftToolbarElement=this._toolbarElement.createChild("div","toolbar-controls-left"),this._toolbarElement.appendChild(a),this._rightToolbarElement=this._toolbarElement.createChild("div","toolbar-controls-right"),this._errorWarningCountElement=this._rightToolbarElement.createChild("div","hidden"),this._errorWarningCountElement.id="error-warning-count",this._closeButtonToolbarItem=document.createElementWithClass("div","toolbar-close-button-item");var b=this._closeButtonToolbarItem.createChild("div","close-button");b.addEventListener("click",InspectorFrontendHost.closeWindow.bind(InspectorFrontendHost),!0),this._rightToolbarElement.appendChild(this._closeButtonToolbarItem),this.appendToRightToolbar(this._drawer.toggleButtonElement()),this._history=[],this._historyIterator=-1,document.addEventListener("keydown",this._keyDown.bind(this),!1),document.addEventListener("keypress",this._keyPress.bind(this),!1),this._panelDescriptors={},this._openBracketIdentifiers=["U+005B","U+00DB"].keySet(),this._closeBracketIdentifiers=["U+005D","U+00DD"].keySet(),this._lastActivePanelSetting=WebInspector.settings.createSetting("lastActivePanel","elements"),this._loadPanelDesciptors()
},WebInspector.InspectorView.prototype={_loadPanelDesciptors:function(){function a(a){this.addPanel(new WebInspector.ModuleManagerExtensionPanelDescriptor(a))}WebInspector.startBatchUpdate(),WebInspector.moduleManager.extensions(WebInspector.Panel).forEach(a.bind(this)),WebInspector.endBatchUpdate()},appendToLeftToolbar:function(a){this._leftToolbarElement.appendChild(a)},appendToRightToolbar:function(a){this._rightToolbarElement.insertBefore(a,this._closeButtonToolbarItem)},addPanel:function(a){var b=a.name();this._panelDescriptors[b]=a,this._tabbedPane.appendTab(b,a.title(),new WebInspector.View),this._lastActivePanelSetting.get()===b&&this._tabbedPane.selectTab(b)},panel:function(a){var b=this._panelDescriptors[a],c=this._tabbedPane.allTabs();return!b&&c.length&&(b=this._panelDescriptors[c[0]]),b?b.panel():null},showPanel:function(a){var b=this.panel(a);return b&&this.setCurrentPanel(b),b},currentPanel:function(){return this._currentPanel},showInitialPanel:function(){this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this),this._tabSelected(),this._drawer.initialPanelShown()},showDrawerEditor:function(){this._drawer.showDrawerEditor()},isDrawerEditorShown:function(){return this._drawer.isDrawerEditorShown()},hideDrawerEditor:function(){this._drawer.hideDrawerEditor()},setDrawerEditorAvailable:function(a){this._drawer.setDrawerEditorAvailable(a)},_tabSelected:function(){var a=this._tabbedPane.selectedTabId,b=this._panelDescriptors[this._tabbedPane.selectedTabId].panel();this._tabbedPane.changeTabView(a,b),this._currentPanel=b,this._lastActivePanelSetting.set(b.name),this._pushToHistory(b.name),WebInspector.userMetrics.panelShown(b.name),b.focus()},setCurrentPanel:function(a){this._currentPanel!==a&&(this._tabbedPane.changeTabView(a.name,a),this._tabbedPane.selectTab(a.name))},closeViewInDrawer:function(a){this._drawer.closeView(a)},showCloseableViewInDrawer:function(a,b,c){this._drawer.showCloseableView(a,b,c)},showDrawer:function(){this._drawer.showDrawer()},drawerVisible:function(){return this._drawer.isShowing()},showViewInDrawer:function(a,b){this._drawer.showView(a,b)},selectedViewInDrawer:function(){return this._drawer.selectedViewId()},closeDrawer:function(){this._drawer.closeDrawer()},defaultFocusedElement:function(){return this._currentPanel?this._currentPanel.defaultFocusedElement():null},_keyPress:function(a){a.charCode<32&&WebInspector.isWin()||(clearTimeout(this._keyDownTimer),delete this._keyDownTimer)},_keyDown:function(a){if(WebInspector.KeyboardShortcut.eventHasCtrlOrMeta(a)){var b=a,c=WebInspector.settings.shortcutPanelSwitch.get();if(c&&!a.shiftKey&&!a.altKey){var d=-1;if(a.keyCode>48&&a.keyCode<58?d=a.keyCode-49:a.keyCode>96&&a.keyCode<106&&b.location===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD&&(d=a.keyCode-97),-1!==d){var e=this._tabbedPane.allTabs()[d];return void(e&&(WebInspector.Dialog.currentInstance()||this.showPanel(e),a.consume(!0)))}}return WebInspector.isWin()&&(this._openBracketIdentifiers[a.keyIdentifier]||this._closeBracketIdentifiers[a.keyIdentifier])?void(this._keyDownTimer=setTimeout(this._keyDownInternal.bind(this,a),0)):void this._keyDownInternal(a)}},_keyDownInternal:function(a){var b=0;return this._openBracketIdentifiers[a.keyIdentifier]&&(b=-1),this._closeBracketIdentifiers[a.keyIdentifier]&&(b=1),b?a.shiftKey||a.altKey?void(a.altKey&&this._moveInHistory(b)&&a.consume(!0)):(WebInspector.Dialog.currentInstance()||this._changePanelInDirection(b),void a.consume(!0)):void 0},_changePanelInDirection:function(a){var b=this._tabbedPane.allTabs(),c=b.indexOf(this.currentPanel().name);c=(c+b.length+a)%b.length,this.showPanel(b[c])},_moveInHistory:function(a){var b=this._historyIterator+a;return b>=this._history.length||0>b?!1:(this._inHistory=!0,this._historyIterator=b,WebInspector.Dialog.currentInstance()||this.setCurrentPanel(WebInspector.panels[this._history[this._historyIterator]]),delete this._inHistory,!0)},_pushToHistory:function(a){this._inHistory||(this._history.splice(this._historyIterator+1,this._history.length-this._historyIterator-1),this._history.length&&this._history[this._history.length-1]===a||this._history.push(a),this._historyIterator=this._history.length-1)},onResize:function(){WebInspector.Dialog.modalHostRepositioned()},topResizerElement:function(){return this._tabbedPane.headerElement()},_createImagedCounterElementIfNeeded:function(a,b,c){if(a){var d=(this._errorWarningCountElement.createChild("div",c),this._errorWarningCountElement.createChild("span"));d.id=b,d.textContent=a}},setErrorAndWarningCounts:function(a,b){if(this._errors!==a||this._warnings!==b){this._errors=a,this._warnings=b,this._errorWarningCountElement.classList.toggle("hidden",!a&&!b),this._errorWarningCountElement.removeChildren(),this._createImagedCounterElementIfNeeded(a,"error-count","error-icon-small"),this._createImagedCounterElementIfNeeded(b,"warning-count","warning-icon-small");var c=a?WebInspector.UIString("%d error%s",a,a>1?"s":""):"",d=b?WebInspector.UIString("%d warning%s",b,b>1?"s":""):"",e=a&&b?", ":"";this._errorWarningCountElement.title=c+e+d,this._tabbedPane.headerResized()}},__proto__:WebInspector.VBox.prototype},WebInspector.inspectorView,WebInspector.InspectorView.DrawerToggleActionDelegate=function(){},WebInspector.InspectorView.DrawerToggleActionDelegate.prototype={handleAction:function(){return WebInspector.inspectorView.drawerVisible()?(WebInspector.inspectorView.closeDrawer(),!0):WebInspector.experimentsSettings.doNotOpenDrawerOnEsc.isEnabled()?!1:(WebInspector.inspectorView.showDrawer(),!0)}},WebInspector.RootView=function(){WebInspector.VBox.call(this),this.markAsRoot(),this.element.classList.add("root-view"),this.element.setAttribute("spellcheck",!1),window.addEventListener("resize",this.doResize.bind(this),!0),this._onScrollBound=this._onScroll.bind(this)},WebInspector.RootView.prototype={attachToBody:function(){this.doResize(),this.show(document.body)},_onScroll:function(){0!==document.body.scrollTop&&(document.body.scrollTop=0),0!==document.body.scrollLeft&&(document.body.scrollLeft=0)},doResize:function(){var a=this.minimumSize(),b=Math.min(0,window.innerWidth-a.width);this.element.style.right=b+"px";var c=Math.min(0,window.innerHeight-a.height);this.element.style.bottom=c+"px",window.innerWidth<a.width||window.innerHeight<a.height?window.addEventListener("scroll",this._onScrollBound,!1):window.removeEventListener("scroll",this._onScrollBound,!1),WebInspector.VBox.prototype.doResize.call(this),this._onScroll()},__proto__:WebInspector.VBox.prototype},WebInspector.InspectedPagePlaceholder=function(){WebInspector.View.call(this),WebInspector.zoomManager.addEventListener(WebInspector.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this),this._margins={top:!1,right:!1,bottom:!1,left:!1},this.setMinimumSize(WebInspector.InspectedPagePlaceholder.Constraints.Width,WebInspector.InspectedPagePlaceholder.Constraints.Height)},WebInspector.InspectedPagePlaceholder.Constraints={Width:50,Height:50},WebInspector.InspectedPagePlaceholder.MarginValue=3,WebInspector.InspectedPagePlaceholder.prototype={_findMargins:function(){for(var a={top:!1,right:!1,bottom:!1,left:!1},b={top:!0,right:!0,bottom:!0,left:!0},c=this;c.parentView();){var d=c.parentView();if(d instanceof WebInspector.SplitView){var e=d.sidebarSide();b[e]&&!d.hasCustomResizer()&&(a[e]=!0),b[e]=!1}c=d}(this._margins.top!==a.top||this._margins.left!==a.left||this._margins.right!==a.right||this._margins.bottom!==a.bottom)&&(this._margins=a,this._updateMarginValue())},_updateMarginValue:function(){var a=Math.round(WebInspector.InspectedPagePlaceholder.MarginValue/WebInspector.zoomManager.zoomFactor())+"px ",b=this._margins.top?a:"0 ";b+=this._margins.right?a:"0 ",b+=this._margins.bottom?a:"0 ",b+=this._margins.left?a:"0 ",this.element.style.margin=b},_onZoomChanged:function(){this._updateMarginValue(),this._scheduleUpdate()},onResize:function(){this._findMargins(),this._scheduleUpdate()},_scheduleUpdate:function(){var a=WebInspector.dockController.dockSide();a!==WebInspector.DockController.State.Undocked&&(this._updateId&&window.cancelAnimationFrame(this._updateId),this._updateId=window.requestAnimationFrame(this._update.bind(this)))},_update:function(){delete this._updateId;for(var a=WebInspector.zoomManager.zoomFactor(),b=WebInspector.InspectedPagePlaceholder.MarginValue,c={top:this._margins.top?b:0,left:this._margins.left?b:0,right:this._margins.right?b:0,bottom:this._margins.bottom?b:0},d={width:WebInspector.InspectedPagePlaceholder.Constraints.Width-Math.round(c.left*a)-Math.round(c.right*a),height:WebInspector.InspectedPagePlaceholder.Constraints.Height-Math.round(c.top*a)-Math.round(c.bottom*a)},e=this;e;)e instanceof WebInspector.SplitView&&e.sidebarSide()&&(c[e.sidebarSide()]+=e.preferredSidebarSize()),e=e.parentView();var f={top:Math.ceil(c.top),left:Math.ceil(c.left),right:Math.ceil(c.right),bottom:Math.ceil(c.bottom)};InspectorFrontendHost.setContentsResizingStrategy(f,d)},__proto__:WebInspector.View.prototype},WebInspector.AdvancedSearchController=function(){this._shortcut=WebInspector.AdvancedSearchController.createShortcut(),this._searchId=0,WebInspector.settings.advancedSearchConfig=WebInspector.settings.createSetting("advancedSearchConfig",new WebInspector.SearchConfig("",!0,!1)),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameNavigated,this._frameNavigated,this)},WebInspector.AdvancedSearchController.createShortcut=function(){return WebInspector.isMac()?WebInspector.KeyboardShortcut.makeDescriptor("f",WebInspector.KeyboardShortcut.Modifiers.Meta|WebInspector.KeyboardShortcut.Modifiers.Alt):WebInspector.KeyboardShortcut.makeDescriptor("f",WebInspector.KeyboardShortcut.Modifiers.Ctrl|WebInspector.KeyboardShortcut.Modifiers.Shift)},WebInspector.AdvancedSearchController.prototype={handleShortcut:function(a){return WebInspector.KeyboardShortcut.makeKeyFromEvent(a)===this._shortcut.key?(this._searchView&&this._searchView.isShowing()&&this._searchView._search===document.activeElement?WebInspector.inspectorView.closeDrawer():(WebInspector.inspectorView.showPanel("sources"),this.show()),a.consume(!0),!0):!1},_frameNavigated:function(){this.resetSearch()},show:function(){var a,b=window.getSelection();b.rangeCount&&(a=b.toString().replace(/\r?\n.*/,"")),this._searchView&&this._searchView.isShowing()||WebInspector.inspectorView.showViewInDrawer("search"),a&&(this._searchView._search.value=a),this._searchView.focus(),this.startIndexing()},_onIndexingFinished:function(a){if(delete this._isIndexing,this._searchView.indexingFinished(a),a||delete this._pendingSearchConfig,this._pendingSearchConfig){var b=this._pendingSearchConfig;delete this._pendingSearchConfig,this._innerStartSearch(b)}},startIndexing:function(){this._isIndexing=!0,this._currentSearchScope=this._searchScopes()[0],this._progressIndicator&&this._progressIndicator.done(),this._progressIndicator=new WebInspector.ProgressIndicator,this._searchView.indexingStarted(this._progressIndicator),this._currentSearchScope.performIndexing(this._progressIndicator,this._onIndexingFinished.bind(this))},_onSearchResult:function(a,b){a===this._searchId&&(this._searchView.addSearchResult(b),b.searchMatches.length&&(this._searchResultsPane||(this._searchResultsPane=this._currentSearchScope.createSearchResultsPane(this._searchConfig)),this._searchView.resultsPane=this._searchResultsPane,this._searchResultsPane.addSearchResult(b)))},_onSearchFinished:function(a,b){a===this._searchId&&(this._searchResultsPane||this._searchView.nothingFound(),this._searchView.searchFinished(b),delete this._searchConfig)},startSearch:function(a){this.resetSearch(),++this._searchId,this._isIndexing||this.startIndexing(),this._pendingSearchConfig=a},_innerStartSearch:function(a){this._searchConfig=a,this._currentSearchScope=this._searchScopes()[0],this._progressIndicator&&this._progressIndicator.done(),this._progressIndicator=new WebInspector.ProgressIndicator,this._searchView.searchStarted(this._progressIndicator),this._currentSearchScope.performSearch(a,this._progressIndicator,this._onSearchResult.bind(this,this._searchId),this._onSearchFinished.bind(this,this._searchId))},resetSearch:function(){this.stopSearch(),this._searchResultsPane&&(this._searchView.resetResults(),delete this._searchResultsPane)},stopSearch:function(){this._progressIndicator&&this._progressIndicator.cancel(),this._currentSearchScope&&this._currentSearchScope.stopSearch(),delete this._searchConfig},_searchScopes:function(){return WebInspector.moduleManager.instances(WebInspector.SearchScope)}},WebInspector.SearchView=function(){WebInspector.VBox.call(this),this._controller=WebInspector.advancedSearchController,WebInspector.advancedSearchController._searchView=this,this.element.classList.add("search-view"),this._searchPanelElement=this.element.createChild("div","search-drawer-header"),this._searchPanelElement.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._searchResultsElement=this.element.createChild("div"),this._searchResultsElement.className="search-results",this._search=this._searchPanelElement.createChild("input"),this._search.placeholder=WebInspector.UIString("Search sources"),this._search.setAttribute("type","text"),this._search.classList.add("search-config-search"),this._search.setAttribute("results","0"),this._search.setAttribute("size",30),this._ignoreCaseLabel=this._searchPanelElement.createChild("label"),this._ignoreCaseLabel.classList.add("search-config-label"),this._ignoreCaseCheckbox=this._ignoreCaseLabel.createChild("input"),this._ignoreCaseCheckbox.setAttribute("type","checkbox"),this._ignoreCaseCheckbox.classList.add("search-config-checkbox"),this._ignoreCaseLabel.appendChild(document.createTextNode(WebInspector.UIString("Ignore case"))),this._regexLabel=this._searchPanelElement.createChild("label"),this._regexLabel.classList.add("search-config-label"),this._regexCheckbox=this._regexLabel.createChild("input"),this._regexCheckbox.setAttribute("type","checkbox"),this._regexCheckbox.classList.add("search-config-checkbox"),this._regexLabel.appendChild(document.createTextNode(WebInspector.UIString("Regular expression"))),this._searchStatusBarElement=this.element.createChild("div","search-status-bar-summary"),this._searchMessageElement=this._searchStatusBarElement.createChild("span"),this._searchResultsMessageElement=document.createElement("span"),this._load()},WebInspector.SearchView.maxQueriesCount=20,WebInspector.SearchView.prototype={get searchConfig(){return new WebInspector.SearchConfig(this._search.value,this._ignoreCaseCheckbox.checked,this._regexCheckbox.checked)},set resultsPane(a){this.resetResults(),this._searchResultsElement.appendChild(a.element)},searchStarted:function(a){this.resetResults(),this._resetCounters(),this._searchMessageElement.textContent=WebInspector.UIString("Searching..."),a.show(this._searchStatusBarElement),this._updateSearchResultsMessage(),this._searchingView||(this._searchingView=new WebInspector.EmptyView(WebInspector.UIString("Searching..."))),this._searchingView.show(this._searchResultsElement)},indexingStarted:function(a){this._searchMessageElement.textContent=WebInspector.UIString("Indexing..."),a.show(this._searchStatusBarElement)},indexingFinished:function(a){this._searchMessageElement.textContent=a?"":WebInspector.UIString("Indexing interrupted.")},_updateSearchResultsMessage:function(){this._searchResultsMessageElement.textContent=this._searchMatchesCount&&this._searchResultsCount?WebInspector.UIString("Found %d matches in %d files.",this._searchMatchesCount,this._nonEmptySearchResultsCount):""},resetResults:function(){this._searchingView&&this._searchingView.detach(),this._notFoundView&&this._notFoundView.detach(),this._searchResultsElement.removeChildren()},_resetCounters:function(){this._searchMatchesCount=0,this._searchResultsCount=0,this._nonEmptySearchResultsCount=0},nothingFound:function(){this.resetResults(),this._notFoundView||(this._notFoundView=new WebInspector.EmptyView(WebInspector.UIString("No matches found."))),this._notFoundView.show(this._searchResultsElement),this._searchResultsMessageElement.textContent=WebInspector.UIString("No matches found.")},addSearchResult:function(a){this._searchMatchesCount+=a.searchMatches.length,this._searchResultsCount++,a.searchMatches.length&&this._nonEmptySearchResultsCount++,this._updateSearchResultsMessage()},searchFinished:function(a){this._searchMessageElement.textContent=WebInspector.UIString(a?"Search finished.":"Search interrupted.")},focus:function(){WebInspector.setCurrentFocusElement(this._search),this._search.select()},willHide:function(){this._controller.stopSearch()},_onKeyDown:function(a){switch(a.keyCode){case WebInspector.KeyboardShortcut.Keys.Enter.code:this._onAction()}},_save:function(){WebInspector.settings.advancedSearchConfig.set(this.searchConfig)},_load:function(){var a=WebInspector.settings.advancedSearchConfig.get();this._search.value=a.query,this._ignoreCaseCheckbox.checked=a.ignoreCase,this._regexCheckbox.checked=a.isRegex},_onAction:function(){var a=this.searchConfig;a.query&&a.query.length&&(this._save(),this._controller.startSearch(a))},__proto__:WebInspector.VBox.prototype},WebInspector.SearchConfig=function(a,b,c){this.query=a,this.ignoreCase=b,this.isRegex=c,this._parse()},WebInspector.SearchConfig.prototype={_parse:function(){var a="file:(([^\\\\ ]|\\\\.)+)",b='"(([^\\\\"]|\\\\.)+)"',c="(([^\\\\ ]|\\\\.)+)",d="("+a+")|("+b+")|("+c+")",e=new RegExp(d,"g"),f=this.query.match(e)||[];this._fileQueries=[],this._queries=[];for(var g=0;g<f.length;++g){var h=f[g];if(h)if(h.startsWith("file:"))this._fileQueries.push(this._parseFileQuery(h));else if(h.startsWith('"')){if(!h.endsWith('"'))continue;this._queries.push(this._parseQuotedQuery(h))}else this._queries.push(this._parseUnquotedQuery(h))}},fileQueries:function(){return this._fileQueries},queries:function(){return this._queries},_parseUnquotedQuery:function(a){return a.replace(/\\(.)/g,"$1")},_parseQuotedQuery:function(a){return a.substring(1,a.length-1).replace(/\\(.)/g,"$1")},_parseFileQuery:function(a){a=a.substr("file:".length);for(var b="",c=0;c<a.length;++c){var d=a[c];if("*"===d)b+=".*";else if("\\"===d){++c;var e=a[c];" "===e&&(b+=" ")}else-1!==String.regexSpecialCharacters().indexOf(a.charAt(c))&&(b+="\\"),b+=a.charAt(c)}return b}},WebInspector.SearchScope=function(){},WebInspector.SearchScope.prototype={performSearch:function(){},performIndexing:function(){},stopSearch:function(){},createSearchResultsPane:function(){}},WebInspector.SearchResultsPane=function(a){this._searchConfig=a,this.element=document.createElement("div")},WebInspector.SearchResultsPane.prototype={get searchConfig(){return this._searchConfig},addSearchResult:function(){}},WebInspector.FileBasedSearchResultsPane=function(a){WebInspector.SearchResultsPane.call(this,a),this._searchResults=[],this.element.id="search-results-pane-file-based",this._treeOutlineElement=document.createElement("ol"),this._treeOutlineElement.className="search-results-outline-disclosure",this.element.appendChild(this._treeOutlineElement),this._treeOutline=new TreeOutline(this._treeOutlineElement),this._matchesExpandedCount=0},WebInspector.FileBasedSearchResultsPane.matchesExpandedByDefaultCount=20,WebInspector.FileBasedSearchResultsPane.fileMatchesShownAtOnce=20,WebInspector.FileBasedSearchResultsPane.prototype={_createAnchor:function(a,b,c){return WebInspector.Linkifier.linkifyUsingRevealer(new WebInspector.UILocation(a,b,c),"",a.url,b)},addSearchResult:function(a){this._searchResults.push(a);var b=a.uiSourceCode;if(b){var c=a.searchMatches;this._addFileTreeElement(b.fullDisplayName(),c.length,this._searchResults.length-1)}},_fileTreeElementExpanded:function(a,b){if(!b._initialized){var c=Math.min(a.searchMatches.length,WebInspector.FileBasedSearchResultsPane.fileMatchesShownAtOnce);c<a.searchMatches.length?(this._appendSearchMatches(b,a,0,c-1),this._appendShowMoreMatchesElement(b,a,c-1)):this._appendSearchMatches(b,a,0,c),b._initialized=!0}},_appendSearchMatches:function(a,b,c,d){for(var e=b.uiSourceCode,f=b.searchMatches,g=this._searchConfig.queries(),h=[],i=0;i<g.length;++i)h.push(createSearchRegex(g[i],!this._searchConfig.ignoreCase,this._searchConfig.isRegex));for(var i=c;d>i;++i){for(var j=f[i].lineNumber,k=f[i].lineContent,l=[],m=0;m<h.length;++m)l=l.concat(this._regexMatchRanges(k,h[m]));var n=this._createAnchor(e,j,l[0].offset),o=numberToStringWithSpacesPadding(j+1,4),p=document.createElement("span");p.classList.add("search-match-line-number"),p.textContent=o,n.appendChild(p);var q=this._createContentSpan(k,l);n.appendChild(q);var r=new TreeElement("");r.selectable=!1,a.appendChild(r),r.listItemElement.className="search-match source-code",r.listItemElement.appendChild(n)}},_appendShowMoreMatchesElement:function(a,b,c){var d=b.searchMatches.length-c,e=WebInspector.UIString("Show all matches (%d more).",d),f=new TreeElement(e);a.appendChild(f),f.listItemElement.classList.add("show-more-matches"),f.onselect=this._showMoreMatchesElementSelected.bind(this,b,c,f)},_showMoreMatchesElementSelected:function(a,b,c){var d=c.parent;return d.removeChild(c),this._appendSearchMatches(d,a,b,a.searchMatches.length),!1},_addFileTreeElement:function(a,b,c){var d=new TreeElement("",null,!0);d.toggleOnClick=!0,d.selectable=!1,this._treeOutline.appendChild(d),d.listItemElement.classList.add("search-result");var e=document.createElement("span");e.className="search-result-file-name",e.textContent=a,d.listItemElement.appendChild(e);var f=document.createElement("span");f.className="search-result-matches-count",f.textContent=1===b?WebInspector.UIString("(%d match)",b):WebInspector.UIString("(%d matches)",b),d.listItemElement.appendChild(f);var g=this._searchResults[c];return d.onexpand=this._fileTreeElementExpanded.bind(this,g,d),this._matchesExpandedCount<WebInspector.FileBasedSearchResultsPane.matchesExpandedByDefaultCount&&d.expand(),this._matchesExpandedCount+=g.searchMatches.length,d},_regexMatchRanges:function(a,b){b.lastIndex=0;for(var c,d=[];b.lastIndex<a.length&&(c=b.exec(a));)d.push(new WebInspector.SourceRange(c.index,c[0].length));return d},_createContentSpan:function(a,b){var c=document.createElement("span");return c.className="search-match-content",c.textContent=a,WebInspector.highlightRangesWithStyleClass(c,b,"highlighted-match"),c},__proto__:WebInspector.SearchResultsPane.prototype},WebInspector.FileBasedSearchResultsPane.SearchResult=function(a,b){this.uiSourceCode=a,this.searchMatches=b},WebInspector.advancedSearchController,WebInspector.TimelineGrid=function(){this.element=document.createElement("div"),this._dividersElement=this.element.createChild("div","resources-dividers"),this._gridHeaderElement=document.createElement("div"),this._gridHeaderElement.id="timeline-grid-header",this._eventDividersElement=this._gridHeaderElement.createChild("div","resources-event-dividers"),this._dividersLabelBarElement=this._gridHeaderElement.createChild("div","resources-dividers-label-bar"),this.element.appendChild(this._gridHeaderElement),this._leftCurtainElement=this.element.createChild("div","timeline-cpu-curtain-left"),this._rightCurtainElement=this.element.createChild("div","timeline-cpu-curtain-right")},WebInspector.TimelineGrid.calculateDividerOffsets=function(a,b){const c=64,d=50;var e=b/c,f=a.boundarySpan()/e,g=b/a.boundarySpan(),h=Math.ceil(Math.log(f)/Math.LN10);f=Math.pow(10,h),f*g>=320&&(f/=5),f*g>=128&&(f/=2);var i=Math.ceil((a.minimumBoundary()-a.zeroTime())/f)*f+a.zeroTime(),j=a.maximumBoundary();a.paddingLeft()>0&&(j+=c/g),e=Math.ceil((j-i)/f);var k=0===a.paddingLeft();f||(e=0);for(var l=[],m=0;e>m;++m){var n=a.computePosition(i+f*m);k&&d>n||l.push(i+f*m)}return{offsets:l,precision:Math.max(0,-Math.floor(Math.log(1.01*f)/Math.LN10))}},WebInspector.TimelineGrid.drawCanvasGrid=function(a,b,c){var d=a.getContext("2d");d.save();var e=window.devicePixelRatio;d.scale(e,e),d.translate(.5,.5);var f=!!c,g=a.width/window.devicePixelRatio,h=a.height/window.devicePixelRatio,i=0;if(!c){var j=WebInspector.TimelineGrid.calculateDividerOffsets(b,g);c=j.offsets,i=j.precision}d.fillStyle="#333",d.strokeStyle="rgba(0, 0, 0, 0.1)",d.textBaseline="hanging",d.font=(f?"italic bold 11px ":" 11px ")+WebInspector.fontFamily(),d.lineWidth=1;const k=60;for(var l=0,m=0,n=0,o=4,p=3,q=0;q<c.length;++q){m=c[q];var r=b.computePosition(m);if(d.beginPath(),r-l>k&&(!f||0!==q)){var s=f?b.formatTime(b.zeroTime()+m-n):b.formatTime(m,i),t=d.measureText(s).width,u=f?(r+l-t)/2:r-t-o;d.fillText(s,u,p)}d.moveTo(r,0),d.lineTo(r,h),d.stroke(),n=m,l=r}d.restore()},WebInspector.TimelineGrid.prototype={get dividersElement(){return this._dividersElement},get dividersLabelBarElement(){return this._dividersLabelBarElement},removeDividers:function(){this._dividersElement.removeChildren(),this._dividersLabelBarElement.removeChildren()},updateDividers:function(a,b,c){var d=0;if(!b){var e=WebInspector.TimelineGrid.calculateDividerOffsets(a,this._dividersElement.clientWidth);b=e.offsets,d=e.precision,c=!1}var f=this._dividersElement.clientWidth,g=this._dividersElement.firstChild,h=this._dividersLabelBarElement.firstChild;const i=60;for(var j=0,k=0,l=0;l<b.length;++l){if(!g){g=document.createElement("div"),g.className="resources-divider",this._dividersElement.appendChild(g),h=document.createElement("div"),h.className="resources-divider";var m=document.createElement("div");m.className="resources-divider-label",h._labelElement=m,h.appendChild(m),this._dividersLabelBarElement.appendChild(h)}var n=b[l],o=a.computePosition(n);h._labelElement.textContent=o-j>i?c?a.formatTime(n-k):a.formatTime(n,d):"",c?h._labelElement.style.width=Math.ceil(o-j)+"px":h._labelElement.style.removeProperty("width"),j=o,k=n;var p=100*o/f;g.style.left=p+"%",h.style.left=p+"%",g=g.nextSibling,h=h.nextSibling}for(;g;){var q=g.nextSibling;this._dividersElement.removeChild(g),g=q}for(;h;){var q=h.nextSibling;this._dividersLabelBarElement.removeChild(h),h=q}return!0},addEventDivider:function(a){this._eventDividersElement.appendChild(a)},addEventDividers:function(a){this._gridHeaderElement.removeChild(this._eventDividersElement);for(var b=0;b<a.length;++b)a[b]&&this._eventDividersElement.appendChild(a[b]);this._gridHeaderElement.appendChild(this._eventDividersElement)},removeEventDividers:function(){this._eventDividersElement.removeChildren()},hideEventDividers:function(){this._eventDividersElement.classList.add("hidden")},showEventDividers:function(){this._eventDividersElement.classList.remove("hidden")},hideDividers:function(){this._dividersElement.classList.add("hidden")},showDividers:function(){this._dividersElement.classList.remove("hidden")},hideCurtains:function(){this._leftCurtainElement.classList.add("hidden"),this._rightCurtainElement.classList.add("hidden")},showCurtains:function(a,b){this._leftCurtainElement.style.width=a+"px",this._leftCurtainElement.classList.remove("hidden"),this._rightCurtainElement.style.left=a+b+"px",this._rightCurtainElement.classList.remove("hidden")},setScrollAndDividerTop:function(a){this._dividersLabelBarElement.style.top=a+"px",this._eventDividersElement.style.top=a+"px",this._leftCurtainElement.style.top=a+"px",this._rightCurtainElement.style.top=a+"px"}},WebInspector.TimelineGrid.Calculator=function(){},WebInspector.TimelineGrid.Calculator.prototype={paddingLeft:function(){},computePosition:function(){},formatTime:function(){},minimumBoundary:function(){},zeroTime:function(){},maximumBoundary:function(){},boundarySpan:function(){}},WebInspector.OverviewGrid=function(a){this.element=document.createElement("div"),this.element.id=a+"-overview-container",this._grid=new WebInspector.TimelineGrid,this._grid.element.id=a+"-overview-grid",this._grid.setScrollAndDividerTop(0,0),this.element.appendChild(this._grid.element),this._window=new WebInspector.OverviewGrid.Window(this.element,this._grid.dividersLabelBarElement)},WebInspector.OverviewGrid.prototype={clientWidth:function(){return this.element.clientWidth},updateDividers:function(a){this._grid.updateDividers(a)},addEventDividers:function(a){this._grid.addEventDividers(a)},removeEventDividers:function(){this._grid.removeEventDividers()},setWindowPosition:function(a,b){this._window._setWindowPosition(a,b)},reset:function(){this._window.reset()},windowLeft:function(){return this._window.windowLeft},windowRight:function(){return this._window.windowRight},setWindow:function(a,b){this._window._setWindow(a,b)},addEventListener:function(a,b,c){this._window.addEventListener(a,b,c)},zoom:function(a,b){this._window._zoom(a,b)},setResizeEnabled:function(a){this._window._setEnabled(!!a)}},WebInspector.OverviewGrid.MinSelectableSize=14,WebInspector.OverviewGrid.WindowScrollSpeedFactor=.3,WebInspector.OverviewGrid.ResizerOffset=3.5,WebInspector.OverviewGrid.Window=function(a,b){this._parentElement=a,this._dividersLabelBarElement=b,WebInspector.installDragHandle(this._parentElement,this._startWindowSelectorDragging.bind(this),this._windowSelectorDragging.bind(this),this._endWindowSelectorDragging.bind(this),"ew-resize",null),WebInspector.installDragHandle(this._dividersLabelBarElement,this._startWindowDragging.bind(this),this._windowDragging.bind(this),null,"move"),this.windowLeft=0,this.windowRight=1,this._parentElement.addEventListener("mousewheel",this._onMouseWheel.bind(this),!0),this._parentElement.addEventListener("dblclick",this._resizeWindowMaximum.bind(this),!0),this._overviewWindowElement=a.createChild("div","overview-grid-window"),this._overviewWindowBordersElement=a.createChild("div","overview-grid-window-rulers"),a.createChild("div","overview-grid-dividers-background"),this._leftResizeElement=a.createChild("div","overview-grid-window-resizer"),this._leftResizeElement.style.left=0,WebInspector.installDragHandle(this._leftResizeElement,this._resizerElementStartDragging.bind(this),this._leftResizeElementDragging.bind(this),null,"ew-resize"),this._rightResizeElement=a.createChild("div","overview-grid-window-resizer overview-grid-window-resizer-right"),this._rightResizeElement.style.right=0,WebInspector.installDragHandle(this._rightResizeElement,this._resizerElementStartDragging.bind(this),this._rightResizeElementDragging.bind(this),null,"ew-resize"),this._setEnabled(!0)},WebInspector.OverviewGrid.Events={WindowChanged:"WindowChanged"},WebInspector.OverviewGrid.Window.prototype={reset:function(){this.windowLeft=0,this.windowRight=1,this._overviewWindowElement.style.left="0%",this._overviewWindowElement.style.width="100%",this._overviewWindowBordersElement.style.left="0%",this._overviewWindowBordersElement.style.right="0%",this._leftResizeElement.style.left="0%",this._rightResizeElement.style.left="100%",this._setEnabled(!0)},_setEnabled:function(a){a=!!a,this._enabled!==a&&(this._enabled=a)},_resizerElementStartDragging:function(a){return this._enabled?(this._resizerParentOffsetLeft=a.pageX-a.offsetX-a.target.offsetLeft,a.preventDefault(),!0):!1},_leftResizeElementDragging:function(a){this._resizeWindowLeft(a.pageX-this._resizerParentOffsetLeft),a.preventDefault()},_rightResizeElementDragging:function(a){this._resizeWindowRight(a.pageX-this._resizerParentOffsetLeft),a.preventDefault()},_startWindowSelectorDragging:function(a){if(!this._enabled)return!1;this._offsetLeft=this._parentElement.totalOffsetLeft();var b=a.x-this._offsetLeft;return this._overviewWindowSelector=new WebInspector.OverviewGrid.WindowSelector(this._parentElement,b),!0},_windowSelectorDragging:function(a){this._overviewWindowSelector._updatePosition(a.x-this._offsetLeft),a.preventDefault()},_endWindowSelectorDragging:function(a){var b=this._overviewWindowSelector._close(a.x-this._offsetLeft);if(delete this._overviewWindowSelector,b.end===b.start){var c=b.end;b.start=Math.max(0,c-WebInspector.OverviewGrid.MinSelectableSize/2),b.end=Math.min(this._parentElement.clientWidth,c+WebInspector.OverviewGrid.MinSelectableSize/2)}else b.end-b.start<WebInspector.OverviewGrid.MinSelectableSize&&(this._parentElement.clientWidth-b.end>WebInspector.OverviewGrid.MinSelectableSize?b.end=b.start+WebInspector.OverviewGrid.MinSelectableSize:b.start=b.end-WebInspector.OverviewGrid.MinSelectableSize);
this._setWindowPosition(b.start,b.end)},_startWindowDragging:function(a){return this._dragStartPoint=a.pageX,this._dragStartLeft=this.windowLeft,this._dragStartRight=this.windowRight,!0},_windowDragging:function(a){a.preventDefault();var b=(a.pageX-this._dragStartPoint)/this._parentElement.clientWidth;this._dragStartLeft+b<0&&(b=-this._dragStartLeft),this._dragStartRight+b>1&&(b=1-this._dragStartRight),this._setWindow(this._dragStartLeft+b,this._dragStartRight+b)},_resizeWindowLeft:function(a){10>a?a=0:a>this._rightResizeElement.offsetLeft-4&&(a=this._rightResizeElement.offsetLeft-4),this._setWindowPosition(a,null)},_resizeWindowRight:function(a){a>this._parentElement.clientWidth-10?a=this._parentElement.clientWidth:a<this._leftResizeElement.offsetLeft+WebInspector.OverviewGrid.MinSelectableSize&&(a=this._leftResizeElement.offsetLeft+WebInspector.OverviewGrid.MinSelectableSize),this._setWindowPosition(null,a)},_resizeWindowMaximum:function(){this._setWindowPosition(0,this._parentElement.clientWidth)},_setWindow:function(a,b){var c=a,d=b,e=b-a,f=e*this._parentElement.clientWidth,g=WebInspector.OverviewGrid.MinSelectableSize/2;if(g>f){var h=g/f;c=(b+a-e*h)/2,d=(b+a+e*h)/2}this.windowLeft=a,this._leftResizeElement.style.left=100*c+"%",this.windowRight=b,this._rightResizeElement.style.left=100*d+"%",this._overviewWindowElement.style.left=100*c+"%",this._overviewWindowBordersElement.style.left=100*c+"%",this._overviewWindowElement.style.width=100*(d-c)+"%",this._overviewWindowBordersElement.style.right=100*(1-d)+"%",this.dispatchEventToListeners(WebInspector.OverviewGrid.Events.WindowChanged)},_setWindowPosition:function(a,b){var c=this._parentElement.clientWidth,d="number"==typeof a?a/c:this.windowLeft,e="number"==typeof b?b/c:this.windowRight;this._setWindow(d,e)},_onMouseWheel:function(a){if("number"==typeof a.wheelDeltaY&&a.wheelDeltaY){const b=1.1,c=1/120;var d=a.offsetX/a.target.clientWidth;this._zoom(Math.pow(b,-a.wheelDeltaY*c),d)}if("number"==typeof a.wheelDeltaX&&a.wheelDeltaX){var e=Math.round(a.wheelDeltaX*WebInspector.OverviewGrid.WindowScrollSpeedFactor),f=this._leftResizeElement.offsetLeft+WebInspector.OverviewGrid.ResizerOffset,g=this._rightResizeElement.offsetLeft+WebInspector.OverviewGrid.ResizerOffset;0>f-e&&(e=f),g-e>this._parentElement.clientWidth&&(e=g-this._parentElement.clientWidth),this._setWindowPosition(f-e,g-e),a.preventDefault()}},_zoom:function(a,b){var c=this.windowLeft,d=this.windowRight,e=d-c,f=a*e;f>1&&(f=1,a=f/e),c=b+(c-b)*a,c=Number.constrain(c,0,1-f),d=b+(d-b)*a,d=Number.constrain(d,f,1),this._setWindow(c,d)},__proto__:WebInspector.Object.prototype},WebInspector.OverviewGrid.WindowSelector=function(a,b){this._startPosition=b,this._width=a.offsetWidth,this._windowSelector=document.createElement("div"),this._windowSelector.className="overview-grid-window-selector",this._windowSelector.style.left=this._startPosition+"px",this._windowSelector.style.right=this._width-this._startPosition+"px",a.appendChild(this._windowSelector)},WebInspector.OverviewGrid.WindowSelector.prototype={_close:function(a){return a=Math.max(0,Math.min(a,this._width)),this._windowSelector.remove(),this._startPosition<a?{start:this._startPosition,end:a}:{start:a,end:this._startPosition}},_updatePosition:function(a){a=Math.max(0,Math.min(a,this._width)),a<this._startPosition?(this._windowSelector.style.left=a+"px",this._windowSelector.style.right=this._width-this._startPosition+"px"):(this._windowSelector.style.left=this._startPosition+"px",this._windowSelector.style.right=this._width-a+"px")}},WebInspector.ContentProvider=function(){},WebInspector.ContentProvider.prototype={contentURL:function(){},contentType:function(){},requestContent:function(){},searchInContent:function(){}},WebInspector.ContentProvider.SearchMatch=function(a,b){this.lineNumber=a,this.lineContent=b},WebInspector.ContentProvider.performSearchInContent=function(a,b,c,d){for(var e=createSearchRegex(b,c,d),f=new String(a),g=[],h=0;h<f.lineCount();++h){var i=f.lineAt(h);e.lastIndex=0,e.exec(i)&&g.push(new WebInspector.ContentProvider.SearchMatch(h,i))}return g},WebInspector.Resource=function(a,b,c,d,e,f,g,h){this._request=a,this.url=b,this._documentURL=c,this._frameId=d,this._loaderId=e,this._type=f||WebInspector.resourceTypes.Other,this._mimeType=g,this._isHidden=h,this._content,this._contentEncoded,this._pendingContentCallbacks=[],this._request&&!this._request.finished&&this._request.addEventListener(WebInspector.NetworkRequest.Events.FinishedLoading,this._requestFinished,this)},WebInspector.Resource.Events={MessageAdded:"message-added",MessagesCleared:"messages-cleared"},WebInspector.Resource.prototype={get request(){return this._request},get url(){return this._url},set url(a){this._url=a,this._parsedURL=new WebInspector.ParsedURL(a)},get parsedURL(){return this._parsedURL},get documentURL(){return this._documentURL},get frameId(){return this._frameId},get loaderId(){return this._loaderId},get displayName(){return this._parsedURL.displayName},get type(){return this._request?this._request.type:this._type},get mimeType(){return this._request?this._request.mimeType:this._mimeType},get messages(){return this._messages||[]},addMessage:function(a){a.isErrorOrWarning()&&a.messageText&&(this._messages||(this._messages=[]),this._messages.push(a),this.dispatchEventToListeners(WebInspector.Resource.Events.MessageAdded,a))},get errors(){return this._errors||0},set errors(a){this._errors=a},get warnings(){return this._warnings||0},set warnings(a){this._warnings=a},clearErrorsAndWarnings:function(){this._messages=[],this._warnings=0,this._errors=0,this.dispatchEventToListeners(WebInspector.Resource.Events.MessagesCleared)},get content(){return this._content},get contentEncoded(){return this._contentEncoded},contentURL:function(){return this._url},contentType:function(){return this.type},requestContent:function(a){return"undefined"!=typeof this._content?void a(this._content):(this._pendingContentCallbacks.push(a),void((!this._request||this._request.finished)&&this._innerRequestContent()))},canonicalMimeType:function(){return this.type.canonicalMimeType()||this.mimeType},searchInContent:function(a,b,c,d){function e(a,b){d(b||[])}return this.type===WebInspector.resourceTypes.Document?void d([]):void(this.frameId?PageAgent.searchInResource(this.frameId,this.url,a,b,c,e):d([]))},populateImageSource:function(a){function b(){var b=WebInspector.contentAsDataURL(this._content,this.mimeType,this._contentEncoded);null===b&&(b=this.url),a.src=b}this.requestContent(b.bind(this))},_requestFinished:function(){this._request.removeEventListener(WebInspector.NetworkRequest.Events.FinishedLoading,this._requestFinished,this),this._pendingContentCallbacks.length&&this._innerRequestContent()},_innerRequestContent:function(){function a(a,c,d){return a||null===c?void b.call(this,null,!1):void b.call(this,c,d)}function b(a,b){this._content=a,this._contentEncoded=b;for(var c=this._pendingContentCallbacks.slice(),d=0;d<c.length;++d)c[d](this._content);this._pendingContentCallbacks.length=0,delete this._contentRequested}function c(b,c,d){a.call(this,b,c,d)}function d(b){a.call(this,null,b,this.request.contentEncoded)}if(!this._contentRequested)return this._contentRequested=!0,this.request?void this.request.requestContent(d.bind(this)):void PageAgent.getResourceContent(this.frameId,this.url,c.bind(this))},isHidden:function(){return!!this._isHidden},__proto__:WebInspector.Object.prototype},WebInspector.NetworkRequest=function(a,b,c,d,e){this._requestId=a,this.url=b,this._documentURL=c,this._frameId=d,this._loaderId=e,this._startTime=-1,this._endTime=-1,this.statusCode=0,this.statusText="",this.requestMethod="",this.requestTime=0,this._type=WebInspector.resourceTypes.Other,this._contentEncoded=!1,this._pendingContentCallbacks=[],this._frames=[],this._responseHeaderValues={},this._remoteAddress=""},WebInspector.NetworkRequest.Events={FinishedLoading:"FinishedLoading",TimingChanged:"TimingChanged",RemoteAddressChanged:"RemoteAddressChanged",RequestHeadersChanged:"RequestHeadersChanged",ResponseHeadersChanged:"ResponseHeadersChanged"},WebInspector.NetworkRequest.InitiatorType={Other:"other",Parser:"parser",Redirect:"redirect",Script:"script"},WebInspector.NetworkRequest.NameValue,WebInspector.NetworkRequest.prototype={get requestId(){return this._requestId},set requestId(a){this._requestId=a},get url(){return this._url},set url(a){this._url!==a&&(this._url=a,this._parsedURL=new WebInspector.ParsedURL(a),delete this._queryString,delete this._parsedQueryParameters,delete this._name,delete this._path)},get documentURL(){return this._documentURL},get parsedURL(){return this._parsedURL},get frameId(){return this._frameId},get loaderId(){return this._loaderId},setRemoteAddress:function(a,b){this._remoteAddress=a+":"+b,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.RemoteAddressChanged,this)},remoteAddress:function(){return this._remoteAddress},get startTime(){return this._startTime||-1},set startTime(a){this._startTime=a},get responseReceivedTime(){return this._responseReceivedTime||-1},set responseReceivedTime(a){this._responseReceivedTime=a},get endTime(){return this._endTime||-1},set endTime(a){this.timing&&this.timing.requestTime?this._endTime=Math.max(a,this.responseReceivedTime):(this._endTime=a,this._responseReceivedTime>a&&(this._responseReceivedTime=a)),this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.TimingChanged,this)},get duration(){return-1===this._endTime||-1===this._startTime?-1:this._endTime-this._startTime},get latency(){return-1===this._responseReceivedTime||-1===this._startTime?-1:this._responseReceivedTime-this._startTime},get resourceSize(){return this._resourceSize||0},set resourceSize(a){this._resourceSize=a},get transferSize(){return this._transferSize||0},increaseTransferSize:function(a){this._transferSize=(this._transferSize||0)+a},setTransferSize:function(a){this._transferSize=a},get finished(){return this._finished},set finished(a){this._finished!==a&&(this._finished=a,a&&(this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.FinishedLoading,this),this._pendingContentCallbacks.length&&this._innerRequestContent()))},get failed(){return this._failed},set failed(a){this._failed=a},get canceled(){return this._canceled},set canceled(a){this._canceled=a},get cached(){return!!this._cached&&!this._transferSize},set cached(a){this._cached=a,a&&delete this._timing},get timing(){return this._timing},set timing(a){a&&!this._cached&&(this._startTime=a.requestTime,this._responseReceivedTime=a.requestTime+a.receiveHeadersEnd/1e3,this._timing=a,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.TimingChanged,this))},get mimeType(){return this._mimeType},set mimeType(a){this._mimeType=a},get displayName(){return this._parsedURL.displayName},name:function(){return this._name?this._name:(this._parseNameAndPathFromURL(),this._name)},path:function(){return this._path?this._path:(this._parseNameAndPathFromURL(),this._path)},_parseNameAndPathFromURL:function(){this._parsedURL.isDataURL()?(this._name=this._parsedURL.dataURLDisplayName(),this._path=""):this._parsedURL.isAboutBlank()?(this._name=this._parsedURL.url,this._path=""):(this._path=this._parsedURL.host+this._parsedURL.folderPathComponents,this._path=this._path.trimURL(WebInspector.resourceTreeModel.inspectedPageDomain()),this._parsedURL.lastPathComponent||this._parsedURL.queryParams?this._name=this._parsedURL.lastPathComponent+(this._parsedURL.queryParams?"?"+this._parsedURL.queryParams:""):this._parsedURL.folderPathComponents?(this._name=this._parsedURL.folderPathComponents.substring(this._parsedURL.folderPathComponents.lastIndexOf("/")+1)+"/",this._path=this._path.substring(0,this._path.lastIndexOf("/"))):(this._name=this._parsedURL.host,this._path=""))},get folder(){var a=this._parsedURL.path,b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));var c=a.lastIndexOf("/");return-1!==c?a.substring(0,c):""},get type(){return this._type},set type(a){this._type=a},get domain(){return this._parsedURL.host},get scheme(){return this._parsedURL.scheme},get redirectSource(){return this.redirects&&this.redirects.length>0?this.redirects[this.redirects.length-1]:this._redirectSource},set redirectSource(a){this._redirectSource=a,delete this._initiatorInfo},requestHeaders:function(){return this._requestHeaders||[]},setRequestHeaders:function(a){this._requestHeaders=a,delete this._requestCookies,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.RequestHeadersChanged)},requestHeadersText:function(){return this._requestHeadersText},setRequestHeadersText:function(a){this._requestHeadersText=a,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.RequestHeadersChanged)},requestHeaderValue:function(a){return this._headerValue(this.requestHeaders(),a)},get requestCookies(){return this._requestCookies||(this._requestCookies=WebInspector.CookieParser.parseCookie(this.requestHeaderValue("Cookie"))),this._requestCookies},get requestFormData(){return this._requestFormData},set requestFormData(a){this._requestFormData=a,delete this._parsedFormParameters},requestHttpVersion:function(){var a=this.requestHeadersText();if(!a)return this.requestHeaderValue(":version");var b=a.split(/\r\n/)[0],c=b.match(/(HTTP\/\d+\.\d+)$/);return c?c[1]:void 0},get responseHeaders(){return this._responseHeaders||[]},set responseHeaders(a){this._responseHeaders=a,delete this._sortedResponseHeaders,delete this._responseCookies,this._responseHeaderValues={},this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.ResponseHeadersChanged)},get responseHeadersText(){return this._responseHeadersText},set responseHeadersText(a){this._responseHeadersText=a,this.dispatchEventToListeners(WebInspector.NetworkRequest.Events.ResponseHeadersChanged)},get sortedResponseHeaders(){return void 0!==this._sortedResponseHeaders?this._sortedResponseHeaders:(this._sortedResponseHeaders=this.responseHeaders.slice(),this._sortedResponseHeaders.sort(function(a,b){return a.name.toLowerCase().compareTo(b.name.toLowerCase())}),this._sortedResponseHeaders)},responseHeaderValue:function(a){var b=this._responseHeaderValues[a];return void 0===b&&(b=this._headerValue(this.responseHeaders,a),this._responseHeaderValues[a]=void 0!==b?b:null),null!==b?b:void 0},get responseCookies(){return this._responseCookies||(this._responseCookies=WebInspector.CookieParser.parseSetCookie(this.responseHeaderValue("Set-Cookie"))),this._responseCookies},queryString:function(){if(void 0!==this._queryString)return this._queryString;var a=null,b=this.url,c=b.indexOf("?");if(-1!==c){a=b.substring(c+1);var d=a.indexOf("#");-1!==d&&(a=a.substring(0,d))}return this._queryString=a,this._queryString},get queryParameters(){if(this._parsedQueryParameters)return this._parsedQueryParameters;var a=this.queryString();return a?(this._parsedQueryParameters=this._parseParameters(a),this._parsedQueryParameters):null},get formParameters(){if(this._parsedFormParameters)return this._parsedFormParameters;if(!this.requestFormData)return null;var a=this.requestContentType();return a&&a.match(/^application\/x-www-form-urlencoded\s*(;.*)?$/i)?(this._parsedFormParameters=this._parseParameters(this.requestFormData),this._parsedFormParameters):null},get responseHttpVersion(){var a=this._responseHeadersText;if(!a)return this.responseHeaderValue(":version");var b=a.match(/^(HTTP\/\d+\.\d+)/);return b?b[1]:void 0},_parseParameters:function(a){function b(a){var b=a.split("=",2);return{name:b[0],value:b[1]||""}}return a.split("&").map(b)},_headerValue:function(a,b){b=b.toLowerCase();for(var c=[],d=0;d<a.length;++d)a[d].name.toLowerCase()===b&&c.push(a[d].value);return c.length?c.join("set-cookie"===b?"\n":", "):void 0},get content(){return this._content},contentError:function(){return this._contentError},get contentEncoded(){return this._contentEncoded},contentURL:function(){return this._url},contentType:function(){return this._type},requestContent:function(a){return this.type===WebInspector.resourceTypes.WebSocket?void a(null):"undefined"!=typeof this._content?void a(this.content||null):(this._pendingContentCallbacks.push(a),void(this.finished&&this._innerRequestContent()))},searchInContent:function(a,b,c,d){d([])},isHttpFamily:function(){return!!this.url.match(/^https?:/i)},requestContentType:function(){return this.requestHeaderValue("Content-Type")},isPingRequest:function(){return"text/ping"===this.requestContentType()},hasErrorStatusCode:function(){return this.statusCode>=400},populateImageSource:function(a){function b(){var b=this.asDataURL();null===b&&(b=this.url),a.src=b}this.requestContent(b.bind(this))},asDataURL:function(){return WebInspector.contentAsDataURL(this._content,this.mimeType,this._contentEncoded)},_innerRequestContent:function(){function a(a,b,c){this._content=a?null:b,this._contentError=a,this._contentEncoded=c;for(var d=this._pendingContentCallbacks.slice(),e=0;e<d.length;++e)d[e](this._content);this._pendingContentCallbacks.length=0,delete this._contentRequested}this._contentRequested||(this._contentRequested=!0,NetworkAgent.getResponseBody(this._requestId,a.bind(this)))},initiatorInfo:function(){if(this._initiatorInfo)return this._initiatorInfo;var a=WebInspector.NetworkRequest.InitiatorType.Other,b="",c=-1/0,d=-1/0;if(this.redirectSource)a=WebInspector.NetworkRequest.InitiatorType.Redirect,b=this.redirectSource.url;else if(this.initiator)if(this.initiator.type===NetworkAgent.InitiatorType.Parser)a=WebInspector.NetworkRequest.InitiatorType.Parser,b=this.initiator.url,c=this.initiator.lineNumber;else if(this.initiator.type===NetworkAgent.InitiatorType.Script){var e=this.initiator.stackTrace[0];e.url&&(a=WebInspector.NetworkRequest.InitiatorType.Script,b=e.url,c=e.lineNumber,d=e.columnNumber)}return this._initiatorInfo={type:a,url:b,source:WebInspector.displayNameForURL(b),lineNumber:c,columnNumber:d},this._initiatorInfo},frames:function(){return this._frames},frame:function(a){return this._frames[a]},addFrameError:function(a,b){this._pushFrame({errorMessage:a,time:b})},addFrame:function(a,b,c){a.time=b,c&&(a.sent=c),this._pushFrame(a)},_pushFrame:function(a){this._frames.length>=100&&this._frames.splice(0,10),this._frames.push(a)},__proto__:WebInspector.Object.prototype},WebInspector.UISourceCode=function(a,b,c,d,e,f,g){this._project=a,this._parentPath=b,this._name=c,this._originURL=d,this._url=e,this._contentType=f,this._isEditable=g,this._requestContentCallbacks=[],this._consoleMessages=[],this.history=[],this.isEditable()&&this._url&&this._restoreRevisionHistory()},WebInspector.UISourceCode.Events={WorkingCopyChanged:"WorkingCopyChanged",WorkingCopyCommitted:"WorkingCopyCommitted",TitleChanged:"TitleChanged",SavedStateUpdated:"SavedStateUpdated",ConsoleMessageAdded:"ConsoleMessageAdded",ConsoleMessageRemoved:"ConsoleMessageRemoved",ConsoleMessagesCleared:"ConsoleMessagesCleared",SourceMappingChanged:"SourceMappingChanged"},WebInspector.UISourceCode.prototype={get url(){return this._url},name:function(){return this._name},parentPath:function(){return this._parentPath},path:function(){return this._parentPath?this._parentPath+"/"+this._name:this._name},fullDisplayName:function(){return this._project.displayName()+"/"+(this._parentPath?this._parentPath+"/":"")+this.displayName(!0)},displayName:function(a){var b=this.name()||WebInspector.UIString("(index)");return a?b:b.trimEnd(100)},uri:function(){var a=this.path();return this._project.id()?a?this._project.id()+"/"+a:this._project.id():a},originURL:function(){return this._originURL},canRename:function(){return this._project.canRename()},rename:function(a,b){function c(a,c,d,e,f){a&&this._updateName(c,d,e,f),b(a)}this._project.rename(this,a,c.bind(this))},remove:function(){this._project.deleteFile(this.path())},_updateName:function(a,b,c,d){var e=this.uri();this._name=a,b&&(this._url=b),c&&(this._originURL=c),d&&(this._contentType=d),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.TitleChanged,e)},contentURL:function(){return this.originURL()},contentType:function(){return this._contentType},scriptFile:function(){return this._scriptFile},setScriptFile:function(a){this._scriptFile=a},project:function(){return this._project},requestMetadata:function(a){this._project.requestMetadata(this,a)},requestContent:function(a){return this._content||this._contentLoaded?void a(this._content):(this._requestContentCallbacks.push(a),void(1===this._requestContentCallbacks.length&&this._project.requestFileContent(this,this._fireContentAvailable.bind(this))))},checkContentUpdated:function(a){function b(b){if(null===b){var c=this.workingCopy();return this._commitContent("",!1),this.setWorkingCopy(c),delete this._checkingContent,void(a&&a())}if("string"==typeof this._lastAcceptedContent&&this._lastAcceptedContent===b)return delete this._checkingContent,void(a&&a());if(this._content===b)return delete this._lastAcceptedContent,delete this._checkingContent,void(a&&a());if(!this.isDirty())return this._commitContent(b,!1),delete this._checkingContent,void(a&&a());var d=window.confirm(WebInspector.UIString("This file was changed externally. Would you like to reload it?"));d?this._commitContent(b,!1):this._lastAcceptedContent=b,delete this._checkingContent,a&&a()}this._project.canSetFileContent()&&(this._checkingContent||(this._checkingContent=!0,this._project.requestFileContent(this,b.bind(this))))},requestOriginalContent:function(a){this._project.requestFileContent(this,a)},_commitContent:function(a,b){delete this._lastAcceptedContent,this._content=a,this._contentLoaded=!0;var c=this.history.length?this.history[this.history.length-1]:null;if(!c||c._content!==this._content){var d=new WebInspector.Revision(this,this._content,new Date);this.history.push(d),d._persist()}this._innerResetWorkingCopy(),this._hasCommittedChanges=!0,this.dispatchEventToListeners(WebInspector.UISourceCode.Events.WorkingCopyCommitted),this._url&&WebInspector.fileManager.isURLSaved(this._url)&&this._saveURLWithFileManager(!1,this._content),b&&this._project.setFileContent(this,this._content,function(){})},_saveURLWithFileManager:function(a,b){function c(a){a&&(this._savedWithFileManager=!0,this.dispatchEventToListeners(WebInspector.UISourceCode.Events.SavedStateUpdated))}WebInspector.fileManager.save(this._url,b,a,c.bind(this)),WebInspector.fileManager.close(this._url)},saveToFileSystem:function(a){return this.isDirty()?(this._saveURLWithFileManager(a,this.workingCopy()),void this.commitWorkingCopy(function(){})):void this.requestContent(this._saveURLWithFileManager.bind(this,a))},hasUnsavedCommittedChanges:function(){return this._savedWithFileManager||this.project().canSetFileContent()||!this._isEditable?!1:this._project.workspace().hasResourceContentTrackingExtensions()?!1:!!this._hasCommittedChanges},addRevision:function(a){this._commitContent(a,!0)},_restoreRevisionHistory:function(){function a(a){return WebInspector.resourceTreeModel.mainFrame?a.loaderId===WebInspector.resourceTreeModel.mainFrame.loaderId:!1}if(window.localStorage){var b=WebInspector.Revision._revisionHistoryRegistry(),c=b[this.url];if(c&&(c=c.filter(a),c.length)){for(var d=0;d<c.length;++d){var e=window.localStorage[c[d].key],f=new Date(c[d].timestamp),g=new WebInspector.Revision(this,e,f);this.history.push(g)}this._content=this.history[this.history.length-1].content,this._hasCommittedChanges=!0,this._contentLoaded=!0}}},_clearRevisionHistory:function(){if(window.localStorage){for(var a=WebInspector.Revision._revisionHistoryRegistry(),b=a[this.url],c=0;b&&c<b.length;++c)delete window.localStorage[b[c].key];delete a[this.url],window.localStorage["revision-history"]=JSON.stringify(a)}},revertToOriginal:function(){function a(a){"string"==typeof a&&this.addRevision(a)}this.requestOriginalContent(a.bind(this)),WebInspector.notifications.dispatchEventToListeners(WebInspector.UserMetrics.UserAction,{action:WebInspector.UserMetrics.UserActionNames.ApplyOriginalContent,url:this.url})},revertAndClearHistory:function(a){function b(b){"string"==typeof b&&(this.addRevision(b),this._clearRevisionHistory(),this.history=[],a(this))}this.requestOriginalContent(b.bind(this)),WebInspector.notifications.dispatchEventToListeners(WebInspector.UserMetrics.UserAction,{action:WebInspector.UserMetrics.UserActionNames.RevertRevision,url:this.url})},isEditable:function(){return this._isEditable},workingCopy:function(){return this._workingCopyGetter&&(this._workingCopy=this._workingCopyGetter(),delete this._workingCopyGetter),this.isDirty()?this._workingCopy:this._content},resetWorkingCopy:function(){this._innerResetWorkingCopy(),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.WorkingCopyChanged)},_innerResetWorkingCopy:function(){delete this._workingCopy,delete this._workingCopyGetter},setWorkingCopy:function(a){this._workingCopy=a,delete this._workingCopyGetter,this.dispatchEventToListeners(WebInspector.UISourceCode.Events.WorkingCopyChanged)},setWorkingCopyGetter:function(a){this._workingCopyGetter=a,this.dispatchEventToListeners(WebInspector.UISourceCode.Events.WorkingCopyChanged)},removeWorkingCopyGetter:function(){this._workingCopyGetter&&(this._workingCopy=this._workingCopyGetter(),delete this._workingCopyGetter)},commitWorkingCopy:function(a){return this.isDirty()?(this._commitContent(this.workingCopy(),!0),a(null),void WebInspector.notifications.dispatchEventToListeners(WebInspector.UserMetrics.UserAction,{action:WebInspector.UserMetrics.UserActionNames.FileSaved,url:this.url})):void a(null)},isDirty:function(){return"undefined"!=typeof this._workingCopy||"undefined"!=typeof this._workingCopyGetter},highlighterType:function(){var a=this._name.lastIndexOf("."),b=-1!==a?this._name.substr(a+1):"",c=b.indexOf("?");-1!==c&&(b=b.substr(0,c));var d=WebInspector.ResourceType.mimeTypesForExtensions[b.toLowerCase()];return d||this.contentType().canonicalMimeType()},content:function(){return this._content},searchInContent:function(a,b,c,d){var e=this.content();if(e){var f=new WebInspector.StaticContentProvider(this.contentType(),e);return void f.searchInContent(a,b,c,d)}this._project.searchInFileContent(this,a,b,c,d)},_fireContentAvailable:function(a){this._contentLoaded=!0,this._content=a;var b=this._requestContentCallbacks.slice();this._requestContentCallbacks=[];for(var c=0;c<b.length;++c)b[c](a)},contentLoaded:function(){return this._contentLoaded},uiLocationToRawLocation:function(a,b){return this._sourceMapping?this._sourceMapping.uiLocationToRawLocation(this,a,b):null},consoleMessages:function(){return this._consoleMessages},consoleMessageAdded:function(a){this._consoleMessages.push(a),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.ConsoleMessageAdded,a)},consoleMessageRemoved:function(a){this._consoleMessages.remove(a),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.ConsoleMessageRemoved,a)},consoleMessagesCleared:function(){this._consoleMessages=[],this.dispatchEventToListeners(WebInspector.UISourceCode.Events.ConsoleMessagesCleared)},hasSourceMapping:function(){return!!this._sourceMapping},setSourceMapping:function(a){if(this._sourceMapping!==a){this._sourceMapping=a;var b={};b.isIdentity=this._sourceMapping&&this._sourceMapping.isIdentity(),this.dispatchEventToListeners(WebInspector.UISourceCode.Events.SourceMappingChanged,b)}},__proto__:WebInspector.Object.prototype},WebInspector.UILocation=function(a,b,c){this.uiSourceCode=a,this.lineNumber=b,this.columnNumber=c},WebInspector.UILocation.prototype={uiLocationToRawLocation:function(){return this.uiSourceCode.uiLocationToRawLocation(this.lineNumber,this.columnNumber)},url:function(){return this.uiSourceCode.contentURL()},linkText:function(){var a=this.uiSourceCode.displayName();return"number"==typeof this.lineNumber&&(a+=":"+(this.lineNumber+1)),a}},WebInspector.RawLocation=function(){},WebInspector.LiveLocation=function(a,b){this._rawLocation=a,this._updateDelegate=b},WebInspector.LiveLocation.prototype={update:function(){var a=this.uiLocation();a&&this._updateDelegate(a)&&this.dispose()},rawLocation:function(){return this._rawLocation},uiLocation:function(){throw"Not implemented"},dispose:function(){}},WebInspector.Revision=function(a,b,c){this._uiSourceCode=a,this._content=b,this._timestamp=c},WebInspector.Revision._revisionHistoryRegistry=function(){if(!WebInspector.Revision._revisionHistoryRegistryObject)if(window.localStorage){var a=window.localStorage["revision-history"];try{WebInspector.Revision._revisionHistoryRegistryObject=a?JSON.parse(a):{}}catch(b){WebInspector.Revision._revisionHistoryRegistryObject={}}}else WebInspector.Revision._revisionHistoryRegistryObject={};return WebInspector.Revision._revisionHistoryRegistryObject},WebInspector.Revision.filterOutStaleRevisions=function(){function a(){window.localStorage["revision-history"]=JSON.stringify(c)}if(window.localStorage){var b=WebInspector.Revision._revisionHistoryRegistry(),c={};for(var d in b)for(var e=b[d],f=[],g=0;e&&g<e.length;++g){var h=e[g];h.loaderId===WebInspector.resourceTreeModel.mainFrame.loaderId?(f.push(h),c[d]=f):delete window.localStorage[h.key]}WebInspector.Revision._revisionHistoryRegistryObject=c,setTimeout(a,0)}},WebInspector.Revision.prototype={get uiSourceCode(){return this._uiSourceCode},get timestamp(){return this._timestamp},get content(){return this._content||null},revertToThis:function(){function a(a){this._uiSourceCode._content!==a&&this._uiSourceCode.addRevision(a)}this.requestContent(a.bind(this))},contentURL:function(){return this._uiSourceCode.originURL()},contentType:function(){return this._uiSourceCode.contentType()},requestContent:function(a){a(this._content||"")},searchInContent:function(a,b,c,d){d([])},_persist:function(){function a(){window.localStorage[e]=this._content,window.localStorage["revision-history"]=JSON.stringify(f)}if(this._uiSourceCode.project().type()!==WebInspector.projectTypes.FileSystem&&window.localStorage){var b=this.contentURL();if(b&&!b.startsWith("inspector://")){var c=WebInspector.resourceTreeModel.mainFrame.loaderId,d=this.timestamp.getTime(),e="revision-history|"+b+"|"+c+"|"+d,f=WebInspector.Revision._revisionHistoryRegistry(),g=f[b];g||(g=[],f[b]=g),g.push({url:b,loaderId:c,timestamp:d,key:e}),setTimeout(a.bind(this),0)}}}},WebInspector.CSSStyleModel=function(a){this._workspace=a,this._pendingCommandsMajorState=[],this._styleLoader=new WebInspector.CSSStyleModel.ComputedStyleLoader(this),WebInspector.domModel.addEventListener(WebInspector.DOMModel.Events.UndoRedoRequested,this._undoRedoRequested,this),WebInspector.domModel.addEventListener(WebInspector.DOMModel.Events.UndoRedoCompleted,this._undoRedoCompleted,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameCreatedOrNavigated,this._mainFrameCreatedOrNavigated,this),InspectorBackend.registerCSSDispatcher(new WebInspector.CSSDispatcher(this)),CSSAgent.enable(this._wasEnabled.bind(this)),this._resetStyleSheets()},WebInspector.CSSStyleModel.parseRuleMatchArrayPayload=function(a){if(!a)return[];for(var b=[],c=0;c<a.length;++c)b.push(WebInspector.CSSRule.parsePayload(a[c].rule,a[c].matchingSelectors));return b},WebInspector.CSSStyleModel.Events={ModelWasEnabled:"ModelWasEnabled",StyleSheetAdded:"StyleSheetAdded",StyleSheetChanged:"StyleSheetChanged",StyleSheetRemoved:"StyleSheetRemoved",MediaQueryResultChanged:"MediaQueryResultChanged"},WebInspector.CSSStyleModel.MediaTypes=["all","braille","embossed","handheld","print","projection","screen","speech","tty","tv"],WebInspector.CSSStyleModel.prototype={isEnabled:function(){return this._isEnabled},_wasEnabled:function(){this._isEnabled=!0,this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.ModelWasEnabled)},getMatchedStylesAsync:function(a,b,c,d){function e(a,b,c,d,e){if(b)return void(a&&a(null));var f={};if(f.matchedCSSRules=WebInspector.CSSStyleModel.parseRuleMatchArrayPayload(c),f.pseudoElements=[],d)for(var g=0;g<d.length;++g){var h=d[g];f.pseudoElements.push({pseudoId:h.pseudoId,rules:WebInspector.CSSStyleModel.parseRuleMatchArrayPayload(h.matches)})
}if(f.inherited=[],e)for(var g=0;g<e.length;++g){var h=e[g],i={};h.inlineStyle&&(i.inlineStyle=WebInspector.CSSStyleDeclaration.parsePayload(h.inlineStyle)),h.matchedCSSRules&&(i.matchedCSSRules=WebInspector.CSSStyleModel.parseRuleMatchArrayPayload(h.matchedCSSRules)),f.inherited.push(i)}a&&a(f)}CSSAgent.getMatchedStylesForNode(a,b,c,e.bind(null,d))},getComputedStyleAsync:function(a,b){this._styleLoader.getComputedStyle(a,b)},getPlatformFontsForNode:function(a,b){function c(a,c,d){a?b(null,null):b(c,d)}CSSAgent.getPlatformFontsForNode(a,c)},allStyleSheets:function(){function a(a,b){return a.sourceURL<b.sourceURL?-1:a.sourceURL>b.sourceURL?1:a.startLine-b.startLine||a.startColumn-b.startColumn}var b=Object.values(this._styleSheetIdToHeader);return b.sort(a),b},getInlineStylesAsync:function(a,b){function c(a,b,c,d){b||!c?a(null,null):a(WebInspector.CSSStyleDeclaration.parsePayload(c),d?WebInspector.CSSStyleDeclaration.parsePayload(d):null)}CSSAgent.getInlineStylesForNode(a,c.bind(null,b))},forcePseudoState:function(a,b,c){CSSAgent.forcePseudoState(a,b||[],c)},setRuleSelector:function(a,b,c,d,e){function f(a,b,c,d,e,f){return this._pendingCommandsMajorState.pop(),e?void c():(WebInspector.domModel.markUndoableState(),void this._computeMatchingSelectors(f,a,b,c))}this._pendingCommandsMajorState.push(!0),CSSAgent.setRuleSelector(a,c,f.bind(this,b,d,e,c))},_computeMatchingSelectors:function(a,b,c,d){function e(a,b,c,d){d&&-1!==d.indexOf(b)&&c.push(a)}var f=this._ownerDocumentId(b);if(!f)return void d();for(var g=WebInspector.CSSRule.parsePayload(a),h=[],i=new CallbackBarrier,j=0;j<g.selectors.length;++j){var k=g.selectors[j],l=i.createCallback(e.bind(null,j,b,h));WebInspector.domModel.querySelectorAll(f,k.value,l)}i.callWhenDone(function(){g.matchingSelectors=h,c(g)})},addRule:function(a,b,c,d,e){function f(a,c){this._pendingCommandsMajorState.pop(),a?e():(WebInspector.domModel.markUndoableState(),this._computeMatchingSelectors(c,b.id,d,e))}this._pendingCommandsMajorState.push(!0),CSSAgent.addRule(a,c,f.bind(this))},requestViaInspectorStylesheet:function(a,b){function c(a,c){a&&(console.error(a),b(null)),b(this._styleSheetIdToHeader[c])}var d=a.frameId()||WebInspector.resourceTreeModel.mainFrame.id;for(var e in this._styleSheetIdToHeader){var f=this._styleSheetIdToHeader[e];if(f.frameId===d&&f.isViaInspector())return void b(f)}CSSAgent.createStyleSheet(d,c.bind(this))},mediaQueryResultChanged:function(){this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.MediaQueryResultChanged)},styleSheetHeaderForId:function(a){return this._styleSheetIdToHeader[a]},styleSheetHeaders:function(){return Object.values(this._styleSheetIdToHeader)},_ownerDocumentId:function(a){var b=WebInspector.domModel.nodeForId(a);return b&&b.ownerDocument?b.ownerDocument.id:null},_fireStyleSheetChanged:function(a){if(this._pendingCommandsMajorState.length){var b=this._pendingCommandsMajorState[this._pendingCommandsMajorState.length-1];a&&this.hasEventListeners(WebInspector.CSSStyleModel.Events.StyleSheetChanged)&&this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.StyleSheetChanged,{styleSheetId:a,majorChange:b})}},_styleSheetAdded:function(a){console.assert(!this._styleSheetIdToHeader[a.styleSheetId]);var b=new WebInspector.CSSStyleSheetHeader(a);this._styleSheetIdToHeader[a.styleSheetId]=b;var c=b.resourceURL();this._styleSheetIdsForURL[c]||(this._styleSheetIdsForURL[c]={});var d=this._styleSheetIdsForURL[c],e=d[b.frameId];e||(e=[],d[b.frameId]=e),e.push(b.id),this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.StyleSheetAdded,b)},_styleSheetRemoved:function(a){var b=this._styleSheetIdToHeader[a];if(console.assert(b),b){delete this._styleSheetIdToHeader[a];var c=b.resourceURL(),d=this._styleSheetIdsForURL[c];d[b.frameId].remove(a),d[b.frameId].length||(delete d[b.frameId],Object.keys(this._styleSheetIdsForURL[c]).length||delete this._styleSheetIdsForURL[c]),this.dispatchEventToListeners(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,b)}},styleSheetIdsForURL:function(a){var b=this._styleSheetIdsForURL[a];if(!b)return[];var c=[];for(var d in b)c=c.concat(b[d]);return c},styleSheetIdsByFrameIdForURL:function(a){var b=this._styleSheetIdsForURL[a];return b?b:{}},setStyleSheetText:function(a,b,c,d){function e(a){this._pendingCommandsMajorState.pop(),!a&&c&&WebInspector.domModel.markUndoableState(),!a&&d&&d(a)}var f=this._styleSheetIdToHeader[a];console.assert(f),this._pendingCommandsMajorState.push(c),f.setContent(b,e.bind(this))},_undoRedoRequested:function(){this._pendingCommandsMajorState.push(!0)},_undoRedoCompleted:function(){this._pendingCommandsMajorState.pop()},_mainFrameCreatedOrNavigated:function(){this._resetStyleSheets()},_resetStyleSheets:function(){this._styleSheetIdsForURL={},this._styleSheetIdToHeader={}},updateLocations:function(){for(var a=Object.values(this._styleSheetIdToHeader),b=0;b<a.length;++b)a[b].updateLocations()},createLiveLocation:function(a,b,c){if(!b)return null;var d=a?this.styleSheetHeaderForId(a):null;return new WebInspector.CSSStyleModel.LiveLocation(this,d,b,c)},rawLocationToUILocation:function(a){var b=this._styleSheetIdsForURL[a.url];if(!b)return null;var c=[];for(var d in b)c=c.concat(b[d]);for(var e,f=0;!e&&f<c.length;++f){var g=this.styleSheetHeaderForId(c[f]);console.assert(g),e=g.rawLocationToUILocation(a.lineNumber,a.columnNumber)}return e||null},__proto__:WebInspector.Object.prototype},WebInspector.CSSStyleModel.LiveLocation=function(a,b,c,d){WebInspector.LiveLocation.call(this,c,d),this._model=a,b?this._setStyleSheet(b):this._clearStyleSheet()},WebInspector.CSSStyleModel.LiveLocation.prototype={_styleSheetAdded:function(a){console.assert(!this._header);var b=a.data;b.sourceURL&&b.sourceURL===this.rawLocation().url&&this._setStyleSheet(b)},_styleSheetRemoved:function(a){console.assert(this._header);var b=a.data;this._header===b&&(this._header._removeLocation(this),this._clearStyleSheet())},_setStyleSheet:function(a){this._header=a,this._header.addLiveLocation(this),this._model.removeEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this),this._model.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this)},_clearStyleSheet:function(){delete this._header,this._model.removeEventListener(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this),this._model.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this)},uiLocation:function(){var a=this.rawLocation();if(this._header)return this._header.rawLocationToUILocation(a.lineNumber,a.columnNumber);var b=WebInspector.workspace.uiSourceCodeForURL(a.url);return b?new WebInspector.UILocation(b,a.lineNumber,a.columnNumber):null},dispose:function(){WebInspector.LiveLocation.prototype.dispose.call(this),this._model.removeEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this),this._model.removeEventListener(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this)},__proto__:WebInspector.LiveLocation.prototype},WebInspector.CSSLocation=function(a,b,c){this.url=a,this.lineNumber=b,this.columnNumber=c||0},WebInspector.CSSStyleDeclaration=function(a){this.id=a.styleId,this.width=a.width,this.height=a.height,this.range=a.range,this._shorthandValues=WebInspector.CSSStyleDeclaration.buildShorthandValueMap(a.shorthandEntries),this._livePropertyMap={},this._allProperties=[],this.__disabledProperties={};for(var b=a.cssProperties.length,c=0;b>c;++c){var d=WebInspector.CSSProperty.parsePayload(this,c,a.cssProperties[c]);this._allProperties.push(d)}this._computeActiveProperties();for(var e=0,c=0;c<this._allProperties.length;++c){var d=this._allProperties[c];if(d.disabled&&(this.__disabledProperties[c]=d),d.active||d.styleBased){var f=d.name;this[e]=f,this._livePropertyMap[f]=d,++e}}this.length=e,"cssText"in a&&(this.cssText=a.cssText)},WebInspector.CSSStyleDeclaration.buildShorthandValueMap=function(a){for(var b={},c=0;c<a.length;++c)b[a[c].name]=a[c].value;return b},WebInspector.CSSStyleDeclaration.parsePayload=function(a){return new WebInspector.CSSStyleDeclaration(a)},WebInspector.CSSStyleDeclaration.parseComputedStylePayload=function(a){var b={cssProperties:[],shorthandEntries:[],width:"",height:""};return a&&(b.cssProperties=a),new WebInspector.CSSStyleDeclaration(b)},WebInspector.CSSStyleDeclaration.prototype={_computeActiveProperties:function(){for(var a={},b=this._allProperties.length-1;b>=0;--b){var c=this._allProperties[b];if(!c.styleBased&&!c.disabled&&(c._setActive(!1),c.parsedOk)){var d=WebInspector.CSSMetadata.canonicalPropertyName(c.name),e=a[d];(!e||!e.important&&c.important)&&(a[d]=c)}}for(var f in a){var c=a[f];c._setActive(!0)}},get allProperties(){return this._allProperties},getLiveProperty:function(a){return this._livePropertyMap[a]||null},getPropertyValue:function(a){var b=this._livePropertyMap[a];return b?b.value:""},isPropertyImplicit:function(a){var b=this._livePropertyMap[a];return b?b.implicit:""},longhandProperties:function(a){for(var b=WebInspector.CSSMetadata.cssPropertiesMetainfo.longhands(a),c=[],d=0;b&&d<b.length;++d){var e=this._livePropertyMap[b[d]];e&&c.push(e)}return c},shorthandValue:function(a){return this._shorthandValues[a]},propertyAt:function(a){return a<this.allProperties.length?this.allProperties[a]:null},pastLastSourcePropertyIndex:function(){for(var a=this.allProperties.length-1;a>=0;--a)if(this.allProperties[a].range)return a+1;return 0},newBlankProperty:function(a){a="undefined"==typeof a?this.pastLastSourcePropertyIndex():a;var b=new WebInspector.CSSProperty(this,a,"","",!1,!1,!0,!1,"");return b._setActive(!0),b},insertPropertyAt:function(a,b,c,d){function e(a,b){WebInspector.cssModel._pendingCommandsMajorState.pop(),d&&(a?(console.error(a),d(null)):d(WebInspector.CSSStyleDeclaration.parsePayload(b)))}if(!this.id)throw"No style id";WebInspector.cssModel._pendingCommandsMajorState.push(!0),CSSAgent.setPropertyText(this.id,a,b+": "+c+";",!1,e)},appendProperty:function(a,b,c){this.insertPropertyAt(this.allProperties.length,a,b,c)}},WebInspector.CSSRule=function(a,b){this.id=a.ruleId,b&&(this.matchingSelectors=b),this.selectors=a.selectorList.selectors,this.selectorText=this.selectors.select("value").join(", ");var c=this.selectors[0].range;if(c){var d=this.selectors.peekLast().range;this.selectorRange=new WebInspector.TextRange(c.startLine,c.startColumn,d.endLine,d.endColumn)}this.sourceURL=a.sourceURL,this.origin=a.origin,this.style=WebInspector.CSSStyleDeclaration.parsePayload(a.style),this.style.parentRule=this,a.media&&(this.media=WebInspector.CSSMedia.parseMediaArrayPayload(a.media)),this._setRawLocationAndFrameId()},WebInspector.CSSRule.parsePayload=function(a,b){return new WebInspector.CSSRule(a,b)},WebInspector.CSSRule.prototype={_setRawLocationAndFrameId:function(){if(this.id){var a=WebInspector.cssModel.styleSheetHeaderForId(this.id.styleSheetId);this.frameId=a.frameId;var b=a.resourceURL();b&&(this.rawLocation=new WebInspector.CSSLocation(b,this.lineNumberInSource(0),this.columnNumberInSource(0)))}},resourceURL:function(){if(!this.id)return"";var a=WebInspector.cssModel.styleSheetHeaderForId(this.id.styleSheetId);return a.resourceURL()},lineNumberInSource:function(a){var b=this.selectors[a];if(!b||!b.range)return 0;var c=WebInspector.cssModel.styleSheetHeaderForId(this.id.styleSheetId);return c.lineNumberInSource(b.range.startLine)},columnNumberInSource:function(a){var b=this.selectors[a];if(!b||!b.range)return void 0;var c=WebInspector.cssModel.styleSheetHeaderForId(this.id.styleSheetId);return console.assert(c),c.columnNumberInSource(b.range.startLine,b.range.startColumn)},get isUserAgent(){return"user-agent"===this.origin},get isUser(){return"user"===this.origin},get isViaInspector(){return"inspector"===this.origin},get isRegular(){return"regular"===this.origin}},WebInspector.CSSProperty=function(a,b,c,d,e,f,g,h,i,j){this.ownerStyle=a,this.index=b,this.name=c,this.value=d,this.important=e,this.disabled=f,this.parsedOk=g,this.implicit=h,this.text=i,this.range=j},WebInspector.CSSProperty.parsePayload=function(a,b,c){var d=new WebInspector.CSSProperty(a,b,c.name,c.value,c.important||!1,c.disabled||!1,"parsedOk"in c?!!c.parsedOk:!0,!!c.implicit,c.text,c.range);return d},WebInspector.CSSProperty.prototype={_setActive:function(a){this._active=a},get propertyText(){return void 0!==this.text?this.text:""===this.name?"":this.name+": "+this.value+(this.important?" !important":"")+";"},get isLive(){return this.active||this.styleBased},get active(){return"boolean"==typeof this._active&&this._active},get styleBased(){return!this.range},get inactive(){return"boolean"==typeof this._active&&!this._active},setText:function(a,b,c,d){function e(a){d&&d(a)}function f(c,f){if(WebInspector.cssModel._pendingCommandsMajorState.pop(),c)d&&d(null);else{b&&WebInspector.domModel.markUndoableState();var g=WebInspector.CSSStyleDeclaration.parsePayload(f),h=g.allProperties[this.index];if(h&&this.disabled&&!a.match(/^\s*$/))return void h.setDisabled(!1,e);d&&d(g)}}if(!this.ownerStyle)throw"No ownerStyle for property";if(!this.ownerStyle.id)throw"No owner style id";WebInspector.cssModel._pendingCommandsMajorState.push(b),CSSAgent.setPropertyText(this.ownerStyle.id,this.index,a,c,f.bind(this))},setValue:function(a,b,c,d){var e=this.name+": "+a+(this.important?" !important":"")+";";this.setText(e,b,c,d)},setDisabled:function(a,b){return!this.ownerStyle&&b&&b(null),a===this.disabled?void(b&&b(this.ownerStyle)):void(a?this.setText("/* "+this.text+" */",!0,!0,b):this.setText(this.text.substring(2,this.text.length-2).trim(),!0,!0,b))},uiLocation:function(a){if(!this.range||!this.ownerStyle||!this.ownerStyle.parentRule)return null;var b=this.ownerStyle.parentRule.resourceURL();if(!b)return null;var c=this.range,d=a?c.startLine:c.endLine,e=a?c.startColumn:c.endColumn-(this.text&&this.text.endsWith(";")?2:1),f=new WebInspector.CSSLocation(b,d,e);return WebInspector.cssModel.rawLocationToUILocation(f)}},WebInspector.CSSMedia=function(a){this.text=a.text,this.source=a.source,this.sourceURL=a.sourceURL||"",this.range=a.range?WebInspector.TextRange.fromObject(a.range):null,this.parentStyleSheetId=a.parentStyleSheetId},WebInspector.CSSMedia.Source={LINKED_SHEET:"linkedSheet",INLINE_SHEET:"inlineSheet",MEDIA_RULE:"mediaRule",IMPORT_RULE:"importRule"},WebInspector.CSSMedia.parsePayload=function(a){return new WebInspector.CSSMedia(a)},WebInspector.CSSMedia.parseMediaArrayPayload=function(a){for(var b=[],c=0;c<a.length;++c)b.push(WebInspector.CSSMedia.parsePayload(a[c]));return b},WebInspector.CSSMedia.prototype={lineNumberInSource:function(){if(!this.range)return void 0;var a=this.header();return a?a.lineNumberInSource(this.range.startLine):void 0},columnNumberInSource:function(){if(!this.range)return void 0;var a=this.header();return a?a.columnNumberInSource(this.range.startLine,this.range.startColumn):void 0},header:function(){return this.parentStyleSheetId?WebInspector.cssModel.styleSheetHeaderForId(this.parentStyleSheetId):null}},WebInspector.CSSStyleSheetHeader=function(a){this.id=a.styleSheetId,this.frameId=a.frameId,this.sourceURL=a.sourceURL,this.hasSourceURL=!!a.hasSourceURL,this.sourceMapURL=a.sourceMapURL,this.origin=a.origin,this.title=a.title,this.disabled=a.disabled,this.isInline=a.isInline,this.startLine=a.startLine,this.startColumn=a.startColumn,this._locations=new Set,this._sourceMappings=[]},WebInspector.CSSStyleSheetHeader.prototype={resourceURL:function(){return this.isViaInspector()?this._viaInspectorResourceURL():this.sourceURL},addLiveLocation:function(a){this._locations.add(a),a.update()},updateLocations:function(){for(var a=this._locations.items(),b=0;b<a.length;++b)a[b].update()},_removeLocation:function(a){this._locations.remove(a)},rawLocationToUILocation:function(a,b){for(var c=null,d=new WebInspector.CSSLocation(this.resourceURL(),a,b),e=this._sourceMappings.length-1;!c&&e>=0;--e)c=this._sourceMappings[e].rawLocationToUILocation(d);return c},pushSourceMapping:function(a){this._sourceMappings.push(a),this.updateLocations()},_viaInspectorResourceURL:function(){var a=WebInspector.resourceTreeModel.frameForId(this.frameId);console.assert(a);var b=new WebInspector.ParsedURL(a.url),c="inspector://"+b.host+b.folderPathComponents;return c.endsWith("/")||(c+="/"),c+="inspector-stylesheet"},lineNumberInSource:function(a){return this.startLine+a},columnNumberInSource:function(a,b){return(a?0:this.startColumn)+b},contentURL:function(){return this.resourceURL()},contentType:function(){return WebInspector.resourceTypes.Stylesheet},_trimSourceURL:function(a){var b=/\n[\040\t]*\/\*[#@][\040\t]sourceURL=[\040\t]*([^\s]*)[\040\t]*\*\/[\040\t]*$/gm;return a.replace(b,"")},requestContent:function(a){function b(b,c){b&&(WebInspector.console.log("Failed to get text for stylesheet "+this.id+": "+b),c=""),c=this._trimSourceURL(c),a(c)}CSSAgent.getStyleSheetText(this.id,b.bind(this))},searchInContent:function(a,b,c,d){function e(e){d(WebInspector.ContentProvider.performSearchInContent(e,a,b,c))}this.requestContent(e)},setContent:function(a,b){a=this._trimSourceURL(a),this.hasSourceURL&&(a+="\n/*# sourceURL="+this.sourceURL+" */"),CSSAgent.setStyleSheetText(this.id,a,b)},isViaInspector:function(){return"inspector"===this.origin}},WebInspector.CSSDispatcher=function(a){this._cssModel=a},WebInspector.CSSDispatcher.prototype={mediaQueryResultChanged:function(){this._cssModel.mediaQueryResultChanged()},styleSheetChanged:function(a){this._cssModel._fireStyleSheetChanged(a)},styleSheetAdded:function(a){this._cssModel._styleSheetAdded(a)},styleSheetRemoved:function(a){this._cssModel._styleSheetRemoved(a)}},WebInspector.CSSStyleModel.ComputedStyleLoader=function(a){this._cssModel=a,this._nodeIdToCallbackData={}},WebInspector.CSSStyleModel.ComputedStyleLoader.prototype={getComputedStyle:function(a,b){function c(a,b,c){var d=b||!c?null:WebInspector.CSSStyleDeclaration.parseComputedStylePayload(c),e=this._nodeIdToCallbackData[a];if(e){delete this._nodeIdToCallbackData[a];for(var f=0;f<e.length;++f)e[f](d)}}return this._nodeIdToCallbackData[a]?void this._nodeIdToCallbackData[a].push(b):(this._nodeIdToCallbackData[a]=[b],void CSSAgent.getComputedStyleForNode(a,c.bind(this,a)))}},WebInspector.cssModel,WebInspector.CSSParser=function(){this._worker=new Worker("ScriptFormatterWorker.js"),this._worker.onmessage=this._onRuleChunk.bind(this),this._rules=[]},WebInspector.CSSParser.Events={RulesParsed:"RulesParsed"},WebInspector.CSSParser.prototype={fetchAndParse:function(a,b){this._lock(),this._finishedCallback=b,a.requestContent(this._innerParse.bind(this))},parse:function(a,b){this._lock(),this._finishedCallback=b,this._innerParse(a)},dispose:function(){this._worker&&(this._worker.terminate(),delete this._worker)},rules:function(){return this._rules},_lock:function(){console.assert(!this._parsingStyleSheet,"Received request to parse stylesheet before previous was completed."),this._parsingStyleSheet=!0},_unlock:function(){delete this._parsingStyleSheet},_innerParse:function(a){this._rules=[],this._worker.postMessage({method:"parseCSS",params:{content:a}})},_onRuleChunk:function(a){for(var b=a.data,c=b.chunk,d=0;d<c.length;++d)this._rules.push(c[d]);b.isLastChunk&&this._onFinishedParsing(),this.dispatchEventToListeners(WebInspector.CSSParser.Events.RulesParsed)},_onFinishedParsing:function(){this._unlock(),this._finishedCallback&&this._finishedCallback(this._rules)},__proto__:WebInspector.Object.prototype},WebInspector.CSSParser.DataChunk,WebInspector.CSSParser.StyleRule,WebInspector.CSSParser.AtRule,WebInspector.CSSParser.Rule,WebInspector.CSSParser.Property,WebInspector.NetworkManager=function(a){WebInspector.Object.call(this),this._dispatcher=new WebInspector.NetworkDispatcher(this),this._target=a,this._networkAgent=a.networkAgent(),a.registerNetworkDispatcher(this._dispatcher),WebInspector.settings.cacheDisabled.get()&&this._networkAgent.setCacheDisabled(!0),this._networkAgent.enable(),WebInspector.settings.cacheDisabled.addChangeListener(this._cacheDisabledSettingChanged,this)},WebInspector.NetworkManager.EventTypes={RequestStarted:"RequestStarted",RequestUpdated:"RequestUpdated",RequestFinished:"RequestFinished",RequestUpdateDropped:"RequestUpdateDropped"},WebInspector.NetworkManager._MIMETypes={"text/html":{document:!0},"text/xml":{document:!0},"text/plain":{document:!0},"application/xhtml+xml":{document:!0},"text/css":{stylesheet:!0},"text/xsl":{stylesheet:!0},"image/jpg":{image:!0},"image/jpeg":{image:!0},"image/pjpeg":{image:!0},"image/png":{image:!0},"image/gif":{image:!0},"image/bmp":{image:!0},"image/svg+xml":{image:!0,font:!0,document:!0},"image/vnd.microsoft.icon":{image:!0},"image/webp":{image:!0},"image/x-icon":{image:!0},"image/x-xbitmap":{image:!0},"font/ttf":{font:!0},"font/otf":{font:!0},"font/woff":{font:!0},"font/woff2":{font:!0},"font/truetype":{font:!0},"font/opentype":{font:!0},"application/octet-stream":{font:!0,image:!0},"application/font-woff":{font:!0},"application/x-font-woff":{font:!0},"application/x-font-type1":{font:!0},"application/x-font-ttf":{font:!0},"application/x-truetype-font":{font:!0},"text/javascript":{script:!0},"text/ecmascript":{script:!0},"application/javascript":{script:!0},"application/ecmascript":{script:!0},"application/x-javascript":{script:!0},"application/json":{script:!0},"text/javascript1.1":{script:!0},"text/javascript1.2":{script:!0},"text/javascript1.3":{script:!0},"text/jscript":{script:!0},"text/livescript":{script:!0}},WebInspector.NetworkManager.prototype={inflightRequestForURL:function(a){return this._dispatcher._inflightRequestsByURL[a]},_cacheDisabledSettingChanged:function(a){var b=a.data;this._networkAgent.setCacheDisabled(b)},__proto__:WebInspector.Object.prototype},WebInspector.NetworkDispatcher=function(a){this._manager=a,this._inflightRequestsById={},this._inflightRequestsByURL={}},WebInspector.NetworkDispatcher.prototype={_headersMapToHeadersArray:function(a){var b=[];for(var c in a)for(var d=a[c].split("\n"),e=0;e<d.length;++e)b.push({name:c,value:d[e]});return b},_updateNetworkRequestWithRequest:function(a,b){a.requestMethod=b.method,a.setRequestHeaders(this._headersMapToHeadersArray(b.headers)),a.requestFormData=b.postData},_updateNetworkRequestWithResponse:function(a,b){b&&(b.url&&a.url!==b.url&&(a.url=b.url),a.mimeType=b.mimeType,a.statusCode=b.status,a.statusText=b.statusText,a.responseHeaders=this._headersMapToHeadersArray(b.headers),b.encodedDataLength>=0&&a.setTransferSize(b.encodedDataLength),b.headersText&&(a.responseHeadersText=b.headersText),b.requestHeaders&&(a.setRequestHeaders(this._headersMapToHeadersArray(b.requestHeaders)),a.setRequestHeadersText(b.requestHeadersText||"")),a.connectionReused=b.connectionReused,a.connectionId=b.connectionId,b.remoteIPAddress&&a.setRemoteAddress(b.remoteIPAddress,b.remotePort||-1),b.fromDiskCache?a.cached=!0:a.timing=b.timing,this._mimeTypeIsConsistentWithType(a)||this._manager._target.consoleModel.addMessage(new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.Network,WebInspector.ConsoleMessage.MessageLevel.Log,WebInspector.UIString('Resource interpreted as %s but transferred with MIME type %s: "%s".',a.type.title(),a.mimeType,a.url),WebInspector.ConsoleMessage.MessageType.Log,"",0,0,a.requestId)))},_mimeTypeIsConsistentWithType:function(a){return a.hasErrorStatusCode()||304===a.statusCode||204===a.statusCode?!0:"undefined"==typeof a.type||a.type===WebInspector.resourceTypes.Other||a.type===WebInspector.resourceTypes.XHR||a.type===WebInspector.resourceTypes.WebSocket?!0:a.mimeType?a.mimeType in WebInspector.NetworkManager._MIMETypes?a.type.name()in WebInspector.NetworkManager._MIMETypes[a.mimeType]:!1:!0},_isNull:function(a){return a?!(a.status||a.mimeType||a.headers&&Object.keys(a.headers).length):!0},requestWillBeSent:function(a,b,c,d,e,f,g,h){var i=this._inflightRequestsById[a];if(i){if(!h)return;this.responseReceived(a,b,c,f,PageAgent.ResourceType.Other,h),i=this._appendRedirect(a,f,e.url)}else i=this._createNetworkRequest(a,b,c,e.url,d,g);i.hasNetworkData=!0,this._updateNetworkRequestWithRequest(i,e),i.startTime=f,this._startNetworkRequest(i)},requestServedFromCache:function(a){var b=this._inflightRequestsById[a];b&&(b.cached=!0)},responseReceived:function(a,b,c,d,e,f){if(!this._isNull(f)){var g=this._inflightRequestsById[a];if(!g){var h={};return h.url=f.url,h.frameId=b,h.loaderId=c,h.resourceType=e,h.mimeType=f.mimeType,void this._manager.dispatchEventToListeners(WebInspector.NetworkManager.EventTypes.RequestUpdateDropped,h)}g.responseReceivedTime=d,g.type=WebInspector.resourceTypes[e],this._updateNetworkRequestWithResponse(g,f),this._updateNetworkRequest(g)}},dataReceived:function(a,b,c,d){var e=this._inflightRequestsById[a];e&&(e.resourceSize+=c,-1!=d&&e.increaseTransferSize(d),e.endTime=b,this._updateNetworkRequest(e))},loadingFinished:function(a,b,c){var d=this._inflightRequestsById[a];d&&this._finishNetworkRequest(d,b,c)},loadingFailed:function(a,b,c,d){var e=this._inflightRequestsById[a];e&&(e.failed=!0,e.canceled=d,e.localizedFailDescription=c,this._finishNetworkRequest(e,b,-1))},webSocketCreated:function(a,b){var c=new WebInspector.NetworkRequest(a,b,"","","");c.type=WebInspector.resourceTypes.WebSocket,this._startNetworkRequest(c)},webSocketWillSendHandshakeRequest:function(a,b,c){var d=this._inflightRequestsById[a];d&&(d.requestMethod="GET",d.setRequestHeaders(this._headersMapToHeadersArray(c.headers)),d.startTime=b,this._updateNetworkRequest(d))},webSocketHandshakeResponseReceived:function(a,b,c){var d=this._inflightRequestsById[a];d&&(d.statusCode=c.status,d.statusText=c.statusText,d.responseHeaders=this._headersMapToHeadersArray(c.headers),d.responseHeadersText=c.headersText,c.requestHeaders&&d.setRequestHeaders(this._headersMapToHeadersArray(c.requestHeaders)),c.requestHeadersText&&d.setRequestHeadersText(c.requestHeadersText),d.responseReceivedTime=b,this._updateNetworkRequest(d))},webSocketFrameReceived:function(a,b,c){var d=this._inflightRequestsById[a];d&&(d.addFrame(c,b),d.responseReceivedTime=b,this._updateNetworkRequest(d))},webSocketFrameSent:function(a,b,c){var d=this._inflightRequestsById[a];d&&(d.addFrame(c,b,!0),d.responseReceivedTime=b,this._updateNetworkRequest(d))},webSocketFrameError:function(a,b,c){var d=this._inflightRequestsById[a];d&&(d.addFrameError(c,b),d.responseReceivedTime=b,this._updateNetworkRequest(d))},webSocketClosed:function(a,b){var c=this._inflightRequestsById[a];c&&this._finishNetworkRequest(c,b,-1)},_appendRedirect:function(a,b,c){var d=this._inflightRequestsById[a],e=d.redirects||[];d.requestId="redirected:"+a+"."+e.length,delete d.redirects,e.length>0&&(d.redirectSource=e[e.length-1]),this._finishNetworkRequest(d,b,-1);var f=this._createNetworkRequest(a,d.frameId,d.loaderId,c,d.documentURL,d.initiator);return f.redirects=e.concat(d),f},_startNetworkRequest:function(a){this._inflightRequestsById[a.requestId]=a,this._inflightRequestsByURL[a.url]=a,this._dispatchEventToListeners(WebInspector.NetworkManager.EventTypes.RequestStarted,a)},_updateNetworkRequest:function(a){this._dispatchEventToListeners(WebInspector.NetworkManager.EventTypes.RequestUpdated,a)},_finishNetworkRequest:function(a,b,c){a.endTime=b,a.finished=!0,c>=0&&a.setTransferSize(c),this._dispatchEventToListeners(WebInspector.NetworkManager.EventTypes.RequestFinished,a),delete this._inflightRequestsById[a.requestId],delete this._inflightRequestsByURL[a.url]},_dispatchEventToListeners:function(a,b){this._manager.dispatchEventToListeners(a,b)},_createNetworkRequest:function(a,b,c,d,e,f){var g=new WebInspector.NetworkRequest(a,d,e,b,c);return g.initiator=f,g}},WebInspector.networkManager,WebInspector.NetworkLog=function(){this._requests=[],this._requestForId={},WebInspector.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestStarted,this._onRequestStarted,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._onMainFrameNavigated,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.Load,this._onLoad,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.DOMContentLoaded,this._onDOMContentLoaded,this)},WebInspector.NetworkLog.prototype={get requests(){return this._requests},requestForURL:function(a){for(var b=0;b<this._requests.length;++b)if(this._requests[b].url===a)return this._requests[b];return null},pageLoadForRequest:function(a){return a.__page},_onMainFrameNavigated:function(a){var b=a.data;this._currentPageLoad=null;var c=this._requests.splice(0,this._requests.length);this._requestForId={};for(var d=0;d<c.length;++d){var e=c[d];e.loaderId===b.loaderId&&(this._currentPageLoad||(this._currentPageLoad=new WebInspector.PageLoad(e)),this._requests.push(e),this._requestForId[e.requestId]=e,e.__page=this._currentPageLoad)}},_onRequestStarted:function(a){var b=a.data;this._requests.push(b),this._requestForId[b.requestId]=b,b.__page=this._currentPageLoad},_onDOMContentLoaded:function(a){this._currentPageLoad&&(this._currentPageLoad.contentLoadTime=a.data)},_onLoad:function(a){this._currentPageLoad&&(this._currentPageLoad.loadTime=a.data)},requestForId:function(a){return this._requestForId[a]}},WebInspector.networkLog,WebInspector.PageLoad=function(a){this.id=++WebInspector.PageLoad._lastIdentifier,this.url=a.url,this.startTime=a.startTime},WebInspector.PageLoad._lastIdentifier=0,WebInspector.ResourceTreeModel=function(a){a.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestFinished,this._onRequestFinished,this),a.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestUpdateDropped,this._onRequestUpdateDropped,this),a.consoleModel.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._consoleMessageAdded,this),a.consoleModel.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._consoleCleared,this),this._agent=a.pageAgent(),this._agent.enable(),this._fetchResourceTree(),a.registerPageDispatcher(new WebInspector.PageDispatcher(this)),this._pendingConsoleMessages={},this._securityOriginFrameCount={},this._inspectedPageURL=""},WebInspector.ResourceTreeModel.EventTypes={FrameAdded:"FrameAdded",FrameNavigated:"FrameNavigated",FrameDetached:"FrameDetached",FrameResized:"FrameResized",MainFrameNavigated:"MainFrameNavigated",MainFrameCreatedOrNavigated:"MainFrameCreatedOrNavigated",ResourceAdded:"ResourceAdded",WillLoadCachedResources:"WillLoadCachedResources",CachedResourcesLoaded:"CachedResourcesLoaded",DOMContentLoaded:"DOMContentLoaded",Load:"Load",WillReloadPage:"WillReloadPage",InspectedURLChanged:"InspectedURLChanged",SecurityOriginAdded:"SecurityOriginAdded",SecurityOriginRemoved:"SecurityOriginRemoved",ScreencastFrame:"ScreencastFrame",ScreencastVisibilityChanged:"ScreencastVisibilityChanged"},WebInspector.ResourceTreeModel.prototype={_fetchResourceTree:function(){this._frames={},delete this._cachedResourcesProcessed,this._agent.getResourceTree(this._processCachedResources.bind(this))},_processCachedResources:function(a,b){return a?void console.error(JSON.stringify(a)):(this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.WillLoadCachedResources),this._addFramesRecursively(null,b),this._dispatchInspectedURLChanged(),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.CachedResourcesLoaded),void(this._cachedResourcesProcessed=!0))},inspectedPageURL:function(){return this._inspectedPageURL},inspectedPageDomain:function(){var a=this._inspectedPageURL?this._inspectedPageURL.asParsedURL():null;return a?a.host:""},cachedResourcesLoaded:function(){return this._cachedResourcesProcessed},_dispatchInspectedURLChanged:function(){InspectorFrontendHost.inspectedURLChanged(this._inspectedPageURL),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.InspectedURLChanged,this._inspectedPageURL)
},_addFrame:function(a,b){this._frames[a.id]=a,a.isMainFrame()&&(this.mainFrame=a),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.FrameAdded,a),b||this._addSecurityOrigin(a.securityOrigin),a.isMainFrame()&&this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.MainFrameCreatedOrNavigated,a)},_addSecurityOrigin:function(a){return this._securityOriginFrameCount[a]?void(this._securityOriginFrameCount[a]+=1):(this._securityOriginFrameCount[a]=1,void this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginAdded,a))},_removeSecurityOrigin:function(a){return"undefined"!=typeof a?1===this._securityOriginFrameCount[a]?(delete this._securityOriginFrameCount[a],void this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginRemoved,a)):void(this._securityOriginFrameCount[a]-=1):void 0},securityOrigins:function(){return Object.keys(this._securityOriginFrameCount)},_handleMainFrameDetached:function(){function a(b){for(var c=0;c<b.childFrames.length;++c)a.call(this,b.childFrames[c]);b.isMainFrame()||this._removeSecurityOrigin(b.securityOrigin)}a.call(this,WebInspector.resourceTreeModel.mainFrame)},_frameAttached:function(a,b){if(!this._cachedResourcesProcessed)return null;if(this._frames[a])return null;var c=b?this._frames[b]:null,d=new WebInspector.ResourceTreeFrame(this,c,a);return d.isMainFrame()&&this.mainFrame&&(this._handleMainFrameDetached(this.mainFrame),this._frameDetached(this.mainFrame.id)),this._addFrame(d,!0),d},_frameNavigated:function(a){if(this._cachedResourcesProcessed){var b=this._frames[a.id];b||(console.assert(!a.parentId,"Main frame shouldn't have parent frame id."),b=this._frameAttached(a.id,a.parentId||""),console.assert(b)),this._removeSecurityOrigin(b.securityOrigin),b._navigate(a);var c=b.securityOrigin;b.isMainFrame()&&(this._inspectedPageURL=b.url),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.FrameNavigated,b),b.isMainFrame()&&(this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,b),this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.MainFrameCreatedOrNavigated,b)),c&&this._addSecurityOrigin(c);for(var d=b.resources(),e=0;e<d.length;++e)this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ResourceAdded,d[e]);b.isMainFrame()&&this._dispatchInspectedURLChanged()}},_frameDetached:function(a){if(this._cachedResourcesProcessed){var b=this._frames[a];b&&(this._removeSecurityOrigin(b.securityOrigin),b.parentFrame?b.parentFrame._removeChildFrame(b):b._remove())}},_onRequestFinished:function(a){if(this._cachedResourcesProcessed){var b=a.data;if(!b.failed&&b.type!==WebInspector.resourceTypes.XHR){var c=this._frames[b.frameId];if(c){var d=c._addRequest(b);this._addPendingConsoleMessagesToResource(d)}}}},_onRequestUpdateDropped:function(a){if(this._cachedResourcesProcessed){var b=a.data.frameId,c=this._frames[b];if(c){var d=a.data.url;if(!c._resourcesMap[d]){var e=new WebInspector.Resource(null,d,c.url,b,a.data.loaderId,WebInspector.resourceTypes[a.data.resourceType],a.data.mimeType);c.addResource(e)}}}},frameForId:function(a){return this._frames[a]},forAllResources:function(a){return this.mainFrame?this.mainFrame._callForFrameResources(a):!1},frames:function(){return Object.values(this._frames)},_consoleMessageAdded:function(a){var b=a.data,c=b.url?this.resourceForURL(b.url):null;c?this._addConsoleMessageToResource(b,c):this._addPendingConsoleMessage(b)},_addPendingConsoleMessage:function(a){a.url&&(this._pendingConsoleMessages[a.url]||(this._pendingConsoleMessages[a.url]=[]),this._pendingConsoleMessages[a.url].push(a))},_addPendingConsoleMessagesToResource:function(a){var b=this._pendingConsoleMessages[a.url];if(b){for(var c=0;c<b.length;c++)this._addConsoleMessageToResource(b[c],a);delete this._pendingConsoleMessages[a.url]}},_addConsoleMessageToResource:function(a,b){switch(a.level){case WebInspector.ConsoleMessage.MessageLevel.Warning:b.warnings++;break;case WebInspector.ConsoleMessage.MessageLevel.Error:b.errors++}b.addMessage(a)},_consoleCleared:function(){function a(a){a.clearErrorsAndWarnings()}this._pendingConsoleMessages={},this.forAllResources(a)},resourceForURL:function(a){return this.mainFrame?this.mainFrame.resourceForURL(a):null},_addFramesRecursively:function(){},_createResourceFromFramePayload:function(a,b,c,d){return new WebInspector.Resource(null,b,a.url,a.id,a.loaderId,c,d)},reloadPage:function(a,b,c){this.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.WillReloadPage),this._agent.reload(a,b,c)},__proto__:WebInspector.Object.prototype},WebInspector.ResourceTreeFrame=function(a,b,c,d){this._model=a,this._parentFrame=b,this._id=c,this._url="",d&&(this._loaderId=d.loaderId,this._name=d.name,this._url=d.url,this._securityOrigin=d.securityOrigin,this._mimeType=d.mimeType),this._childFrames=[],this._resourcesMap={},this._parentFrame&&this._parentFrame._childFrames.push(this)},WebInspector.ResourceTreeFrame.prototype={get id(){return this._id},get name(){return this._name||""},get url(){return this._url},get securityOrigin(){return this._securityOrigin},get loaderId(){return this._loaderId},get parentFrame(){return this._parentFrame},get childFrames(){return this._childFrames},isMainFrame:function(){return!this._parentFrame},_navigate:function(a){this._loaderId=a.loaderId,this._name=a.name,this._url=a.url,this._securityOrigin=a.securityOrigin,this._mimeType=a.mimeType;var b=this._resourcesMap[this._url];this._resourcesMap={},this._removeChildFrames(),b&&b.loaderId===this._loaderId&&this.addResource(b)},get mainResource(){return this._resourcesMap[this._url]},_removeChildFrame:function(a){this._childFrames.remove(a),a._remove()},_removeChildFrames:function(){var a=this._childFrames;this._childFrames=[];for(var b=0;b<a.length;++b)a[b]._remove()},_remove:function(){this._removeChildFrames(),delete this._model._frames[this.id],this._model.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.FrameDetached,this)},addResource:function(a){this._resourcesMap[a.url]!==a&&(this._resourcesMap[a.url]=a,this._model.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ResourceAdded,a))},_addRequest:function(a){var b=this._resourcesMap[a.url];return b&&b.request===a?b:(b=new WebInspector.Resource(a,a.url,a.documentURL,a.frameId,a.loaderId,a.type,a.mimeType),this._resourcesMap[b.url]=b,this._model.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ResourceAdded,b),b)},resources:function(){var a=[];for(var b in this._resourcesMap)a.push(this._resourcesMap[b]);return a},resourceForURL:function(a){function b(b){return b.url===a?(c=b,!0):void 0}var c;return this._callForFrameResources(b),c||null},_callForFrameResources:function(a){for(var b in this._resourcesMap)if(a(this._resourcesMap[b]))return!0;for(var c=0;c<this._childFrames.length;++c)if(this._childFrames[c]._callForFrameResources(a))return!0;return!1},displayName:function(){if(!this._parentFrame)return WebInspector.UIString("<top frame>");var a=new WebInspector.ParsedURL(this._url).displayName;return a?this._name?this._name+"( "+a+" )":a:WebInspector.UIString("<iframe>")}},WebInspector.PageDispatcher=function(a){this._resourceTreeModel=a},WebInspector.PageDispatcher.prototype={domContentEventFired:function(a){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.DOMContentLoaded,a)},loadEventFired:function(a){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.Load,a)},frameAttached:function(a,b){this._resourceTreeModel._frameAttached(a,b)},frameNavigated:function(a){this._resourceTreeModel._frameNavigated(a)},frameDetached:function(a){this._resourceTreeModel._frameDetached(a)},frameStartedLoading:function(){},frameStoppedLoading:function(){},frameScheduledNavigation:function(){},frameClearedScheduledNavigation:function(){},frameResized:function(){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.FrameResized,null)},javascriptDialogOpening:function(){},javascriptDialogClosed:function(){},scriptsEnabled:function(a){WebInspector.settings.javaScriptDisabled.set(!a)},screencastFrame:function(a,b){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ScreencastFrame,{data:a,metadata:b})},screencastVisibilityChanged:function(a){this._resourceTreeModel.dispatchEventToListeners(WebInspector.ResourceTreeModel.EventTypes.ScreencastVisibilityChanged,{visible:a})}},WebInspector.resourceTreeModel,WebInspector.ParsedURL=function(a){this.isValid=!1,this.url=a,this.scheme="",this.host="",this.port="",this.path="",this.queryParams="",this.fragment="",this.folderPathComponents="",this.lastPathComponent="";var b=a.match(/^([A-Za-z][A-Za-z0-9+.-]*):\/\/([^\/:]*)(?::([\d]+))?(?:(\/[^#]*)(?:#(.*))?)?$/i);if(b)this.isValid=!0,this.scheme=b[1].toLowerCase(),this.host=b[2],this.port=b[3],this.path=b[4]||"/",this.fragment=b[5];else{if(this.url.startsWith("data:"))return void(this.scheme="data");if("about:blank"===this.url)return void(this.scheme="about");this.path=this.url}var c=this.path,d=c.indexOf("?");-1!==d&&(this.queryParams=c.substring(d+1),c=c.substring(0,d));var e=c.lastIndexOf("/");-1!==e?(this.folderPathComponents=c.substring(0,e),this.lastPathComponent=c.substring(e+1)):this.lastPathComponent=c},WebInspector.ParsedURL.splitURL=function(a){var b,c,d,e=new WebInspector.ParsedURL(a);e.isValid?(b=e.scheme+"://"+e.host,e.port&&(b+=":"+e.port),c=e.folderPathComponents,d=e.lastPathComponent,e.queryParams&&(d+="?"+e.queryParams)):(b="",c="",d=a);for(var f=[b],g=c.split("/"),h=1;h<g.length;++h)f.push(g[h]);return f.push(d),f},WebInspector.ParsedURL.normalizePath=function(a){if(-1===a.indexOf("..")&&-1===a.indexOf("."))return a;for(var b=[],c=a.split("/"),d=0;d<c.length;d++){var e=c[d];"."!==e&&(".."===e?b.pop():e&&b.push(e))}var f=b.join("/");return"/"===f[f.length-1]?f:("/"===a[0]&&f&&(f="/"+f),("/"===a[a.length-1]||"."===c[c.length-1]||".."===c[c.length-1])&&(f+="/"),f)},WebInspector.ParsedURL.completeURL=function(a,b){if(!b)return a;var c=b.trim();if(c.startsWith("data:")||c.startsWith("blob:")||c.startsWith("javascript:"))return b;var d=c.asParsedURL();if(d&&d.scheme)return c;var e=a.asParsedURL();if(e){if(e.isDataURL())return b;var f=b,g=f.indexOf("?"),h="";if(-1!==g)h=f.substring(g),f=f.substring(0,g);else{var i=f.indexOf("#");-1!==i&&(h=f.substring(i),f=f.substring(0,i))}if(!f){var j=e.path;if("?"===h.charAt(0)){var k=e.path.indexOf("?");-1!==k&&(j=j.substring(0,k))}return e.scheme+"://"+e.host+(e.port?":"+e.port:"")+j+h}if("/"!==f.charAt(0)){var l=e.path,m=l.indexOf("?");-1!==m&&(l=l.substring(0,m)),l=l.substring(0,l.lastIndexOf("/"))+"/",f=l+f}else if(f.length>1&&"/"===f.charAt(1))return e.scheme+":"+f+h;return e.scheme+"://"+e.host+(e.port?":"+e.port:"")+WebInspector.ParsedURL.normalizePath(f)+h}return null},WebInspector.ParsedURL.prototype={get displayName(){return this._displayName?this._displayName:this.isDataURL()?this.dataURLDisplayName():this.isAboutBlank()?this.url:(this._displayName=this.lastPathComponent,this._displayName||(this._displayName=(this.host||"")+"/"),"/"===this._displayName&&(this._displayName=this.url),this._displayName)},dataURLDisplayName:function(){return this._dataURLDisplayName?this._dataURLDisplayName:this.isDataURL()?(this._dataURLDisplayName=this.url.trimEnd(20),this._dataURLDisplayName):""},isAboutBlank:function(){return"about:blank"===this.url},isDataURL:function(){return"data"===this.scheme}},String.prototype.asParsedURL=function(){var a=new WebInspector.ParsedURL(this.toString());return a.isValid?a:null},WebInspector.resourceForURL=function(a){return WebInspector.resourceTreeModel.resourceForURL(a)},WebInspector.forAllResources=function(a){WebInspector.resourceTreeModel.forAllResources(a)},WebInspector.displayNameForURL=function(a){if(!a)return"";var b=WebInspector.resourceForURL(a);if(b)return b.displayName;var c=WebInspector.workspace.uiSourceCodeForURL(a);if(c)return c.displayName();if(!WebInspector.resourceTreeModel.inspectedPageURL())return a.trimURL("");var d=WebInspector.resourceTreeModel.inspectedPageURL().asParsedURL(),e=d?d.lastPathComponent:d,f=WebInspector.resourceTreeModel.inspectedPageURL().indexOf(e);if(-1!==f&&f+e.length===WebInspector.resourceTreeModel.inspectedPageURL().length){var g=WebInspector.resourceTreeModel.inspectedPageURL().substring(0,f);if(a.startsWith(g))return a.substring(f)}if(!d)return a;var h=a.trimURL(d.host);return"/"===h?d.host+"/":h},WebInspector.linkifyStringAsFragmentWithCustomLinkifier=function(a,b){for(var c=document.createDocumentFragment(),d=/(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\/\/|data:|www\.)[\w$\-_+*'=\|\/\\(){}[\]^%@&#~,:;.!?]{2,}[\w$\-_+*=\|\/\\({^%@&#~]/,e=/:(\d+)(:(\d+))?$/;a;){var f=d.exec(a);if(!f)break;f=f[0];var g=a.indexOf(f),h=a.substring(0,g);c.appendChild(document.createTextNode(h));var i,j,k=f,l=f.startsWith("www.")?"http://"+f:f,m=e.exec(l);m&&(l=l.substring(0,l.length-m[0].length),i=parseInt(m[1],10),i=isNaN(i)?void 0:i-1,"string"==typeof m[3]&&(j=parseInt(m[3],10),j=isNaN(j)?void 0:j-1));var n=b(k,l,i,j);c.appendChild(n),a=a.substring(g+f.length,a.length)}return a&&c.appendChild(document.createTextNode(a)),c},WebInspector.linkifyStringAsFragment=function(a){function b(a,b,c,d){var e=!WebInspector.resourceForURL(b)&&!WebInspector.workspace.uiSourceCodeForURL(b),f=WebInspector.linkifyURLAsNode(b,a,void 0,e);return"undefined"!=typeof c&&(f.lineNumber=c,"undefined"!=typeof d&&(f.columnNumber=d)),f}return WebInspector.linkifyStringAsFragmentWithCustomLinkifier(a,b)},WebInspector.linkifyURLAsNode=function(a,b,c,d,e){b||(b=a),c=c?c+" ":"",c+=d?"webkit-html-external-link":"webkit-html-resource-link";var f=document.createElement("a"),g=sanitizeHref(a);return null!==g&&(f.href=g),f.className=c,"undefined"==typeof e?f.title=a:("string"!=typeof e||e.length)&&(f.title=e),f.textContent=b.trimMiddle(WebInspector.Linkifier.MaxLengthForDisplayedURLs),d&&f.setAttribute("target","_blank"),f},WebInspector.formatLinkText=function(a,b){var c=a?WebInspector.displayNameForURL(a):WebInspector.UIString("(program)");return"number"==typeof b&&(c+=":"+(b+1)),c},WebInspector.linkifyResourceAsNode=function(a,b,c,d){var e=WebInspector.formatLinkText(a,b),f=WebInspector.linkifyURLAsNode(a,e,c,!1,d);return f.lineNumber=b,f},WebInspector.linkifyRequestAsNode=function(a){var b=WebInspector.linkifyURLAsNode(a.url);return b.requestId=a.requestId,b},WebInspector.contentAsDataURL=function(a,b,c){const d=1048576;return null===a||a.length>d?null:"data:"+b+(c?";base64,":",")+a},WebInspector.ResourceType=function(a,b,c,d,e){this._name=a,this._title=b,this._categoryTitle=c,this._color=d,this._isTextType=e},WebInspector.ResourceType.prototype={name:function(){return this._name},title:function(){return this._title},categoryTitle:function(){return this._categoryTitle},color:function(){return this._color},isTextType:function(){return this._isTextType},toString:function(){return this._name},canonicalMimeType:function(){return this===WebInspector.resourceTypes.Document?"text/html":this===WebInspector.resourceTypes.Script?"text/javascript":this===WebInspector.resourceTypes.Stylesheet?"text/css":""}},WebInspector.resourceTypes={Document:new WebInspector.ResourceType("document","Document","Documents","rgb(47,102,236)",!0),Stylesheet:new WebInspector.ResourceType("stylesheet","Stylesheet","Stylesheets","rgb(157,231,119)",!0),Image:new WebInspector.ResourceType("image","Image","Images","rgb(164,60,255)",!1),Script:new WebInspector.ResourceType("script","Script","Scripts","rgb(255,121,0)",!0),XHR:new WebInspector.ResourceType("xhr","XHR","XHR","rgb(231,231,10)",!0),Font:new WebInspector.ResourceType("font","Font","Fonts","rgb(255,82,62)",!1),WebSocket:new WebInspector.ResourceType("websocket","WebSocket","WebSockets","rgb(186,186,186)",!1),Other:new WebInspector.ResourceType("other","Other","Other","rgb(186,186,186)",!1)},WebInspector.ResourceType.mimeTypesForExtensions={js:"text/javascript",css:"text/css",html:"text/html",htm:"text/html",xml:"application/xml",xsl:"application/xml",asp:"application/x-aspx",aspx:"application/x-aspx",jsp:"application/x-jsp",c:"text/x-c++src",cc:"text/x-c++src",cpp:"text/x-c++src",h:"text/x-c++src",m:"text/x-c++src",mm:"text/x-c++src",coffee:"text/x-coffeescript",dart:"text/javascript",ts:"text/typescript",json:"application/json",gyp:"application/json",gypi:"application/json",cs:"text/x-csharp",java:"text/x-java",php:"text/x-php",phtml:"application/x-httpd-php",py:"text/x-python",sh:"text/x-sh",scss:"text/x-scss"},WebInspector.TimelineManager=function(){WebInspector.Object.call(this),this._dispatcher=new WebInspector.TimelineDispatcher(this),this._enablementCount=0,TimelineAgent.enable()},WebInspector.TimelineManager.EventTypes={TimelineStarted:"TimelineStarted",TimelineStopped:"TimelineStopped",TimelineEventRecorded:"TimelineEventRecorded",TimelineProgress:"TimelineProgress"},WebInspector.TimelineManager.prototype={isStarted:function(){return this._dispatcher.isStarted()},start:function(a,b,c,d,e,f){this._enablementCount++,1===this._enablementCount?TimelineAgent.start(a,b,c,d,e,f):f&&f(null)},stop:function(a){return this._enablementCount--,this._enablementCount<0?void console.error("WebInspector.TimelineManager start/stop calls are unbalanced "+(new Error).stack):void(this._enablementCount?a&&a(null):TimelineAgent.stop(a))},__proto__:WebInspector.Object.prototype},WebInspector.TimelineDispatcher=function(a){this._manager=a,InspectorBackend.registerTimelineDispatcher(this)},WebInspector.TimelineDispatcher.prototype={eventRecorded:function(a){this._manager.dispatchEventToListeners(WebInspector.TimelineManager.EventTypes.TimelineEventRecorded,a)},isStarted:function(){return!!this._started},started:function(a){a&&WebInspector.moduleManager.loadModule("timeline"),this._started=!0,this._manager.dispatchEventToListeners(WebInspector.TimelineManager.EventTypes.TimelineStarted,a)},stopped:function(a){this._started=!1,this._manager.dispatchEventToListeners(WebInspector.TimelineManager.EventTypes.TimelineStopped,a)},progress:function(a){this._manager.dispatchEventToListeners(WebInspector.TimelineManager.EventTypes.TimelineProgress,a)}},WebInspector.timelineManager,WebInspector.PowerProfiler=function(){WebInspector.Object.call(this),this._dispatcher=new WebInspector.PowerDispatcher(this)},WebInspector.PowerProfiler.EventTypes={PowerEventRecorded:"PowerEventRecorded"},WebInspector.PowerProfiler.prototype={startProfile:function(){PowerAgent.start()},stopProfile:function(){PowerAgent.end()},__proto__:WebInspector.Object.prototype},WebInspector.PowerDispatcher=function(a){this._profiler=a,InspectorBackend.registerPowerDispatcher(this)},WebInspector.PowerDispatcher.prototype={dataAvailable:function(a){for(var b=0;b<a.length;++b)this._profiler.dispatchEventToListeners(WebInspector.PowerProfiler.EventTypes.PowerEventRecorded,a[b])}},WebInspector.powerProfiler,WebInspector.OverridesSupport=function(){WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._onMainFrameNavigated.bind(this),this),this._deviceMetricsOverrideEnabled=!1,this._emulateViewportEnabled=!1,this._userAgent="",this.maybeHasActiveOverridesChanged(),WebInspector.settings.overrideUserAgent.addChangeListener(this._userAgentChanged,this),WebInspector.settings.userAgent.addChangeListener(this._userAgentChanged,this),WebInspector.settings.overrideDeviceMetrics.addChangeListener(this._deviceMetricsChanged,this),WebInspector.settings.deviceMetrics.addChangeListener(this._deviceMetricsChanged,this),WebInspector.settings.emulateViewport.addChangeListener(this._deviceMetricsChanged,this),WebInspector.settings.deviceFitWindow.addChangeListener(this._deviceMetricsChanged,this),WebInspector.settings.overrideGeolocation.addChangeListener(this._geolocationPositionChanged,this),WebInspector.settings.geolocationOverride.addChangeListener(this._geolocationPositionChanged,this),WebInspector.settings.overrideDeviceOrientation.addChangeListener(this._deviceOrientationChanged,this),WebInspector.settings.deviceOrientationOverride.addChangeListener(this._deviceOrientationChanged,this),WebInspector.settings.emulateTouchEvents.addChangeListener(this._emulateTouchEventsChanged,this),WebInspector.settings.overrideCSSMedia.addChangeListener(this._cssMediaChanged,this),WebInspector.settings.emulatedCSSMedia.addChangeListener(this._cssMediaChanged,this)},WebInspector.OverridesSupport.isInspectingDevice=function(){return!!WebInspector.queryParam("remoteFrontend")},WebInspector.OverridesSupport.Events={OverridesWarningUpdated:"OverridesWarningUpdated",HasActiveOverridesChanged:"HasActiveOverridesChanged"},WebInspector.OverridesSupport.DeviceMetrics=function(a,b,c,d){this.width=a,this.height=b,this.deviceScaleFactor=c,this.textAutosizing=d},WebInspector.OverridesSupport.DeviceMetrics.parseSetting=function(a){var b=0,c=0,d=1,e=!0;if(a){var f=a.split("x");f.length>=3&&(b=parseInt(f[0],10),c=parseInt(f[1],10),d=parseFloat(f[2]),4==f.length&&(e=1==f[3]))}return new WebInspector.OverridesSupport.DeviceMetrics(b,c,d,e)},WebInspector.OverridesSupport.DeviceMetrics.parseUserInput=function(a,b,c,d){function e(a,b){return a?b?/^[0]*[1-9][\d]*$/.test(a):/^[0]*([1-9][\d]*(\.\d+)?|\.\d+)$/.test(a):!0}if(!a^!b)return null;var f=e(a,!0),g=e(b,!0),h=e(c,!1);if(!f&&!g&&!h)return null;var i=f?parseInt(a||"0",10):-1,j=g?parseInt(b||"0",10):-1,k=h?parseFloat(c):-1;return new WebInspector.OverridesSupport.DeviceMetrics(i,j,k,d)},WebInspector.OverridesSupport.DeviceMetrics.prototype={isValid:function(){return this.isWidthValid()&&this.isHeightValid()&&this.isDeviceScaleFactorValid()},isWidthValid:function(){return this.width>=0},isHeightValid:function(){return this.height>=0},isDeviceScaleFactorValid:function(){return this.deviceScaleFactor>0},toSetting:function(){return this.isValid()&&this.width&&this.height?this.width+"x"+this.height+"x"+this.deviceScaleFactor+"x"+(this.textAutosizing?"1":"0"):""},widthToInput:function(){return this.isWidthValid()&&this.width?String(this.width):""},heightToInput:function(){return this.isHeightValid()&&this.height?String(this.height):""},deviceScaleFactorToInput:function(){return this.isDeviceScaleFactorValid()&&this.deviceScaleFactor?String(this.deviceScaleFactor):""},fontScaleFactor:function(){if(this.isValid()){var a=Math.min(this.width,this.height)/this.deviceScaleFactor,b=1.05,c=320,d=1.3,e=800;if(c>=a)return b;if(a>=e)return d;var f=(a-c)/(e-c);return f*(d-b)+b}return 1}},WebInspector.OverridesSupport.GeolocationPosition=function(a,b,c){this.latitude=a,this.longitude=b,this.error=c},WebInspector.OverridesSupport.GeolocationPosition.prototype={toSetting:function(){return"number"==typeof this.latitude&&"number"==typeof this.longitude&&"string"==typeof this.error?this.latitude+"@"+this.longitude+":"+this.error:""}},WebInspector.OverridesSupport.GeolocationPosition.parseSetting=function(a){if(a){var b=a.split(":");if(2===b.length){var c=b[0].split("@");if(2===c.length)return new WebInspector.OverridesSupport.GeolocationPosition(parseFloat(c[0]),parseFloat(c[1]),b[1])}}return new WebInspector.OverridesSupport.GeolocationPosition(0,0,"")},WebInspector.OverridesSupport.GeolocationPosition.parseUserInput=function(a,b,c){function d(a){return a?/^[-]?[0-9]*[.]?[0-9]*$/.test(a):!0}if(!a^!a)return null;var e=d(a),f=d(b);if(!e&&!f)return null;var g=e?parseFloat(a):-1,h=f?parseFloat(b):-1;return new WebInspector.OverridesSupport.GeolocationPosition(g,h,c?"PositionUnavailable":"")},WebInspector.OverridesSupport.GeolocationPosition.clearGeolocationOverride=function(){GeolocationAgent.clearGeolocationOverride()},WebInspector.OverridesSupport.DeviceOrientation=function(a,b,c){this.alpha=a,this.beta=b,this.gamma=c},WebInspector.OverridesSupport.DeviceOrientation.prototype={toSetting:function(){return JSON.stringify(this)}},WebInspector.OverridesSupport.DeviceOrientation.parseSetting=function(a){if(a){var b=JSON.parse(a);return new WebInspector.OverridesSupport.DeviceOrientation(b.alpha,b.beta,b.gamma)}return new WebInspector.OverridesSupport.DeviceOrientation(0,0,0)},WebInspector.OverridesSupport.DeviceOrientation.parseUserInput=function(a,b,c){function d(a){return a?/^[-]?[0-9]*[.]?[0-9]*$/.test(a):!0}if(!a^!b^!c)return null;var e=d(a),f=d(b),g=d(c);if(!e&&!f&&!g)return null;var h=e?parseFloat(a):-1,i=f?parseFloat(b):-1,j=g?parseFloat(c):-1;return new WebInspector.OverridesSupport.DeviceOrientation(h,i,j)},WebInspector.OverridesSupport.DeviceOrientation.clearDeviceOrientationOverride=function(){PageAgent.clearDeviceOrientationOverride()},WebInspector.OverridesSupport.prototype={emulateDevice:function(a,b){this._deviceMetricsChangedListenerMuted=!0,this._userAgentChangedListenerMuted=!0,WebInspector.settings.deviceMetrics.set(a),WebInspector.settings.userAgent.set(b),WebInspector.settings.overrideDeviceMetrics.set(!0),WebInspector.settings.overrideUserAgent.set(!0),WebInspector.settings.emulateTouchEvents.set(!0),WebInspector.settings.emulateViewport.set(!0),delete this._deviceMetricsChangedListenerMuted,delete this._userAgentChangedListenerMuted,this._deviceMetricsChanged(),this._userAgentChanged()},reset:function(){this._deviceMetricsChangedListenerMuted=!0,this._userAgentChangedListenerMuted=!0,WebInspector.settings.overrideDeviceMetrics.set(!1),WebInspector.settings.overrideUserAgent.set(!1),WebInspector.settings.emulateTouchEvents.set(!1),WebInspector.settings.overrideDeviceOrientation.set(!1),WebInspector.settings.overrideGeolocation.set(!1),WebInspector.settings.overrideCSSMedia.set(!1),WebInspector.settings.emulateViewport.set(!1),WebInspector.settings.deviceMetrics.set(""),delete this._deviceMetricsChangedListenerMuted,delete this._userAgentChangedListenerMuted,this._deviceMetricsChanged(),this._userAgentChanged()},applyInitialOverrides:function(){WebInspector.settings.overrideDeviceOrientation.get()&&this._deviceOrientationChanged(),WebInspector.settings.overrideGeolocation.get()&&this._geolocationPositionChanged(),WebInspector.settings.emulateTouchEvents.get()&&this._emulateTouchEventsChanged(),WebInspector.settings.overrideCSSMedia.get()&&this._cssMediaChanged(),WebInspector.settings.overrideDeviceMetrics.get()&&this._deviceMetricsChanged(),WebInspector.settings.overrideUserAgent.get()&&this._userAgentChanged()},_userAgentChanged:function(){if(!WebInspector.OverridesSupport.isInspectingDevice()&&!this._userAgentChangedListenerMuted){var a=WebInspector.settings.overrideUserAgent.get()?WebInspector.settings.userAgent.get():"";NetworkAgent.setUserAgentOverride(a),this._updateUserAgentWarningMessage(this._userAgent!==a?WebInspector.UIString("You might need to reload the page for proper user agent spoofing and viewport rendering."):""),this._userAgent=a,this.maybeHasActiveOverridesChanged()}},_deviceMetricsChanged:function(){function a(a){if(a)return void this._updateDeviceMetricsWarningMessage(WebInspector.UIString("Screen emulation is not available on this page."));var b=WebInspector.settings.emulateViewport.get();this._updateDeviceMetricsWarningMessage(this._deviceMetricsOverrideEnabled!==e||e&&this._emulateViewportEnabled!=b?WebInspector.UIString("You might need to reload the page for proper user agent spoofing and viewport rendering."):""),this._deviceMetricsOverrideEnabled=e,this._emulateViewportEnabled=b,this._deviceMetricsOverrideAppliedForTest()}if(!this._deviceMetricsChangedListenerMuted){var b=WebInspector.OverridesSupport.DeviceMetrics.parseSetting(WebInspector.settings.overrideDeviceMetrics.get()?WebInspector.settings.deviceMetrics.get():"");if(b.isValid()){var c=Math.round(b.width/b.deviceScaleFactor),d=Math.round(b.height/b.deviceScaleFactor),e=!(!c||!d);if(e&&WebInspector.OverridesSupport.isInspectingDevice())return void this._updateDeviceMetricsWarningMessage(WebInspector.UIString("Screen emulation on the device is not available."));PageAgent.setDeviceMetricsOverride(c,d,e?b.deviceScaleFactor:0,WebInspector.settings.emulateViewport.get(),WebInspector.settings.deviceFitWindow.get(),b.textAutosizing,b.fontScaleFactor(),a.bind(this)),this.maybeHasActiveOverridesChanged()}}},_deviceMetricsOverrideAppliedForTest:function(){},_geolocationPositionChanged:function(){if(!WebInspector.settings.overrideGeolocation.get())return void GeolocationAgent.clearGeolocationOverride();var a=WebInspector.OverridesSupport.GeolocationPosition.parseSetting(WebInspector.settings.geolocationOverride.get());a.error?GeolocationAgent.setGeolocationOverride():GeolocationAgent.setGeolocationOverride(a.latitude,a.longitude,150),this.maybeHasActiveOverridesChanged()},_deviceOrientationChanged:function(){if(!WebInspector.settings.overrideDeviceOrientation.get())return void PageAgent.clearDeviceOrientationOverride();var a=WebInspector.OverridesSupport.DeviceOrientation.parseSetting(WebInspector.settings.deviceOrientationOverride.get());PageAgent.setDeviceOrientationOverride(a.alpha,a.beta,a.gamma),this.maybeHasActiveOverridesChanged()},_emulateTouchEventsChanged:function(){WebInspector.OverridesSupport.isInspectingDevice()&&WebInspector.settings.emulateTouchEvents.get()||(WebInspector.domModel.emulateTouchEventObjects(WebInspector.settings.emulateTouchEvents.get()),this.maybeHasActiveOverridesChanged())},_cssMediaChanged:function(){PageAgent.setEmulatedMedia(WebInspector.settings.overrideCSSMedia.get()?WebInspector.settings.emulatedCSSMedia.get():""),WebInspector.cssModel.mediaQueryResultChanged(),this.maybeHasActiveOverridesChanged()},hasActiveOverrides:function(){return this._hasActiveOverrides},maybeHasActiveOverridesChanged:function(){var a=WebInspector.settings.overrideUserAgent.get()||WebInspector.settings.overrideDeviceMetrics.get()||WebInspector.settings.overrideGeolocation.get()||WebInspector.settings.overrideDeviceOrientation.get()||WebInspector.settings.emulateTouchEvents.get()||WebInspector.settings.overrideCSSMedia.get();this._hasActiveOverrides!==a&&(this._hasActiveOverrides=a,this.dispatchEventToListeners(WebInspector.OverridesSupport.Events.HasActiveOverridesChanged))},_onMainFrameNavigated:function(){this._deviceMetricsChanged(),this._updateUserAgentWarningMessage("")},_updateDeviceMetricsWarningMessage:function(a){this._deviceMetricsWarningMessage=a,this.dispatchEventToListeners(WebInspector.OverridesSupport.Events.OverridesWarningUpdated)},_updateUserAgentWarningMessage:function(a){this._userAgentWarningMessage=a,this.dispatchEventToListeners(WebInspector.OverridesSupport.Events.OverridesWarningUpdated)},warningMessage:function(){return this._deviceMetricsWarningMessage||this._userAgentWarningMessage||""},__proto__:WebInspector.Object.prototype},WebInspector.overridesSupport,WebInspector.Database=function(a,b,c,d,e){this._model=a,this._id=b,this._domain=c,this._name=d,this._version=e},WebInspector.Database.prototype={get id(){return this._id},get name(){return this._name},set name(a){this._name=a},get version(){return this._version},set version(a){this._version=a},get domain(){return this._domain},set domain(a){this._domain=a},getTableNames:function(a){function b(b,c){b||a(c.sort())}DatabaseAgent.getDatabaseTableNames(this._id,b)},executeSql:function(a,b,c){function d(a,d,e,f){if(a)return void c(a);if(f){var g;return g=f.message?f.message:2==f.code?WebInspector.UIString("Database no longer has expected version."):WebInspector.UIString("An unexpected error %s occurred.",f.code),void c(g)}b(d,e)}DatabaseAgent.executeSQL(this._id,a,d)}},WebInspector.DatabaseModel=function(){this._databases=[],InspectorBackend.registerDatabaseDispatcher(new WebInspector.DatabaseDispatcher(this)),DatabaseAgent.enable()},WebInspector.DatabaseModel.Events={DatabaseAdded:"DatabaseAdded"},WebInspector.DatabaseModel.prototype={databases:function(){var a=[];for(var b in this._databases)a.push(this._databases[b]);return a},databaseForId:function(a){return this._databases[a]},_addDatabase:function(a){this._databases.push(a),this.dispatchEventToListeners(WebInspector.DatabaseModel.Events.DatabaseAdded,a)
},__proto__:WebInspector.Object.prototype},WebInspector.DatabaseDispatcher=function(a){this._model=a},WebInspector.DatabaseDispatcher.prototype={addDatabase:function(a){this._model._addDatabase(new WebInspector.Database(this._model,a.id,a.domain,a.name,a.version))}},WebInspector.databaseModel,WebInspector.DOMStorage=function(a,b){this._securityOrigin=a,this._isLocalStorage=b},WebInspector.DOMStorage.storageId=function(a,b){return{securityOrigin:a,isLocalStorage:b}},WebInspector.DOMStorage.Events={DOMStorageItemsCleared:"DOMStorageItemsCleared",DOMStorageItemRemoved:"DOMStorageItemRemoved",DOMStorageItemAdded:"DOMStorageItemAdded",DOMStorageItemUpdated:"DOMStorageItemUpdated"},WebInspector.DOMStorage.prototype={get id(){return WebInspector.DOMStorage.storageId(this._securityOrigin,this._isLocalStorage)},get securityOrigin(){return this._securityOrigin},get isLocalStorage(){return this._isLocalStorage},getItems:function(a){DOMStorageAgent.getDOMStorageItems(this.id,a)},setItem:function(a,b){DOMStorageAgent.setDOMStorageItem(this.id,a,b)},removeItem:function(a){DOMStorageAgent.removeDOMStorageItem(this.id,a)},__proto__:WebInspector.Object.prototype},WebInspector.DOMStorageModel=function(){this._storages={},InspectorBackend.registerDOMStorageDispatcher(new WebInspector.DOMStorageDispatcher(this)),DOMStorageAgent.enable(),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginAdded,this._securityOriginAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginRemoved,this._securityOriginRemoved,this)},WebInspector.DOMStorageModel.Events={DOMStorageAdded:"DOMStorageAdded",DOMStorageRemoved:"DOMStorageRemoved"},WebInspector.DOMStorageModel.prototype={_securityOriginAdded:function(a){var b=a.data,c=this._storageKey(b,!0);console.assert(!this._storages[c]);var d=new WebInspector.DOMStorage(b,!0);this._storages[c]=d,this.dispatchEventToListeners(WebInspector.DOMStorageModel.Events.DOMStorageAdded,d);var e=this._storageKey(b,!1);console.assert(!this._storages[e]);var f=new WebInspector.DOMStorage(b,!1);this._storages[e]=f,this.dispatchEventToListeners(WebInspector.DOMStorageModel.Events.DOMStorageAdded,f)},_securityOriginRemoved:function(a){var b=a.data,c=this._storageKey(b,!0),d=this._storages[c];console.assert(d),delete this._storages[c],this.dispatchEventToListeners(WebInspector.DOMStorageModel.Events.DOMStorageRemoved,d);var e=this._storageKey(b,!1),f=this._storages[e];console.assert(f),delete this._storages[e],this.dispatchEventToListeners(WebInspector.DOMStorageModel.Events.DOMStorageRemoved,f)},_storageKey:function(a,b){return JSON.stringify(WebInspector.DOMStorage.storageId(a,b))},_domStorageItemsCleared:function(a){var b=this.storageForId(a);if(b){var c={};b.dispatchEventToListeners(WebInspector.DOMStorage.Events.DOMStorageItemsCleared,c)}},_domStorageItemRemoved:function(a,b){var c=this.storageForId(a);if(c){var d={key:b};c.dispatchEventToListeners(WebInspector.DOMStorage.Events.DOMStorageItemRemoved,d)}},_domStorageItemAdded:function(a,b,c){var d=this.storageForId(a);if(d){var e={key:b,value:c};d.dispatchEventToListeners(WebInspector.DOMStorage.Events.DOMStorageItemAdded,e)}},_domStorageItemUpdated:function(a,b,c,d){var e=this.storageForId(a);if(e){var f={key:b,oldValue:c,value:d};e.dispatchEventToListeners(WebInspector.DOMStorage.Events.DOMStorageItemUpdated,f)}},storageForId:function(a){return this._storages[JSON.stringify(a)]},storages:function(){var a=[];for(var b in this._storages)a.push(this._storages[b]);return a},__proto__:WebInspector.Object.prototype},WebInspector.DOMStorageDispatcher=function(a){this._model=a},WebInspector.DOMStorageDispatcher.prototype={domStorageItemsCleared:function(a){this._model._domStorageItemsCleared(a)},domStorageItemRemoved:function(a,b){this._model._domStorageItemRemoved(a,b)},domStorageItemAdded:function(a,b,c){this._model._domStorageItemAdded(a,b,c)},domStorageItemUpdated:function(a,b,c,d){this._model._domStorageItemUpdated(a,b,c,d)}},WebInspector.domStorageModel,WebInspector.DataGrid=function(a,b,c,d,e){WebInspector.View.call(this),this.registerRequiredCSS("dataGrid.css"),this.element.className="data-grid",this.element.tabIndex=0,this.element.addEventListener("keydown",this._keyDown.bind(this),!1),this._headerTable=document.createElement("table"),this._headerTable.className="header",this._headerTableHeaders={},this._dataTable=document.createElement("table"),this._dataTable.className="data",this._dataTable.addEventListener("mousedown",this._mouseDownInDataTable.bind(this),!0),this._dataTable.addEventListener("click",this._clickInDataTable.bind(this),!0),this._dataTable.addEventListener("contextmenu",this._contextMenuInDataTable.bind(this),!0),b&&this._dataTable.addEventListener("dblclick",this._ondblclick.bind(this),!1),this._editCallback=b,this._deleteCallback=c,this._refreshCallback=d,this._contextMenuCallback=e,this._scrollContainer=document.createElement("div"),this._scrollContainer.className="data-container",this._scrollContainer.appendChild(this._dataTable),this.element.appendChild(this._headerTable),this.element.appendChild(this._scrollContainer);var f=document.createElement("tr"),g=document.createElement("colgroup");g.span=a.length;var h=document.createElement("tr");h.className="filler",this._columnsArray=a,this.columns={};for(var i=0;i<a.length;++i){var j=a[i];j.ordinal=i;var k=j.identifier=j.id||i;this.columns[k]=j,j.disclosure&&(this.disclosureColumnIdentifier=k);var l=document.createElement("col");j.width&&(l.style.width=j.width),j.element=l,g.appendChild(l);var m=document.createElement("th");m.className=k+"-column",m.columnIdentifier=k,this._headerTableHeaders[k]=m;var n=document.createElement("div");j.titleDOMFragment?n.appendChild(j.titleDOMFragment):n.textContent=j.title,m.appendChild(n),j.sort&&(m.classList.add("sort-"+j.sort),this._sortColumnCell=m),j.sortable&&(m.addEventListener("click",this._clickInHeaderCell.bind(this),!1),m.classList.add("sortable")),f.appendChild(m),h.createChild("td",k+"-column")}f.createChild("th","corner"),h.createChild("td","corner"),g.createChild("col","corner"),this._headerTableColumnGroup=g,this._headerTable.appendChild(this._headerTableColumnGroup),this.headerTableBody.appendChild(f),this._dataTableColumnGroup=g.cloneNode(!0),this._dataTable.appendChild(this._dataTableColumnGroup),this.dataTableBody.appendChild(h),this.selectedNode=null,this.expandNodesWhenArrowing=!1,this.setRootNode(new WebInspector.DataGridNode),this.indentWidth=15,this.resizers=[],this._columnWidthsInitialized=!1},WebInspector.DataGrid.ColumnDescriptor,WebInspector.DataGrid.Events={SelectedNode:"SelectedNode",DeselectedNode:"DeselectedNode",SortingChanged:"SortingChanged",ColumnsResized:"ColumnsResized"},WebInspector.DataGrid.Order={Ascending:"ascending",Descending:"descending"},WebInspector.DataGrid.Align={Center:"center",Right:"right"},WebInspector.DataGrid.createSortableDataGrid=function(a,b){function c(){function a(a,b){var f=a.data[c],g=b.data[c];f=f instanceof Node?f.textContent:String(f),g=g instanceof Node?g.textContent:String(g);var h;if(e){var i=parseFloat(f),j=parseFloat(g);h=j>i?-1:i>j?1:0}else h=g>f?-1:f>g?1:0;return d*h}for(var b=k._rootNode.children.slice(),c=k.sortColumnIdentifier(),d=k.isSortOrderAscending()?1:-1,e=!0,f=0;f<b.length;f++){var g=b[f].data[c];if(g=Number(g instanceof Node?g.textContent:g),isNaN(g)){e=!1;break}}b.sort(a),k.rootNode().removeChildren();for(var f=0;f<b.length;f++)k._rootNode.appendChild(b[f])}var d=a.length;if(!d)return null;for(var e=[],f=0;f<a.length;++f)e.push({title:a[f],width:a[f].length,sortable:!0});for(var g=[],f=0;f<b.length/d;++f){for(var h={},i=0;i<a.length;++i)h[i]=b[d*f+i];var j=new WebInspector.DataGridNode(h,!1);j.selectable=!1,g.push(j)}for(var k=new WebInspector.DataGrid(e),l=g.length,f=0;l>f;++f)k.rootNode().appendChild(g[f]);return k.addEventListener(WebInspector.DataGrid.Events.SortingChanged,c),k},WebInspector.DataGrid.prototype={setRootNode:function(a){this._rootNode&&(this._rootNode.removeChildren(),this._rootNode.dataGrid=null,this._rootNode._isRoot=!1),this._rootNode=a,a._isRoot=!0,a.hasChildren=!1,a._expanded=!0,a._revealed=!0,a.dataGrid=this},rootNode:function(){return this._rootNode},_ondblclick:function(a){if(!this._editing&&!this._editingNode){var b=this.columnIdentifierFromNode(a.target);b&&this.columns[b].editable&&this._startEditing(a.target)}},_startEditingColumnOfDataGridNode:function(a,b){this._editing=!0,this._editingNode=a,this._editingNode.select();var c=this._editingNode._element.children[b];WebInspector.InplaceEditor.startEditing(c,this._startEditingConfig(c)),window.getSelection().setBaseAndExtent(c,0,c,1)},_startEditing:function(a){var b=a.enclosingNodeOrSelfWithNodeName("td");if(b){if(this._editingNode=this.dataGridNodeFromNode(a),!this._editingNode){if(!this.creationNode)return;this._editingNode=this.creationNode}if(this._editingNode.isCreationNode)return this._startEditingColumnOfDataGridNode(this._editingNode,this._nextEditableColumn(-1));this._editing=!0,WebInspector.InplaceEditor.startEditing(b,this._startEditingConfig(b)),window.getSelection().setBaseAndExtent(b,0,b,1)}},renderInline:function(){this.element.classList.add("inline")},_startEditingConfig:function(a){return new WebInspector.InplaceEditor.Config(this._editingCommitted.bind(this),this._editingCancelled.bind(this),a.textContent)},_editingCommitted:function(a,b,c,d,e){function f(a){if(e)if("forward"!==e)if("backward"!==e);else{var b=this._nextEditableColumn(h,!0);if(-1!==b)return this._startEditingColumnOfDataGridNode(j,b);var c=this._nextEditableColumn(this._columnsArray.length,!0),d=j.traversePreviousNode(!0,!0);if(d)return this._startEditingColumnOfDataGridNode(d,c)}else{var f=this._nextEditableColumn(-1);if(j.isCreationNode&&h===f&&!a)return;var g=this._nextEditableColumn(h);if(-1!==g)return this._startEditingColumnOfDataGridNode(j,g);var d=j.traverseNextNode(!0,null,!0);if(d)return this._startEditingColumnOfDataGridNode(d,f);if(j.isCreationNode&&a)return this.addCreationNode(!1),this._startEditingColumnOfDataGridNode(this.creationNode,f)}}var g=this.columnIdentifierFromNode(a);if(!g)return void this._editingCancelled(a);var h=this.columns[g].ordinal,i=this._editingNode.data[g],j=this._editingNode;return i==b?(this._editingCancelled(a),void f.call(this,!1)):(this._editingNode.data[g]=b,this._editCallback(this._editingNode,g,i,b),this._editingNode.isCreationNode&&this.addCreationNode(!1),this._editingCancelled(a),void f.call(this,!0))},_editingCancelled:function(){delete this._editing,this._editingNode=null},_nextEditableColumn:function(a,b){for(var c=b?-1:1,d=this._columnsArray,e=a+c;e>=0&&e<d.length;e+=c)if(d[e].editable)return e;return-1},sortColumnIdentifier:function(){return this._sortColumnCell?this._sortColumnCell.columnIdentifier:null},sortOrder:function(){return!this._sortColumnCell||this._sortColumnCell.classList.contains("sort-ascending")?WebInspector.DataGrid.Order.Ascending:this._sortColumnCell.classList.contains("sort-descending")?WebInspector.DataGrid.Order.Descending:null},isSortOrderAscending:function(){return!this._sortColumnCell||this._sortColumnCell.classList.contains("sort-ascending")},get headerTableBody(){return"_headerTableBody"in this?this._headerTableBody:(this._headerTableBody=this._headerTable.getElementsByTagName("tbody")[0],this._headerTableBody||(this._headerTableBody=this.element.ownerDocument.createElement("tbody"),this._headerTable.insertBefore(this._headerTableBody,this._headerTable.tFoot)),this._headerTableBody)},get dataTableBody(){return"_dataTableBody"in this?this._dataTableBody:(this._dataTableBody=this._dataTable.getElementsByTagName("tbody")[0],this._dataTableBody||(this._dataTableBody=this.element.ownerDocument.createElement("tbody"),this._dataTable.insertBefore(this._dataTableBody,this._dataTable.tFoot)),this._dataTableBody)},_autoSizeWidths:function(a,b,c){b&&(b=Math.min(b,Math.floor(100/a.length)));for(var d=0,e=0;e<a.length;++e)d+=a[e];for(var f=0,e=0;e<a.length;++e){var g=Math.round(100*a[e]/d);b&&b>g?g=b:c&&g>c&&(g=c),f+=g,a[e]=g}for(var h=f-100;b&&h>0;)for(var e=0;e<a.length&&(!(a[e]>b)||(--a[e],--h,h));++e);for(;c&&0>h;)for(var e=0;e<a.length&&(!(a[e]<c)||(++a[e],++h,h));++e);return a},autoSizeColumns:function(a,b,c){for(var d=[],e=0;e<this._columnsArray.length;++e)d.push((this._columnsArray[e].title||"").length);c=c||0;for(var f=this._enumerateChildren(this._rootNode,[],c+1),e=0;e<f.length;++e)for(var g=f[e],h=0;h<this._columnsArray.length;++h){var i=g.data[this._columnsArray[h].identifier]||"";i.length>d[h]&&(d[h]=i.length)}d=this._autoSizeWidths(d,a,b);for(var e=0;e<this._columnsArray.length;++e)this._columnsArray[e].element.style.width=d[e]+"%";this._columnWidthsInitialized=!1,this.updateWidths()},_enumerateChildren:function(a,b,c){if(a._isRoot||b.push(a),c){for(var d=0;d<a.children.length;++d)this._enumerateChildren(a.children[d],b,c-1);return b}},onResize:function(){this.updateWidths()},updateWidths:function(){var a=this._headerTableColumnGroup.children,b=this._dataTable.offsetWidth,c=a.length-1;if(!this._columnWidthsInitialized&&this.element.offsetWidth){for(var d=0;c>d;d++){var e=this.headerTableBody.rows[0].cells[d].offsetWidth,f=100*e/b+"%";this._headerTableColumnGroup.children[d].style.width=f,this._dataTableColumnGroup.children[d].style.width=f}this._columnWidthsInitialized=!0}this._positionResizers(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)},setName:function(a){this._columnWeightsSetting=WebInspector.settings.createSetting("dataGrid-"+a+"-columnWeights",{}),this._loadColumnWeights()},_loadColumnWeights:function(){if(this._columnWeightsSetting){for(var a=this._columnWeightsSetting.get(),b=0;b<this._columnsArray.length;++b){var c=this._columnsArray[b],d=a[c.identifier];d&&(c.weight=d)}this.applyColumnWeights()}},_saveColumnWeights:function(){if(this._columnWeightsSetting){for(var a={},b=0;b<this._columnsArray.length;++b){var c=this._columnsArray[b];a[c.identifier]=c.weight}this._columnWeightsSetting.set(a)}},wasShown:function(){this._loadColumnWeights()},applyColumnWeights:function(){for(var a=0,b=0;b<this._columnsArray.length;++b){var c=this._columnsArray[b];this.isColumnVisible(c)&&(a+=c.weight)}for(var b=0;b<this._columnsArray.length;++b){var c=this._columnsArray[b],d=this.isColumnVisible(c)?100*c.weight/a+"%":"0%";this._headerTableColumnGroup.children[b].style.width=d,this._dataTableColumnGroup.children[b].style.width=d}this._positionResizers(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)},isColumnVisible:function(a){return!a.hidden},setColumnVisible:function(a,b){b!==!this.columns[a].hidden&&(this.columns[a].hidden=!b,this.element.classList.toggle("hide-"+a+"-column",!b))},get scrollContainer(){return this._scrollContainer},isScrolledToLastRow:function(){return this._scrollContainer.isScrolledToBottom()},scrollToLastRow:function(){this._scrollContainer.scrollTop=this._scrollContainer.scrollHeight-this._scrollContainer.offsetHeight},_positionResizers:function(){for(var a=this._headerTableColumnGroup.children,b=a.length-1,c=[],d=null,e=0;b-1>e;e++)c[e]=(c[e-1]||0)+this.headerTableBody.rows[0].cells[e].offsetWidth;for(var e=0;b-1>e;e++){var f=this.resizers[e];f||(f=document.createElement("div"),f.classList.add("data-grid-resizer"),WebInspector.installDragHandle(f,this._startResizerDragging.bind(this),this._resizerDragging.bind(this),this._endResizerDragging.bind(this),"col-resize"),this.element.appendChild(f),this.resizers[e]=f),this._columnsArray[e].hidden?(d&&d._position!==c[e]&&(d._position=c[e],d.style.left=c[e]+"px"),"none"!==f.style.getPropertyValue("display")&&f.style.setProperty("display","none"),f.leftNeighboringColumnIndex=0,f.rightNeighboringColumnIndex=0):(f.style.removeProperty("display"),f._position!==c[e]&&(f._position=c[e],f.style.left=c[e]+"px"),f.leftNeighboringColumnIndex=e,d&&(d.rightNeighboringColumnIndex=e),d=f)}d&&(d.rightNeighboringColumnIndex=b-1)},addCreationNode:function(a){this.creationNode&&this.creationNode.makeNormal();var b={};for(var c in this.columns)b[c]=null;this.creationNode=new WebInspector.CreationDataGridNode(b,a),this.rootNode().appendChild(this.creationNode)},sortNodes:function(a,b){function c(c,d){if(c._dataGridNode._data.summaryRow)return 1;if(d._dataGridNode._data.summaryRow)return-1;var e=c._dataGridNode,f=d._dataGridNode;return b?a(f,e):a(e,f)}var d=this.dataTableBody,e=d.parentElement;e.removeChild(d);var f=d.childNodes,g=f[f.length-1],h=Array.prototype.slice.call(f,0,f.length-1);h.sort(c);var i=h.length;d.removeChildren();for(var j=null,k=0;i>k;++k){var l=h[k],m=l._dataGridNode;m.previousSibling=j,j&&(j.nextSibling=m),d.appendChild(l),j=m}j&&(j.nextSibling=null),d.appendChild(g),e.appendChild(d)},_keyDown:function(a){if(!(!this.selectedNode||a.shiftKey||a.metaKey||a.ctrlKey||this._editing)){var b,c=!1;if("Up"!==a.keyIdentifier||a.altKey)if("Down"!==a.keyIdentifier||a.altKey)"Left"===a.keyIdentifier?this.selectedNode.expanded?(a.altKey?this.selectedNode.collapseRecursively():this.selectedNode.collapse(),c=!0):this.selectedNode.parent&&!this.selectedNode.parent._isRoot&&(c=!0,this.selectedNode.parent.selectable?(b=this.selectedNode.parent,c=b?!0:!1):this.selectedNode.parent&&this.selectedNode.parent.collapse()):"Right"===a.keyIdentifier?this.selectedNode.revealed?this.selectedNode.hasChildren&&(c=!0,this.selectedNode.expanded?(b=this.selectedNode.children[0],c=b?!0:!1):a.altKey?this.selectedNode.expandRecursively():this.selectedNode.expand()):(this.selectedNode.reveal(),c=!0):8===a.keyCode||46===a.keyCode?this._deleteCallback&&(c=!0,this._deleteCallback(this.selectedNode),this.changeNodeAfterDeletion()):isEnterKey(a)&&this._editCallback&&(c=!0,this._startEditing(this.selectedNode._element.children[this._nextEditableColumn(-1)]));else{for(b=this.selectedNode.traverseNextNode(!0);b&&!b.selectable;)b=b.traverseNextNode(!0);c=b?!0:!1}else{for(b=this.selectedNode.traversePreviousNode(!0);b&&!b.selectable;)b=b.traversePreviousNode(!0);c=b?!0:!1}b&&(b.reveal(),b.select()),c&&a.consume(!0)}},changeNodeAfterDeletion:function(){for(var a=this.selectedNode.traverseNextNode(!0);a&&!a.selectable;)a=a.traverseNextNode(!0);if(!a||a.isCreationNode)for(a=this.selectedNode.traversePreviousNode(!0);a&&!a.selectable;)a=a.traversePreviousNode(!0);a&&(a.reveal(),a.select())},dataGridNodeFromNode:function(a){var b=a.enclosingNodeOrSelfWithNodeName("tr");return b&&b._dataGridNode},columnIdentifierFromNode:function(a){var b=a.enclosingNodeOrSelfWithNodeName("td");return b&&b.columnIdentifier_},_clickInHeaderCell:function(a){var b=a.target.enclosingNodeOrSelfWithNodeName("th");if(b&&"undefined"!=typeof b.columnIdentifier&&b.classList.contains("sortable")){var c=WebInspector.DataGrid.Order.Ascending;b===this._sortColumnCell&&this.isSortOrderAscending()&&(c=WebInspector.DataGrid.Order.Descending),this._sortColumnCell&&this._sortColumnCell.removeMatchingStyleClasses("sort-\\w+"),this._sortColumnCell=b,b.classList.add("sort-"+c),this.dispatchEventToListeners(WebInspector.DataGrid.Events.SortingChanged)}},markColumnAsSortedBy:function(a,b){this._sortColumnCell&&this._sortColumnCell.removeMatchingStyleClasses("sort-\\w+"),this._sortColumnCell=this._headerTableHeaders[a],this._sortColumnCell.classList.add("sort-"+b)},headerTableHeader:function(a){return this._headerTableHeaders[a]},_mouseDownInDataTable:function(a){var b=this.dataGridNodeFromNode(a.target);b&&b.selectable&&(b.isEventWithinDisclosureTriangle(a)||(a.metaKey&&b.selected?b.deselect():b.select()))},_contextMenuInDataTable:function(a){var b=new WebInspector.ContextMenu(a),c=this.dataGridNodeFromNode(a.target);if(!this._refreshCallback||c&&c===this.creationNode||b.appendItem(WebInspector.UIString("Refresh"),this._refreshCallback.bind(this)),c&&c.selectable&&!c.isEventWithinDisclosureTriangle(a)){if(this._editCallback)if(c===this.creationNode)b.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Add new":"Add New"),this._startEditing.bind(this,a.target));else{var d=this.columnIdentifierFromNode(a.target);d&&this.columns[d].editable&&b.appendItem(WebInspector.UIString('Edit "%s"',this.columns[d].title),this._startEditing.bind(this,a.target))}this._deleteCallback&&c!==this.creationNode&&b.appendItem(WebInspector.UIString("Delete"),this._deleteCallback.bind(this,c)),this._contextMenuCallback&&this._contextMenuCallback(b,c)}b.show()},_clickInDataTable:function(a){var b=this.dataGridNodeFromNode(a.target);b&&b.hasChildren&&b.isEventWithinDisclosureTriangle(a)&&(b.expanded?a.altKey?b.collapseRecursively():b.collapse():a.altKey?b.expandRecursively():b.expand())},get resizeMethod(){return"undefined"==typeof this._resizeMethod?WebInspector.DataGrid.ResizeMethod.Nearest:this._resizeMethod},set resizeMethod(a){this._resizeMethod=a},_startResizerDragging:function(a){return this._currentResizer=a.target,!!this._currentResizer.rightNeighboringColumnIndex},_resizerDragging:function(a){var b=this._currentResizer;if(b){for(var c=this._dataTable.offsetWidth,d=a.clientX-this.element.totalOffsetLeft(),e=b.leftNeighboringColumnIndex,f=b.rightNeighboringColumnIndex,g=this.headerTableBody.rows[0].cells,h=0,i=0;e>i;i++)h+=g[i].offsetWidth;this.resizeMethod==WebInspector.DataGrid.ResizeMethod.Last?f=this.resizers.length:this.resizeMethod==WebInspector.DataGrid.ResizeMethod.First&&(h+=g[e].offsetWidth-g[0].offsetWidth,e=0);var j=h+g[e].offsetWidth+g[f].offsetWidth,k=h+this.ColumnResizePadding,l=j-this.ColumnResizePadding;if(!(k>l)){d=Number.constrain(d,k,l),b.style.left=d-this.CenterResizerOverBorderAdjustment+"px";var m=100*(d-h)/c+"%";this._headerTableColumnGroup.children[e].style.width=m,this._dataTableColumnGroup.children[e].style.width=m;var n=100*(j-d)/c+"%";this._headerTableColumnGroup.children[f].style.width=n,this._dataTableColumnGroup.children[f].style.width=n;var o=this._columnsArray[e],p=this._columnsArray[f];if(o.weight||p.weight){var q=o.weight+p.weight,r=j-h;o.weight=(d-h)*q/r,p.weight=(j-d)*q/r}this._positionResizers(),a.preventDefault(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)}}},_endResizerDragging:function(){this._currentResizer=null,this._saveColumnWeights(),this.dispatchEventToListeners(WebInspector.DataGrid.Events.ColumnsResized)},defaultAttachLocation:function(){return this.dataTableBody.firstChild},ColumnResizePadding:24,CenterResizerOverBorderAdjustment:3,__proto__:WebInspector.View.prototype},WebInspector.DataGrid.ResizeMethod={Nearest:"nearest",First:"first",Last:"last"},WebInspector.DataGridNode=function(a,b){this._expanded=!1,this._selected=!1,this._shouldRefreshChildren=!0,this._data=a||{},this.hasChildren=b||!1,this.children=[],this.dataGrid=null,this.parent=null,this.previousSibling=null,this.nextSibling=null,this.disclosureToggleWidth=10},WebInspector.DataGridNode.prototype={selectable:!0,_isRoot:!1,get element(){return this._element?this._element:this.dataGrid?(this._element=document.createElement("tr"),this._element._dataGridNode=this,this.hasChildren&&this._element.classList.add("parent"),this.expanded&&this._element.classList.add("expanded"),this.selected&&this._element.classList.add("selected"),this.revealed&&this._element.classList.add("revealed"),this.createCells(),this._element.createChild("td","corner"),this._element):null},createCells:function(){for(var a=this.dataGrid._columnsArray,b=0;b<a.length;++b){var c=this.createCell(a[b].identifier);this._element.appendChild(c)}},get data(){return this._data},set data(a){this._data=a||{},this.refresh()},get revealed(){if("_revealed"in this)return this._revealed;for(var a=this.parent;a&&!a._isRoot;){if(!a.expanded)return this._revealed=!1,!1;a=a.parent}return this._revealed=!0,!0},set hasChildren(a){this._hasChildren!==a&&(this._hasChildren=a,this._element&&(this._element.classList.toggle("parent",this._hasChildren),this._element.classList.toggle("expanded",this._hasChildren&&this.expanded)))},get hasChildren(){return this._hasChildren},set revealed(a){if(this._revealed!==a){this._revealed=a,this._element&&this._element.classList.toggle("revealed",this._revealed);for(var b=0;b<this.children.length;++b)this.children[b].revealed=a&&this.expanded}},get depth(){return"_depth"in this?this._depth:(this._depth=this.parent&&!this.parent._isRoot?this.parent.depth+1:0,this._depth)},get leftPadding(){return"number"==typeof this._leftPadding?this._leftPadding:(this._leftPadding=this.depth*this.dataGrid.indentWidth,this._leftPadding)},get shouldRefreshChildren(){return this._shouldRefreshChildren},set shouldRefreshChildren(a){this._shouldRefreshChildren=a,a&&this.expanded&&this.expand()},get selected(){return this._selected},set selected(a){a?this.select():this.deselect()},get expanded(){return this._expanded},set expanded(a){a?this.expand():this.collapse()},refresh:function(){this._element&&this.dataGrid&&(this._element.removeChildren(),this.createCells(),this._element.createChild("td","corner"))},createTD:function(a){var b=document.createElement("td");b.className=a+"-column",b.columnIdentifier_=a;var c=this.dataGrid.columns[a].align;return c&&b.classList.add(c),b},createCell:function(a){var b=this.createTD(a),c=this.data[a],d=document.createElement("div");return c instanceof Node?d.appendChild(c):(d.textContent=c,this.dataGrid.columns[a].longText&&(d.title=c)),b.appendChild(d),a===this.dataGrid.disclosureColumnIdentifier&&(b.classList.add("disclosure"),this.leftPadding&&b.style.setProperty("padding-left",this.leftPadding+"px")),b},nodeSelfHeight:function(){return 16},appendChild:function(a){this.insertChild(a,this.children.length)},insertChild:function(a,b){if(!a)throw"insertChild: Node can't be undefined or null.";if(a.parent===this)throw"insertChild: Node is already a child of this node.";a.parent&&a.parent.removeChild(a),this.children.splice(b,0,a),this.hasChildren=!0,a.parent=this,a.dataGrid=this.dataGrid,a._recalculateSiblings(b),delete a._depth,delete a._revealed,delete a._attached,a._shouldRefreshChildren=!0;for(var c=a.children[0];c;)c.dataGrid=this.dataGrid,delete c._depth,delete c._revealed,delete c._attached,c._shouldRefreshChildren=!0,c=c.traverseNextNode(!1,a,!0);this.expanded&&a._attach(),this.revealed||(a.revealed=!1)},removeChild:function(a){if(!a)throw"removeChild: Node can't be undefined or null.";if(a.parent!==this)throw"removeChild: Node is not a child of this node.";a.deselect(),a._detach(),this.children.remove(a,!0),a.previousSibling&&(a.previousSibling.nextSibling=a.nextSibling),a.nextSibling&&(a.nextSibling.previousSibling=a.previousSibling),a.dataGrid=null,a.parent=null,a.nextSibling=null,a.previousSibling=null,this.children.length<=0&&(this.hasChildren=!1)},removeChildren:function(){for(var a=0;a<this.children.length;++a){var b=this.children[a];b.deselect(),b._detach(),b.dataGrid=null,b.parent=null,b.nextSibling=null,b.previousSibling=null}this.children=[],this.hasChildren=!1},_recalculateSiblings:function(a){if(this.parent){var b=a>0?this.parent.children[a-1]:null;b?(b.nextSibling=this,this.previousSibling=b):this.previousSibling=null;var c=this.parent.children[a+1];c?(c.previousSibling=this,this.nextSibling=c):this.nextSibling=null}},collapse:function(){if(!this._isRoot){this._element&&this._element.classList.remove("expanded"),this._expanded=!1;for(var a=0;a<this.children.length;++a)this.children[a].revealed=!1}},collapseRecursively:function(){for(var a=this;a;)a.expanded&&a.collapse(),a=a.traverseNextNode(!1,this,!0)},populate:function(){},expand:function(){if(this.hasChildren&&!this.expanded&&!this._isRoot){if(this.revealed&&!this._shouldRefreshChildren)for(var a=0;a<this.children.length;++a)this.children[a].revealed=!0;if(this._shouldRefreshChildren){for(var a=0;a<this.children.length;++a)this.children[a]._detach();if(this.populate(),this._attached)for(var a=0;a<this.children.length;++a){var b=this.children[a];this.revealed&&(b.revealed=!0),b._attach()}delete this._shouldRefreshChildren}this._element&&this._element.classList.add("expanded"),this._expanded=!0}},expandRecursively:function(){for(var a=this;a;)a.expand(),a=a.traverseNextNode(!1,this)},reveal:function(){if(!this._isRoot){for(var a=this.parent;a&&!a._isRoot;)a.expanded||a.expand(),a=a.parent;this.element.scrollIntoViewIfNeeded(!1)}},select:function(a){this.dataGrid&&this.selectable&&!this.selected&&(this.dataGrid.selectedNode&&this.dataGrid.selectedNode.deselect(),this._selected=!0,this.dataGrid.selectedNode=this,this._element&&this._element.classList.add("selected"),a||this.dataGrid.dispatchEventToListeners(WebInspector.DataGrid.Events.SelectedNode))},revealAndSelect:function(){this._isRoot||(this.reveal(),this.select())},deselect:function(a){this.dataGrid&&this.dataGrid.selectedNode===this&&this.selected&&(this._selected=!1,this.dataGrid.selectedNode=null,this._element&&this._element.classList.remove("selected"),a||this.dataGrid.dispatchEventToListeners(WebInspector.DataGrid.Events.DeselectedNode))},traverseNextNode:function(a,b,c,d){!c&&this.hasChildren&&this.populate(),d&&(d.depthChange=0);var e=!a||this.revealed?this.children[0]:null;if(e&&(!a||this.expanded))return d&&(d.depthChange=1),e;if(this===b)return null;if(e=!a||this.revealed?this.nextSibling:null)return e;for(e=this;e&&!e._isRoot&&!(!a||e.revealed?e.nextSibling:null)&&e.parent!==b;)d&&(d.depthChange-=1),e=e.parent;return e&&(!a||e.revealed)?e.nextSibling:null},traversePreviousNode:function(a,b){var c=!a||this.revealed?this.previousSibling:null;for(!b&&c&&c.hasChildren&&c.populate();c&&(!a||c.revealed&&c.expanded?c.children[c.children.length-1]:null);)!b&&c.hasChildren&&c.populate(),c=!a||c.revealed&&c.expanded?c.children[c.children.length-1]:null;return c?c:!this.parent||this.parent._isRoot?null:this.parent},isEventWithinDisclosureTriangle:function(a){if(!this.hasChildren)return!1;var b=a.target.enclosingNodeOrSelfWithNodeName("td");if(!b.classList.contains("disclosure"))return!1;var c=b.totalOffsetLeft()+this.leftPadding;return a.pageX>=c&&a.pageX<=c+this.disclosureToggleWidth},_attach:function(){if(this.dataGrid&&!this._attached){this._attached=!0;var a=null,b=this.traversePreviousNode(!0,!0);if(b&&b.element.parentNode&&b.element.nextSibling&&(a=b.element.nextSibling),a||(a=this.dataGrid.defaultAttachLocation()),this.dataGrid.dataTableBody.insertBefore(this.element,a),this.expanded)for(var c=0;c<this.children.length;++c)this.children[c]._attach()}},_detach:function(){if(this._attached){this._attached=!1,this._element&&this._element.remove();for(var a=0;a<this.children.length;++a)this.children[a]._detach();this.wasDetached()}},wasDetached:function(){},savePosition:function(){if(!this._savedPosition){if(!this.parent)throw"savePosition: Node must have a parent.";this._savedPosition={parent:this.parent,index:this.parent.children.indexOf(this)}}},restorePosition:function(){this._savedPosition&&(this.parent!==this._savedPosition.parent&&this._savedPosition.parent.insertChild(this,this._savedPosition.index),delete this._savedPosition)},__proto__:WebInspector.Object.prototype},WebInspector.CreationDataGridNode=function(a,b){WebInspector.DataGridNode.call(this,a,b),this.isCreationNode=!0},WebInspector.CreationDataGridNode.prototype={makeNormal:function(){delete this.isCreationNode,delete this.makeNormal},__proto__:WebInspector.DataGridNode.prototype},WebInspector.ShowMoreDataGridNode=function(a,b,c,d){WebInspector.DataGridNode.call(this,{summaryRow:!0},!1),this._callback=a,this._startPosition=b,this._endPosition=c,this._chunkSize=d,this.showNext=document.createElement("button"),this.showNext.setAttribute("type","button"),this.showNext.addEventListener("click",this._showNextChunk.bind(this),!1),this.showNext.textContent=WebInspector.UIString("Show %d before",this._chunkSize),this.showAll=document.createElement("button"),this.showAll.setAttribute("type","button"),this.showAll.addEventListener("click",this._showAll.bind(this),!1),this.showLast=document.createElement("button"),this.showLast.setAttribute("type","button"),this.showLast.addEventListener("click",this._showLastChunk.bind(this),!1),this.showLast.textContent=WebInspector.UIString("Show %d after",this._chunkSize),this._updateLabels(),this.selectable=!1
},WebInspector.ShowMoreDataGridNode.prototype={_showNextChunk:function(){this._callback(this._startPosition,this._startPosition+this._chunkSize)},_showAll:function(){this._callback(this._startPosition,this._endPosition)},_showLastChunk:function(){this._callback(this._endPosition-this._chunkSize,this._endPosition)},_updateLabels:function(){var a=this._endPosition-this._startPosition;a>this._chunkSize?(this.showNext.classList.remove("hidden"),this.showLast.classList.remove("hidden")):(this.showNext.classList.add("hidden"),this.showLast.classList.add("hidden")),this.showAll.textContent=WebInspector.UIString("Show all %d",a)},createCells:function(){var a=document.createElement("td");this.depth&&a.style.setProperty("padding-left",this.depth*this.dataGrid.indentWidth+"px"),a.appendChild(this.showNext),a.appendChild(this.showAll),a.appendChild(this.showLast),this._element.appendChild(a);var b=this.dataGrid.columns,c=0;for(var d in b)++c;for(;--c>0;)a=document.createElement("td"),this._element.appendChild(a)},setStartPosition:function(a){this._startPosition=a,this._updateLabels()},setEndPosition:function(a){this._endPosition=a,this._updateLabels()},nodeSelfHeight:function(){return 32},dispose:function(){},__proto__:WebInspector.DataGridNode.prototype},WebInspector.CookiesTable=function(a,b,c){WebInspector.VBox.call(this);var d=a;this._refreshCallback=b;var e=[{id:"name",title:WebInspector.UIString("Name"),sortable:!0,disclosure:a,sort:WebInspector.DataGrid.Order.Ascending,longText:!0,weight:24},{id:"value",title:WebInspector.UIString("Value"),sortable:!0,longText:!0,weight:34},{id:"domain",title:WebInspector.UIString("Domain"),sortable:!0,weight:7},{id:"path",title:WebInspector.UIString("Path"),sortable:!0,weight:7},{id:"expires",title:WebInspector.UIString("Expires / Max-Age"),sortable:!0,weight:7},{id:"size",title:WebInspector.UIString("Size"),sortable:!0,align:WebInspector.DataGrid.Align.Right,weight:7},{id:"httpOnly",title:WebInspector.UIString("HTTP"),sortable:!0,align:WebInspector.DataGrid.Align.Center,weight:7},{id:"secure",title:WebInspector.UIString("Secure"),sortable:!0,align:WebInspector.DataGrid.Align.Center,weight:7}];this._dataGrid=d?new WebInspector.DataGrid(e):new WebInspector.DataGrid(e,void 0,this._onDeleteCookie.bind(this),b,this._onContextMenu.bind(this)),this._dataGrid.setName("cookiesTable"),this._dataGrid.addEventListener(WebInspector.DataGrid.Events.SortingChanged,this._rebuildTable,this),c&&this._dataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,c,this),this._nextSelectedCookie=null,this._dataGrid.show(this.element),this._data=[]},WebInspector.CookiesTable.prototype={_clearAndRefresh:function(a){this.clear(a),this._refresh()},_onContextMenu:function(a,b){if(b!==this._dataGrid.creationNode){var c=b.cookie,d=c.domain();d&&a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?'Clear all from "%s"':'Clear All from "%s"',d),this._clearAndRefresh.bind(this,d)),a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Clear all":"Clear All"),this._clearAndRefresh.bind(this,null))}},setCookies:function(a){this.setCookieFolders([{cookies:a}])},setCookieFolders:function(a){this._data=a,this._rebuildTable()},selectedCookie:function(){var a=this._dataGrid.selectedNode;return a?a.cookie:null},clear:function(a){for(var b=0,c=this._data.length;c>b;++b)for(var d=this._data[b].cookies,e=0,f=d.length;f>e;++e)a&&d[e].domain()!==a||d[e].remove()},_rebuildTable:function(){var a=this._nextSelectedCookie||this.selectedCookie();this._nextSelectedCookie=null,this._dataGrid.rootNode().removeChildren();for(var b=0;b<this._data.length;++b){var c=this._data[b];if(c.folderName){var d={name:c.folderName,value:"",domain:"",path:"",expires:"",size:this._totalSize(c.cookies),httpOnly:"",secure:""},e=new WebInspector.DataGridNode(d);e.selectable=!0,this._dataGrid.rootNode().appendChild(e),e.element.classList.add("row-group"),this._populateNode(e,c.cookies,a),e.expand()}else this._populateNode(this._dataGrid.rootNode(),c.cookies,a)}},_populateNode:function(a,b,c){if(a.removeChildren(),b){this._sortCookies(b);for(var d=0;d<b.length;++d){var e=b[d],f=this._createGridNode(e);a.appendChild(f),c&&c.name()===e.name()&&c.domain()===e.domain()&&c.path()===e.path()&&f.select()}}},_totalSize:function(a){for(var b=0,c=0;a&&c<a.length;++c)b+=a[c].size();return b},_sortCookies:function(a){function b(a,b,c){return f*(a.apply(b)+"").compareTo(a.apply(c)+"")}function c(a,b,c){return f*(a.apply(b)-a.apply(c))}function d(a,b){return a.session()!==b.session()?f*(a.session()?1:-1):a.session()?0:a.maxAge()&&b.maxAge()?f*(a.maxAge()-b.maxAge()):a.expires()&&b.expires()?f*(a.expires()-b.expires()):f*(a.expires()?1:-1)}var e,f=this._dataGrid.isSortOrderAscending()?1:-1;switch(this._dataGrid.sortColumnIdentifier()){case"name":e=b.bind(null,WebInspector.Cookie.prototype.name);break;case"value":e=b.bind(null,WebInspector.Cookie.prototype.value);break;case"domain":e=b.bind(null,WebInspector.Cookie.prototype.domain);break;case"path":e=b.bind(null,WebInspector.Cookie.prototype.path);break;case"expires":e=d;break;case"size":e=c.bind(null,WebInspector.Cookie.prototype.size);break;case"httpOnly":e=b.bind(null,WebInspector.Cookie.prototype.httpOnly);break;case"secure":e=b.bind(null,WebInspector.Cookie.prototype.secure);break;default:b.bind(null,WebInspector.Cookie.prototype.name)}a.sort(e)},_createGridNode:function(a){var b={};b.name=a.name(),b.value=a.value(),a.type()===WebInspector.Cookie.Type.Request?(b.domain=WebInspector.UIString("N/A"),b.path=WebInspector.UIString("N/A"),b.expires=WebInspector.UIString("N/A")):(b.domain=a.domain()||"",b.path=a.path()||"",b.expires=a.maxAge()?Number.secondsToString(parseInt(a.maxAge(),10)):a.expires()?new Date(a.expires()).toGMTString():WebInspector.UIString("Session")),b.size=a.size();const c="✓";b.httpOnly=a.httpOnly()?c:"",b.secure=a.secure()?c:"";var d=new WebInspector.DataGridNode(b);return d.cookie=a,d.selectable=!0,d},_onDeleteCookie:function(a){var b=a.cookie,c=a.traverseNextNode()||a.traversePreviousNode();c&&(this._nextSelectedCookie=c.cookie),b.remove(),this._refresh()},_refresh:function(){this._refreshCallback&&this._refreshCallback()},__proto__:WebInspector.VBox.prototype},WebInspector.CookieItemsView=function(a,b){WebInspector.VBox.call(this),this.element.classList.add("storage-view"),this._deleteButton=new WebInspector.StatusBarButton(WebInspector.UIString("Delete"),"delete-storage-status-bar-item"),this._deleteButton.visible=!1,this._deleteButton.addEventListener("click",this._deleteButtonClicked,this),this._clearButton=new WebInspector.StatusBarButton(WebInspector.UIString("Clear"),"clear-storage-status-bar-item"),this._clearButton.visible=!1,this._clearButton.addEventListener("click",this._clearButtonClicked,this),this._refreshButton=new WebInspector.StatusBarButton(WebInspector.UIString("Refresh"),"refresh-storage-status-bar-item"),this._refreshButton.addEventListener("click",this._refreshButtonClicked,this),this._treeElement=a,this._cookieDomain=b,this._emptyView=new WebInspector.EmptyView(WebInspector.UIString("This site has no cookies.")),this._emptyView.show(this.element),this.element.addEventListener("contextmenu",this._contextMenu.bind(this),!0)},WebInspector.CookieItemsView.prototype={get statusBarItems(){return[this._refreshButton.element,this._clearButton.element,this._deleteButton.element]},wasShown:function(){this._update()},willHide:function(){this._deleteButton.visible=!1},_update:function(){WebInspector.Cookies.getCookiesAsync(this._updateWithCookies.bind(this))},_updateWithCookies:function(a){return this._cookies=this._filterCookiesForDomain(a),this._cookies.length?(this._cookiesTable||(this._cookiesTable=new WebInspector.CookiesTable(!1,this._update.bind(this),this._showDeleteButton.bind(this))),this._cookiesTable.setCookies(this._cookies),this._emptyView.detach(),this._cookiesTable.show(this.element),this._treeElement.subtitle=String.sprintf(WebInspector.UIString("%d cookies (%s)"),this._cookies.length,Number.bytesToString(this._totalSize)),this._clearButton.visible=!0,void(this._deleteButton.visible=!!this._cookiesTable.selectedCookie())):(this._emptyView.show(this.element),this._clearButton.visible=!1,this._deleteButton.visible=!1,void(this._cookiesTable&&this._cookiesTable.detach()))},_filterCookiesForDomain:function(a){function b(a){var b=a.documentURL.asParsedURL();b&&b.host==this._cookieDomain&&d.push(a.url)}var c=[],d=[];this._totalSize=0,WebInspector.forAllResources(b.bind(this));for(var e=0;e<a.length;++e)for(var f=!1,g=a[e].size(),h=0;h<d.length;++h){var i=d[h];WebInspector.Cookies.cookieMatchesResourceURL(a[e],i)&&(this._totalSize+=g,f||(f=!0,c.push(a[e])))}return c},clear:function(){this._cookiesTable.clear(),this._update()},_clearButtonClicked:function(){this.clear()},_showDeleteButton:function(){this._deleteButton.visible=!0},_deleteButtonClicked:function(){var a=this._cookiesTable.selectedCookie();a&&(a.remove(),this._update())},_refreshButtonClicked:function(){this._update()},_contextMenu:function(a){if(!this._cookies.length){var b=new WebInspector.ContextMenu(a);b.appendItem(WebInspector.UIString("Refresh"),this._update.bind(this)),b.show()}},__proto__:WebInspector.VBox.prototype},WebInspector.ApplicationCacheModel=function(){ApplicationCacheAgent.enable(),InspectorBackend.registerApplicationCacheDispatcher(new WebInspector.ApplicationCacheDispatcher(this)),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameNavigated,this._frameNavigated,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameDetached,this._frameDetached,this),this._statuses={},this._manifestURLsByFrame={},this._mainFrameNavigated(),this._onLine=!0},WebInspector.ApplicationCacheModel.EventTypes={FrameManifestStatusUpdated:"FrameManifestStatusUpdated",FrameManifestAdded:"FrameManifestAdded",FrameManifestRemoved:"FrameManifestRemoved",NetworkStateChanged:"NetworkStateChanged"},WebInspector.ApplicationCacheModel.prototype={_frameNavigated:function(a){var b=a.data;return b.isMainFrame()?void this._mainFrameNavigated():void ApplicationCacheAgent.getManifestForFrame(b.id,this._manifestForFrameLoaded.bind(this,b.id))},_frameDetached:function(a){var b=a.data;this._frameManifestRemoved(b.id)},_mainFrameNavigated:function(){ApplicationCacheAgent.getFramesWithManifests(this._framesWithManifestsLoaded.bind(this))},_manifestForFrameLoaded:function(a,b,c){return b?void console.error(b):void(c||this._frameManifestRemoved(a))},_framesWithManifestsLoaded:function(a,b){if(a)return void console.error(a);for(var c=0;c<b.length;++c)this._frameManifestUpdated(b[c].frameId,b[c].manifestURL,b[c].status)},_frameManifestUpdated:function(a,b,c){if(c===applicationCache.UNCACHED)return void this._frameManifestRemoved(a);if(b){this._manifestURLsByFrame[a]&&b!==this._manifestURLsByFrame[a]&&this._frameManifestRemoved(a);var d=this._statuses[a]!==c;this._statuses[a]=c,this._manifestURLsByFrame[a]||(this._manifestURLsByFrame[a]=b,this.dispatchEventToListeners(WebInspector.ApplicationCacheModel.EventTypes.FrameManifestAdded,a)),d&&this.dispatchEventToListeners(WebInspector.ApplicationCacheModel.EventTypes.FrameManifestStatusUpdated,a)}},_frameManifestRemoved:function(a){if(this._manifestURLsByFrame[a]){{this._manifestURLsByFrame[a]}delete this._manifestURLsByFrame[a],delete this._statuses[a],this.dispatchEventToListeners(WebInspector.ApplicationCacheModel.EventTypes.FrameManifestRemoved,a)}},frameManifestURL:function(a){return this._manifestURLsByFrame[a]||""},frameManifestStatus:function(a){return this._statuses[a]||applicationCache.UNCACHED},get onLine(){return this._onLine},_statusUpdated:function(a,b,c){this._frameManifestUpdated(a,b,c)},requestApplicationCache:function(a,b){function c(a,c){return a?(console.error(a),void b(null)):void b(c)}ApplicationCacheAgent.getApplicationCacheForFrame(a,c)},_networkStateUpdated:function(a){this._onLine=a,this.dispatchEventToListeners(WebInspector.ApplicationCacheModel.EventTypes.NetworkStateChanged,a)},__proto__:WebInspector.Object.prototype},WebInspector.ApplicationCacheDispatcher=function(a){this._applicationCacheModel=a},WebInspector.ApplicationCacheDispatcher.prototype={applicationCacheStatusUpdated:function(a,b,c){this._applicationCacheModel._statusUpdated(a,b,c)},networkStateUpdated:function(a){this._applicationCacheModel._networkStateUpdated(a)}},WebInspector.IndexedDBModel=function(){IndexedDBAgent.enable(),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginAdded,this._securityOriginAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginRemoved,this._securityOriginRemoved,this),this._databases=new Map,this._databaseNamesBySecurityOrigin={},this._reset()},WebInspector.IndexedDBModel.KeyTypes={NumberType:"number",StringType:"string",DateType:"date",ArrayType:"array"},WebInspector.IndexedDBModel.KeyPathTypes={NullType:"null",StringType:"string",ArrayType:"array"},WebInspector.IndexedDBModel.keyFromIDBKey=function(a){if("undefined"==typeof a||null===a)return null;var b={};switch(typeof a){case"number":b.number=a,b.type=WebInspector.IndexedDBModel.KeyTypes.NumberType;break;case"string":b.string=a,b.type=WebInspector.IndexedDBModel.KeyTypes.StringType;break;case"object":if(a instanceof Date)b.date=a.getTime(),b.type=WebInspector.IndexedDBModel.KeyTypes.DateType;else if(a instanceof Array){b.array=[];for(var c=0;c<a.length;++c)b.array.push(WebInspector.IndexedDBModel.keyFromIDBKey(a[c]));b.type=WebInspector.IndexedDBModel.KeyTypes.ArrayType}break;default:return null}return b},WebInspector.IndexedDBModel.keyRangeFromIDBKeyRange=function(a){window.IDBKeyRange||window.webkitIDBKeyRange;if("undefined"==typeof a||null===a)return null;var b={};return b.lower=WebInspector.IndexedDBModel.keyFromIDBKey(a.lower),b.upper=WebInspector.IndexedDBModel.keyFromIDBKey(a.upper),b.lowerOpen=a.lowerOpen,b.upperOpen=a.upperOpen,b},WebInspector.IndexedDBModel.idbKeyPathFromKeyPath=function(a){var b;switch(a.type){case WebInspector.IndexedDBModel.KeyPathTypes.NullType:b=null;break;case WebInspector.IndexedDBModel.KeyPathTypes.StringType:b=a.string;break;case WebInspector.IndexedDBModel.KeyPathTypes.ArrayType:b=a.array}return b},WebInspector.IndexedDBModel.keyPathStringFromIDBKeyPath=function(a){return"string"==typeof a?'"'+a+'"':a instanceof Array?'["'+a.join('", "')+'"]':null},WebInspector.IndexedDBModel.EventTypes={DatabaseAdded:"DatabaseAdded",DatabaseRemoved:"DatabaseRemoved",DatabaseLoaded:"DatabaseLoaded"},WebInspector.IndexedDBModel.prototype={_reset:function(){for(var a in this._databaseNamesBySecurityOrigin)this._removeOrigin(a);for(var b=WebInspector.resourceTreeModel.securityOrigins(),c=0;c<b.length;++c)this._addOrigin(b[c])},refreshDatabaseNames:function(){for(var a in this._databaseNamesBySecurityOrigin)this._loadDatabaseNames(a)},refreshDatabase:function(a){this._loadDatabase(a)},clearObjectStore:function(a,b,c){IndexedDBAgent.clearObjectStore(a.securityOrigin,a.name,b,c)},_securityOriginAdded:function(a){var b=a.data;this._addOrigin(b)},_securityOriginRemoved:function(a){var b=a.data;this._removeOrigin(b)},_addOrigin:function(a){console.assert(!this._databaseNamesBySecurityOrigin[a]),this._databaseNamesBySecurityOrigin[a]=[],this._loadDatabaseNames(a)},_removeOrigin:function(a){console.assert(this._databaseNamesBySecurityOrigin[a]);for(var b=0;b<this._databaseNamesBySecurityOrigin[a].length;++b)this._databaseRemoved(a,this._databaseNamesBySecurityOrigin[a][b]);delete this._databaseNamesBySecurityOrigin[a]},_updateOriginDatabaseNames:function(a,b){for(var c={},d=0;d<b.length;++d)c[b[d]]=!0;for(var e={},d=0;d<this._databaseNamesBySecurityOrigin[a].length;++d)e[this._databaseNamesBySecurityOrigin[a][d]]=!0;this._databaseNamesBySecurityOrigin[a]=b;for(var f in e)c[f]||this._databaseRemoved(a,f);for(var f in c)e[f]||this._databaseAdded(a,f)},_databaseAdded:function(a,b){var c=new WebInspector.IndexedDBModel.DatabaseId(a,b);this.dispatchEventToListeners(WebInspector.IndexedDBModel.EventTypes.DatabaseAdded,c)},_databaseRemoved:function(a,b){var c=new WebInspector.IndexedDBModel.DatabaseId(a,b);this.dispatchEventToListeners(WebInspector.IndexedDBModel.EventTypes.DatabaseRemoved,c)},_loadDatabaseNames:function(a){function b(b,c){return b?void console.error("IndexedDBAgent error: "+b):void(this._databaseNamesBySecurityOrigin[a]&&this._updateOriginDatabaseNames(a,c))}IndexedDBAgent.requestDatabaseNames(a,b.bind(this))},_loadDatabase:function(a){function b(b,c){if(b)return void console.error("IndexedDBAgent error: "+b);if(this._databaseNamesBySecurityOrigin[a.securityOrigin]){var d=new WebInspector.IndexedDBModel.Database(a,c.version,c.intVersion);this._databases.put(a,d);for(var e=0;e<c.objectStores.length;++e){for(var f=c.objectStores[e],g=WebInspector.IndexedDBModel.idbKeyPathFromKeyPath(f.keyPath),h=new WebInspector.IndexedDBModel.ObjectStore(f.name,g,f.autoIncrement),i=0;i<f.indexes.length;++i){var j=f.indexes[i],k=WebInspector.IndexedDBModel.idbKeyPathFromKeyPath(j.keyPath),l=new WebInspector.IndexedDBModel.Index(j.name,k,j.unique,j.multiEntry);h.indexes[l.name]=l}d.objectStores[h.name]=h}this.dispatchEventToListeners(WebInspector.IndexedDBModel.EventTypes.DatabaseLoaded,d)}}IndexedDBAgent.requestDatabase(a.securityOrigin,a.name,b.bind(this))},loadObjectStoreData:function(a,b,c,d,e,f){this._requestData(a,a.name,b,"",c,d,e,f)},loadIndexData:function(a,b,c,d,e,f,g){this._requestData(a,a.name,b,c,d,e,f,g)},_requestData:function(a,b,c,d,e,f,g,h){function i(b,c,d){if(b)return void console.error("IndexedDBAgent error: "+b);if(this._databaseNamesBySecurityOrigin[a.securityOrigin]){for(var e=[],f=0;f<c.length;++f){var g=WebInspector.RemoteObject.fromLocalObject(JSON.parse(c[f].key)),i=WebInspector.RemoteObject.fromLocalObject(JSON.parse(c[f].primaryKey)),j=WebInspector.RemoteObject.fromLocalObject(JSON.parse(c[f].value));e.push(new WebInspector.IndexedDBModel.Entry(g,i,j))}h(e,d)}}var j=WebInspector.IndexedDBModel.keyRangeFromIDBKeyRange(e);IndexedDBAgent.requestData(a.securityOrigin,b,c,d,f,g,j?j:void 0,i.bind(this))},__proto__:WebInspector.Object.prototype},WebInspector.IndexedDBModel.Entry=function(a,b,c){this.key=a,this.primaryKey=b,this.value=c},WebInspector.IndexedDBModel.DatabaseId=function(a,b){this.securityOrigin=a,this.name=b},WebInspector.IndexedDBModel.DatabaseId.prototype={equals:function(a){return this.name===a.name&&this.securityOrigin===a.securityOrigin}},WebInspector.IndexedDBModel.Database=function(a,b,c){this.databaseId=a,this.version=b,this.intVersion=c,this.objectStores={}},WebInspector.IndexedDBModel.ObjectStore=function(a,b,c){this.name=a,this.keyPath=b,this.autoIncrement=c,this.indexes={}},WebInspector.IndexedDBModel.ObjectStore.prototype={get keyPathString(){return WebInspector.IndexedDBModel.keyPathStringFromIDBKeyPath(this.keyPath)}},WebInspector.IndexedDBModel.Index=function(a,b,c,d){this.name=a,this.keyPath=b,this.unique=c,this.multiEntry=d},WebInspector.IndexedDBModel.Index.prototype={get keyPathString(){return WebInspector.IndexedDBModel.keyPathStringFromIDBKeyPath(this.keyPath)}},WebInspector.Spectrum=function(){function a(a,b,c){this._hsv[0]=(this.slideHeight-c)/this.slideHeight,this._onchange()}function b(){k={x:this._dragHelperElement.offsetLeft,y:this._dragHelperElement.offsetTop}}function c(a,b,c,d){d.shiftKey&&(Math.abs(b-k.x)>=Math.abs(c-k.y)?c=k.y:b=k.x),this._hsv[1]=b/this.dragWidth,this._hsv[2]=(this.dragHeight-c)/this.dragHeight,this._onchange()}function d(){this._hsv[3]=this._alphaElement.value/100,this._onchange()}WebInspector.VBox.call(this),this.registerRequiredCSS("spectrum.css"),this.element.classList.add("spectrum-container"),this.element.tabIndex=0;var e=this.element.createChild("div","spectrum-top");e.createChild("div","spectrum-fill");var f=e.createChild("div","spectrum-top-inner fill");this._draggerElement=f.createChild("div","spectrum-color"),this._dragHelperElement=this._draggerElement.createChild("div","spectrum-sat fill").createChild("div","spectrum-val fill").createChild("div","spectrum-dragger"),this._sliderElement=f.createChild("div","spectrum-hue"),this.slideHelper=this._sliderElement.createChild("div","spectrum-slider");var g=this.element.createChild("div","spectrum-range-container"),h=g.createChild("label");h.textContent=WebInspector.UIString("α:"),this._alphaElement=g.createChild("input","spectrum-range"),this._alphaElement.setAttribute("type","range"),this._alphaElement.setAttribute("min","0"),this._alphaElement.setAttribute("max","100"),this._alphaElement.addEventListener("input",d.bind(this),!1),this._alphaElement.addEventListener("change",d.bind(this),!1);var i=document.createElement("span");i.className="swatch",this._swatchInnerElement=i.createChild("span","swatch-inner");var j=this.element.createChild("div");j.appendChild(i),this._displayElement=j.createChild("span","source-code spectrum-display-value"),WebInspector.Spectrum.draggable(this._sliderElement,a.bind(this)),WebInspector.Spectrum.draggable(this._draggerElement,c.bind(this),b.bind(this));var k},WebInspector.Spectrum.Events={ColorChanged:"ColorChanged"},WebInspector.Spectrum.draggable=function(a,b,c,d){function e(a){a.consume(!0)}function f(c){if(i){var d=Math.max(0,Math.min(c.pageX-j.left+k.left,m)),e=Math.max(0,Math.min(c.pageY-j.top+k.top,l));b&&b(a,d,e,c)}}function g(b){var d=b,g=d.which?3===d.which:2===d.button;g||i||(c&&c(a,d),i=!0,l=a.clientHeight,m=a.clientWidth,k=a.scrollOffset(),j=a.totalOffset(),n.addEventListener("selectstart",e,!1),n.addEventListener("dragstart",e,!1),n.addEventListener("mousemove",f,!1),n.addEventListener("mouseup",h,!1),f(d),e(d))}function h(b){i&&(n.removeEventListener("selectstart",e,!1),n.removeEventListener("dragstart",e,!1),n.removeEventListener("mousemove",f,!1),n.removeEventListener("mouseup",h,!1),d&&d(a,b)),i=!1}var i,j,k,l,m,n=document;a.addEventListener("mousedown",g,!1)},WebInspector.Spectrum.prototype={setColor:function(a){this._hsv=a.hsva()},color:function(){return WebInspector.Color.fromHSVA(this._hsv)},_colorString:function(){var a=WebInspector.Color.Format,b=this._originalFormat,c=this.color(),d=c.toString(this._originalFormat);return d?d:c.hasAlpha()?c.toString(b===a.HSLA||b===a.HSL?a.HSLA:a.RGBA):b===a.ShortHEX?c.toString(a.HEX):(console.assert(b===a.Nickname),c.toString(a.RGB))},set displayText(a){this._displayElement.textContent=a},_onchange:function(){this._updateUI(),this.dispatchEventToListeners(WebInspector.Spectrum.Events.ColorChanged,this._colorString())},_updateHelperLocations:function(){var a=this._hsv[0],b=this._hsv[1],c=this._hsv[2],d=b*this.dragWidth,e=this.dragHeight-c*this.dragHeight;d=Math.max(-this._dragHelperElementHeight,Math.min(this.dragWidth-this._dragHelperElementHeight,d-this._dragHelperElementHeight)),e=Math.max(-this._dragHelperElementHeight,Math.min(this.dragHeight-this._dragHelperElementHeight,e-this._dragHelperElementHeight)),this._dragHelperElement.positionAt(d,e);var f=this.slideHeight-(a*this.slideHeight+this.slideHelperHeight);this.slideHelper.style.top=f+"px",this._alphaElement.value=100*this._hsv[3]},_updateUI:function(){this._updateHelperLocations(),this._draggerElement.style.backgroundColor=WebInspector.Color.fromHSVA([this._hsv[0],1,1,1]).toString(WebInspector.Color.Format.RGB),this._swatchInnerElement.style.backgroundColor=this.color().toString(WebInspector.Color.Format.RGBA),this._alphaElement.value=100*this._hsv[3]},wasShown:function(){this.slideHeight=this._sliderElement.offsetHeight,this.dragWidth=this._draggerElement.offsetWidth,this.dragHeight=this._draggerElement.offsetHeight,this._dragHelperElementHeight=this._dragHelperElement.offsetHeight/2,this.slideHelperHeight=this.slideHelper.offsetHeight/2,this._updateUI()},__proto__:WebInspector.VBox.prototype},WebInspector.SpectrumPopupHelper=function(){this._spectrum=new WebInspector.Spectrum,this._spectrum.element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._popover=new WebInspector.Popover,this._popover.setCanShrink(!1),this._popover.element.addEventListener("mousedown",consumeEvent,!1),this._hideProxy=this.hide.bind(this,!0)},WebInspector.SpectrumPopupHelper.Events={Hidden:"Hidden"},WebInspector.SpectrumPopupHelper.prototype={spectrum:function(){return this._spectrum},toggle:function(a,b,c){return this._popover.isShowing()?this.hide(!0):this.show(a,b,c),this._popover.isShowing()},show:function(a,b,c){if(this._popover.isShowing()){if(this._anchorElement===a)return!1;this.hide(!0)}return this._anchorElement=a,this._spectrum.setColor(b),this._spectrum._originalFormat=c!==WebInspector.Color.Format.Original?c:b.format(),this.reposition(a),document.addEventListener("mousedown",this._hideProxy,!1),window.addEventListener("blur",this._hideProxy,!1),!0},reposition:function(a){this._previousFocusElement||(this._previousFocusElement=WebInspector.currentFocusElement()),this._popover.showView(this._spectrum,a),WebInspector.setCurrentFocusElement(this._spectrum.element)},hide:function(a){this._popover.isShowing()&&(this._popover.hide(),document.removeEventListener("mousedown",this._hideProxy,!1),window.removeEventListener("blur",this._hideProxy,!1),this.dispatchEventToListeners(WebInspector.SpectrumPopupHelper.Events.Hidden,!!a),WebInspector.setCurrentFocusElement(this._previousFocusElement),delete this._previousFocusElement,delete this._anchorElement)},_onKeyDown:function(a){return"Enter"===a.keyIdentifier?(this.hide(!0),void a.consume(!0)):void("U+001B"===a.keyIdentifier&&(this.hide(!1),a.consume(!0)))},__proto__:WebInspector.Object.prototype},WebInspector.ColorSwatch=function(a){this.element=document.createElement("span"),this._swatchInnerElement=this.element.createChild("span","swatch-inner");var b=WebInspector.UIString("Shift-click to change color format.");this.element.title=a?b:String.sprintf("%s\n%s",WebInspector.UIString("Click to open a colorpicker."),b),this.element.className="swatch",this.element.addEventListener("mousedown",consumeEvent,!1),this.element.addEventListener("dblclick",consumeEvent,!1)},WebInspector.ColorSwatch.prototype={setColorString:function(a){this._swatchInnerElement.style.backgroundColor=a}},WebInspector.SidebarPane=function(a){WebInspector.View.call(this),this.setMinimumSize(25,0),this.element.className="sidebar-pane",this.titleElement=document.createElement("div"),this.titleElement.className="sidebar-pane-toolbar",this.bodyElement=this.element.createChild("div","body"),this._title=a,this._expandCallback=null},WebInspector.SidebarPane.EventTypes={wasShown:"wasShown"},WebInspector.SidebarPane.prototype={title:function(){return this._title},prepareContent:function(a){a&&a()},expand:function(){this.prepareContent(this.onContentReady.bind(this))},onContentReady:function(){this._expandCallback?this._expandCallback():this._expandPending=!0},setExpandCallback:function(a){this._expandCallback=a,this._expandPending&&(delete this._expandPending,this._expandCallback())},wasShown:function(){WebInspector.View.prototype.wasShown.call(this),this.dispatchEventToListeners(WebInspector.SidebarPane.EventTypes.wasShown)},__proto__:WebInspector.View.prototype},WebInspector.SidebarPaneTitle=function(a,b){this._pane=b,this.element=a.createChild("div","sidebar-pane-title"),this.element.textContent=b.title(),this.element.tabIndex=0,this.element.addEventListener("click",this._toggleExpanded.bind(this),!1),this.element.addEventListener("keydown",this._onTitleKeyDown.bind(this),!1),this.element.appendChild(this._pane.titleElement),this._pane.setExpandCallback(this._expand.bind(this))},WebInspector.SidebarPaneTitle.prototype={_expand:function(){this.element.classList.add("expanded"),this._pane.show(this.element.parentNode,this.element.nextSibling)},_collapse:function(){this.element.classList.remove("expanded"),this._pane.element.parentNode==this.element.parentNode&&this._pane.detach()},_toggleExpanded:function(){this.element.classList.contains("expanded")?this._collapse():this._pane.expand()},_onTitleKeyDown:function(a){(isEnterKey(a)||a.keyCode===WebInspector.KeyboardShortcut.Keys.Space.code)&&this._toggleExpanded()}},WebInspector.SidebarPaneStack=function(){WebInspector.View.call(this),this.setMinimumSize(25,0),this.element.className="sidebar-pane-stack",this.registerRequiredCSS("sidebarPane.css")},WebInspector.SidebarPaneStack.prototype={addPane:function(a){new WebInspector.SidebarPaneTitle(this.element,a)},__proto__:WebInspector.View.prototype},WebInspector.SidebarTabbedPane=function(){WebInspector.TabbedPane.call(this),this.setRetainTabOrder(!0),this.element.classList.add("sidebar-tabbed-pane"),this.registerRequiredCSS("sidebarPane.css")},WebInspector.SidebarTabbedPane.prototype={addPane:function(a){var b=a.title();this.appendTab(b,b,a),a.element.appendChild(a.titleElement),a.setExpandCallback(this.selectTab.bind(this,b))},__proto__:WebInspector.TabbedPane.prototype},WebInspector.DOMPresentationUtils={},WebInspector.DOMPresentationUtils.decorateNodeLabel=function(a,b){var c=a.nodeNameInCorrectCase(),d=document.createElement("span");d.textContent=c,b.appendChild(d);var e=a.getAttribute("id");if(e){var f=document.createElement("span");b.appendChild(f);var g="#"+e;c+=g,f.appendChild(document.createTextNode(g)),d.className="extra"}var h=a.getAttribute("class");if(h){var i=h.split(/\s+/),j={};if(i.length){var k=document.createElement("span");k.className="extra",b.appendChild(k);for(var l=0;l<i.length;++l){var m=i[l];if(m&&!(m in j)){var g="."+m;c+=g,k.appendChild(document.createTextNode(g)),j[m]=!0}}}}b.title=c},WebInspector.DOMPresentationUtils.createSpansForNodeTitle=function(a,b){var c=b.match(/([^#.]+)(#[^.]+)?(\..*)?/);a.createChild("span","webkit-html-tag-name").textContent=c[1],c[2]&&(a.createChild("span","webkit-html-attribute-value").textContent=c[2]),c[3]&&(a.createChild("span","webkit-html-attribute-name").textContent=c[3])},WebInspector.DOMPresentationUtils.linkifyNodeReference=function(a){var b=document.createElement("span");return b.className="node-link",WebInspector.DOMPresentationUtils.decorateNodeLabel(a,b),b.addEventListener("click",WebInspector.domModel.inspectElement.bind(WebInspector.domModel,a.id),!1),b.addEventListener("mouseover",WebInspector.domModel.highlightDOMNode.bind(WebInspector.domModel,a.id,"",void 0),!1),b.addEventListener("mouseout",WebInspector.domModel.hideDOMNodeHighlight.bind(WebInspector.domModel),!1),b},WebInspector.DOMPresentationUtils.linkifyNodeById=function(a){var b=WebInspector.domModel.nodeForId(a);return b?WebInspector.DOMPresentationUtils.linkifyNodeReference(b):document.createTextNode(WebInspector.UIString("<node>"))},WebInspector.DOMPresentationUtils.buildImagePreviewContents=function(a,b,c,d){function e(){c()}function f(){var a=document.createElement("table");a.className="image-preview-container";var e,f=d?d.naturalWidth:h.naturalWidth,g=d?d.naturalHeight:h.naturalHeight,i=d?d.offsetWidth:f,j=d?d.offsetHeight:g;b&&(e=j===g&&i===f?WebInspector.UIString("%d × %d pixels",i,j):WebInspector.UIString("%d × %d pixels (Natural: %d × %d pixels)",i,j,f,g)),a.createChild("tr").createChild("td","image-container").appendChild(h),e&&(a.createChild("tr").createChild("td").createChild("span","description").textContent=e),c(a)}var g=WebInspector.resourceTreeModel.resourceForURL(a);if(!g)return void c();var h=document.createElement("img");h.addEventListener("load",f,!1),h.addEventListener("error",e,!1),g.populateImageSource(h)},WebInspector.DOMPresentationUtils.fullQualifiedSelector=function(a,b){return a.nodeType()!==Node.ELEMENT_NODE?a.localName()||a.nodeName().toLowerCase():WebInspector.DOMPresentationUtils.cssPath(a,b)},WebInspector.DOMPresentationUtils.simpleSelector=function(a){var b=a.localName()||a.nodeName().toLowerCase();return a.nodeType()!==Node.ELEMENT_NODE?b:"input"!==b||!a.getAttribute("type")||a.getAttribute("id")||a.getAttribute("class")?a.getAttribute("id")?b+"#"+a.getAttribute("id"):a.getAttribute("class")?b+"."+a.getAttribute("class").trim().replace(/\s+/g,"."):b:b+'[type="'+a.getAttribute("type")+'"]'
},WebInspector.DOMPresentationUtils.cssPath=function(a,b){if(a.nodeType()!==Node.ELEMENT_NODE)return"";for(var c=[],d=a;d;){var e=WebInspector.DOMPresentationUtils._cssPathStep(d,!!b,d===a);if(!e)break;if(c.push(e),e.optimized)break;d=d.parentNode}return c.reverse(),c.join(" > ")},WebInspector.DOMPresentationUtils._cssPathStep=function(a,b,c){function d(a){var b=a.getAttribute("class");return b?b.split(/\s+/g).filter(Boolean).map(function(a){return"$"+a}):[]}function e(a){return"#"+f(a)}function f(a){if(j(a))return a;var b=/^(?:[0-9]|-[0-9-]?)/.test(a),c=a.length-1;return a.replace(/./g,function(a,d){return b&&0===d||!i(a)?g(a,d===c):a})}function g(a,b){return"\\"+h(a)+(b?"":" ")}function h(a){var b=a.charCodeAt(0).toString(16);return 1===b.length&&(b="0"+b),b}function i(a){return/[a-zA-Z0-9_-]/.test(a)?!0:a.charCodeAt(0)>=160}function j(a){return/^-?[a-zA-Z_][a-zA-Z0-9_-]*$/.test(a)}if(a.nodeType()!==Node.ELEMENT_NODE)return null;var k=a.getAttribute("id");if(b){if(k)return new WebInspector.DOMNodePathStep(e(k),!0);var l=a.nodeName().toLowerCase();if("body"===l||"head"===l||"html"===l)return new WebInspector.DOMNodePathStep(a.nodeNameInCorrectCase(),!0)}var m=a.nodeNameInCorrectCase();if(k)return new WebInspector.DOMNodePathStep(m+e(k),!0);var n=a.parentNode;if(!n||n.nodeType()===Node.DOCUMENT_NODE)return new WebInspector.DOMNodePathStep(m,!0);for(var o=d(a),p=!1,q=!1,r=-1,s=-1,t=n.children(),u=0;(-1===r||!q)&&u<t.length;++u){var v=t[u];if(v.nodeType()===Node.ELEMENT_NODE)if(s+=1,v!==a){if(!q&&v.nodeNameInCorrectCase()===m){p=!0;var w=o.keySet(),x=0;for(var y in w)++x;if(0!==x)for(var z=d(v),A=0;A<z.length;++A){var B=z[A];if(w.hasOwnProperty(B)&&(delete w[B],!--x)){q=!0;break}}else q=!0}}else r=s}var C=m;if(c&&"input"===m.toLowerCase()&&a.getAttribute("type")&&!a.getAttribute("id")&&!a.getAttribute("class")&&(C+='[type="'+a.getAttribute("type")+'"]'),q)C+=":nth-child("+(r+1)+")";else if(p)for(var D in o.keySet())C+="."+f(D.substr(1));return new WebInspector.DOMNodePathStep(C,!1)},WebInspector.DOMPresentationUtils.xPath=function(a,b){if(a.nodeType()===Node.DOCUMENT_NODE)return"/";for(var c=[],d=a;d;){var e=WebInspector.DOMPresentationUtils._xPathValue(d,b);if(!e)break;if(c.push(e),e.optimized)break;d=d.parentNode}return c.reverse(),(c.length&&c[0].optimized?"":"/")+c.join("/")},WebInspector.DOMPresentationUtils._xPathValue=function(a,b){var c,d=WebInspector.DOMPresentationUtils._xPathIndex(a);if(-1===d)return null;switch(a.nodeType()){case Node.ELEMENT_NODE:if(b&&a.getAttribute("id"))return new WebInspector.DOMNodePathStep('//*[@id="'+a.getAttribute("id")+'"]',!0);c=a.localName();break;case Node.ATTRIBUTE_NODE:c="@"+a.nodeName();break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:c="text()";break;case Node.PROCESSING_INSTRUCTION_NODE:c="processing-instruction()";break;case Node.COMMENT_NODE:c="comment()";break;case Node.DOCUMENT_NODE:c="";break;default:c=""}return d>0&&(c+="["+d+"]"),new WebInspector.DOMNodePathStep(c,a.nodeType()===Node.DOCUMENT_NODE)},WebInspector.DOMPresentationUtils._xPathIndex=function(a){function b(a,b){if(a===b)return!0;if(a.nodeType()===Node.ELEMENT_NODE&&b.nodeType()===Node.ELEMENT_NODE)return a.localName()===b.localName();if(a.nodeType()===b.nodeType())return!0;var c=a.nodeType()===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:a.nodeType(),d=b.nodeType()===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:b.nodeType();return c===d}var c=a.parentNode?a.parentNode.children():null;if(!c)return 0;for(var d,e=0;e<c.length;++e)if(b(a,c[e])&&c[e]!==a){d=!0;break}if(!d)return 0;for(var f=1,e=0;e<c.length;++e)if(b(a,c[e])){if(c[e]===a)return f;++f}return-1},WebInspector.DOMNodePathStep=function(a,b){this.value=a,this.optimized=b||!1},WebInspector.DOMNodePathStep.prototype={toString:function(){return this.value}},WebInspector.SidebarSectionTreeElement=function(a,b,c){TreeElement.call(this,a.escapeHTML(),b||{},c),this.expand()},WebInspector.SidebarSectionTreeElement.prototype={selectable:!1,collapse:function(){},get smallChildren(){return this._smallChildren},set smallChildren(a){this._smallChildren!==a&&(this._smallChildren=a,this._childrenListNode.classList.toggle("small",this._smallChildren))},onattach:function(){this._listItemNode.classList.add("sidebar-tree-section")},onreveal:function(){this.listItemElement&&this.listItemElement.scrollIntoViewIfNeeded(!1)},__proto__:TreeElement.prototype},WebInspector.SidebarTreeElement=function(a,b,c,d,e){TreeElement.call(this,"",d,e),e&&(this.disclosureButton=document.createElement("button"),this.disclosureButton.className="disclosure-button"),this.iconElement=document.createElementWithClass("div","icon"),this.statusElement=document.createElementWithClass("div","status"),this.titlesElement=document.createElementWithClass("div","titles"),this.titleContainer=this.titlesElement.createChild("span","title-container"),this.titleElement=this.titleContainer.createChild("span","title"),this.subtitleElement=this.titlesElement.createChild("span","subtitle"),this.className=a,this.mainTitle=b,this.subtitle=c},WebInspector.SidebarTreeElement.prototype={get small(){return this._small},set small(a){this._small=a,this._listItemNode&&this._listItemNode.classList.toggle("small",this._small)},get mainTitle(){return this._mainTitle},set mainTitle(a){this._mainTitle=a,this.refreshTitles()},get subtitle(){return this._subtitle},set subtitle(a){this._subtitle=a,this.refreshTitles()},set wait(a){this._listItemNode.classList.toggle("wait",a)},refreshTitles:function(){var a=this.mainTitle;this.titleElement.textContent!==a&&(this.titleElement.textContent=a);var b=this.subtitle;b?(this.subtitleElement.textContent!==b&&(this.subtitleElement.textContent=b),this.titlesElement.classList.remove("no-subtitle")):(this.subtitleElement.textContent="",this.titlesElement.classList.add("no-subtitle"))},isEventWithinDisclosureTriangle:function(a){return a.target===this.disclosureButton},onattach:function(){this._listItemNode.classList.add("sidebar-tree-item"),this.className&&this._listItemNode.classList.add(this.className),this.small&&this._listItemNode.classList.add("small"),this.hasChildren&&this.disclosureButton&&this._listItemNode.appendChild(this.disclosureButton),this._listItemNode.appendChild(this.iconElement),this._listItemNode.appendChild(this.statusElement),this._listItemNode.appendChild(this.titlesElement)},onreveal:function(){this._listItemNode&&this._listItemNode.scrollIntoViewIfNeeded(!1)},__proto__:TreeElement.prototype},WebInspector.Section=function(a,b){this.element=document.createElement("div"),this.element.className="section",this.element._section=this,this.headerElement=document.createElement("div"),this.headerElement.className="header",this.titleElement=document.createElement("div"),this.titleElement.className="title",this.subtitleElement=document.createElement("div"),this.subtitleElement.className="subtitle",this.headerElement.appendChild(this.subtitleElement),this.headerElement.appendChild(this.titleElement),this.headerElement.addEventListener("click",this.handleClick.bind(this),!1),this.element.appendChild(this.headerElement),this.title=a,this.subtitle=b,this._expanded=!1},WebInspector.Section.prototype={get title(){return this._title},set title(a){this._title!==a&&(this._title=a,a instanceof Node?(this.titleElement.removeChildren(),this.titleElement.appendChild(a)):this.titleElement.textContent=a)},get subtitle(){return this._subtitle},set subtitle(a){this._subtitle!==a&&(this._subtitle=a,this.subtitleElement.textContent=a)},get subtitleAsTextForTest(){var a=this.subtitleElement.textContent,b=this.subtitleElement.querySelector("[data-uncopyable]");if(b){var c=b.getAttribute("data-uncopyable");c&&(a+=c)}return a},get expanded(){return this._expanded},set expanded(a){a?this.expand():this.collapse()},get populated(){return this._populated},set populated(a){this._populated=a,!a&&this._expanded&&(this.onpopulate(),this._populated=!0)},onpopulate:function(){},get firstSibling(){var a=this.element.parentElement;if(!a)return null;for(var b=a.firstChild;b;){if(b._section)return b._section;b=b.nextSibling}return null},get lastSibling(){var a=this.element.parentElement;if(!a)return null;for(var b=a.lastChild;b;){if(b._section)return b._section;b=b.previousSibling}return null},get nextSibling(){var a=this.element;do a=a.nextSibling;while(a&&!a._section);return a?a._section:null},get previousSibling(){var a=this.element;do a=a.previousSibling;while(a&&!a._section);return a?a._section:null},expand:function(){this._expanded||(this._expanded=!0,this.element.classList.add("expanded"),this._populated||(this.onpopulate(),this._populated=!0))},collapse:function(){this._expanded&&(this._expanded=!1,this.element.classList.remove("expanded"))},toggleExpanded:function(){this.expanded=!this.expanded},handleClick:function(a){this.toggleExpanded(),a.consume()}},WebInspector.PropertiesSection=function(a,b){WebInspector.Section.call(this,a,b),this.headerElement.classList.add("monospace"),this.propertiesElement=document.createElement("ol"),this.propertiesElement.className="properties properties-tree monospace",this.propertiesTreeOutline=new TreeOutline(this.propertiesElement,!0),this.propertiesTreeOutline.setFocusable(!1),this.propertiesTreeOutline.section=this,this.element.appendChild(this.propertiesElement)},WebInspector.PropertiesSection.prototype={__proto__:WebInspector.Section.prototype},WebInspector.RemoteObject=function(){},WebInspector.RemoteObject.prototype={get type(){throw"Not implemented"},get subtype(){throw"Not implemented"},get description(){throw"Not implemented"},get hasChildren(){throw"Not implemented"},arrayLength:function(){throw"Not implemented"},getOwnProperties:function(){throw"Not implemented"},getAllProperties:function(){throw"Not implemented"},callFunction:function(){throw"Not implemented"},callFunctionJSON:function(){throw"Not implemented"},target:function(){throw"Not implemented"}},WebInspector.RemoteObject.fromPrimitiveValue=function(a,b){return b||(b=WebInspector.targetManager.mainTarget()),new WebInspector.RemoteObjectImpl(b,void 0,typeof a,void 0,a)},WebInspector.RemoteObject.fromLocalObject=function(a){return new WebInspector.LocalJSONObject(a)},WebInspector.RemoteObject.resolveNode=function(a,b,c){function d(a,b){c&&c(a||!b?null:WebInspector.RemoteObject.fromPayload(b))}DOMAgent.resolveNode(a.id,b,d)},WebInspector.RemoteObject.fromPayload=function(a,b){return b||(b=WebInspector.targetManager.mainTarget()),console.assert("object"==typeof a,"Remote object payload should only be an object"),new WebInspector.RemoteObjectImpl(b,a.objectId,a.type,a.subtype,a.value,a.description,a.preview)},WebInspector.RemoteObject.type=function(a){if(null===a)return"null";var b=typeof a;return"object"!==b&&"function"!==b?b:a.type},WebInspector.RemoteObject.toCallArgument=function(a){var b=a.type,c=a.value;if("number"===b)switch(a.description){case"NaN":case"Infinity":case"-Infinity":case"-0":c=a.description}return{value:c,objectId:a.objectId,type:b}},WebInspector.RemoteObjectImpl=function(a,b,c,d,e,f,g){WebInspector.RemoteObject.call(this),this._target=a,this._runtimeAgent=a.runtimeAgent(),this._domModel=a.domModel,this._type=c,this._subtype=d,b?(this._objectId=b,this._description=f,this._hasChildren=!0,this._preview=g):(console.assert("object"!==c||null===e),this._description=f||e+"",this._hasChildren=!1,this.value="number"===c&&"number"!=typeof e?Number(e):e)},WebInspector.RemoteObjectImpl.prototype={get objectId(){return this._objectId},get type(){return this._type},get subtype(){return this._subtype},get description(){return this._description},get hasChildren(){return this._hasChildren},get preview(){return this._preview},getOwnProperties:function(a){this.doGetProperties(!0,!1,a)},getAllProperties:function(a,b){this.doGetProperties(!1,a,b)},getProperty:function(a,b){function c(a){for(var b=this,c=JSON.parse(a),d=0,e=c.length;e>d;++d)b=b[c[d]];return b}var d=[{value:JSON.stringify(a)}];this.callFunction(c,d,b)},doGetProperties:function(a,b,c){function d(a,b,d){if(a)return void c(null,null);for(var e=[],f=0;b&&f<b.length;++f){var g=b[f];e.push(new WebInspector.RemoteObjectProperty(g.name,null,g))}var h=null;if(d){h=[];for(var f=0;f<d.length;f++){var g=d[f];g.value&&h.push(new WebInspector.RemoteObjectProperty(g.name,WebInspector.RemoteObject.fromPayload(g.value)))}}c(e,h)}return this._objectId?void this._runtimeAgent.getProperties(this._objectId,a,b,d):void c(null,null)},setPropertyValue:function(a,b,c){function d(b,d,e){return b||e?void c(b||d.description):(this.doSetObjectPropertyValue(d,a,c),void(d.objectId&&this._runtimeAgent.releaseObject(d.objectId)))}return this._objectId?void this._runtimeAgent.invoke_evaluate({expression:b,doNotPauseOnExceptionsAndMuteConsole:!0},d.bind(this)):void c("Can't set a property of non-object.")},doSetObjectPropertyValue:function(a,b,c){function d(a,b,d){return a||d?void c(a||b.description):void c()}var e="function(a, b) { this[a] = b; }",f=[{value:b},WebInspector.RemoteObject.toCallArgument(a)];this._runtimeAgent.callFunctionOn(this._objectId,e,f,!0,void 0,void 0,d)},pushNodeToFrontend:function(a){this._objectId?this._domModel.pushNodeToFrontend(this._objectId,a):a(0)},highlightAsDOMNode:function(){this._domModel.highlightDOMNode(void 0,void 0,this._objectId)},hideDOMNodeHighlight:function(){this._domModel.hideDOMNodeHighlight()},callFunction:function(a,b,c){function d(a,b,d){c&&(a?c(null,!1):c(WebInspector.RemoteObject.fromPayload(b),d))}this._runtimeAgent.callFunctionOn(this._objectId,a.toString(),b,!0,void 0,void 0,d)},callFunctionJSON:function(a,b,c){function d(a,b,d){c(a||d?null:b.value)}this._runtimeAgent.callFunctionOn(this._objectId,a.toString(),b,!0,!0,!1,d)},release:function(){this._objectId&&this._runtimeAgent.releaseObject(this._objectId)},arrayLength:function(){if("array"!==this.subtype)return 0;var a=this._description.match(/\[([0-9]+)\]/);return a?parseInt(a[1],10):0},target:function(){return this._target},__proto__:WebInspector.RemoteObject.prototype},WebInspector.RemoteObject.loadFromObject=function(a,b,c){b?a.getAllProperties(!1,c):WebInspector.RemoteObject.loadFromObjectPerProto(a,c)},WebInspector.RemoteObject.loadFromObjectPerProto=function(a,b){function c(){if(!--i){if(f&&g){for(var a=g.slice(0),c=0;c<f.length;c++){var d=f[c];d.isAccessorProperty()||a.push(d)}return b(a,h?h:null)}b(null,null)}}function d(a){g=a,c()}function e(a,b){f=a,h=b,c()}var f,g,h,i=2;a.getAllProperties(!0,d),a.getOwnProperties(e)},WebInspector.ScopeRemoteObject=function(a,b,c,d,e,f,g,h){WebInspector.RemoteObjectImpl.call(this,a,b,d,e,f,g,h),this._scopeRef=c,this._savedScopeProperties=void 0,this._debuggerAgent=a.debuggerAgent()},WebInspector.ScopeRemoteObject.fromPayload=function(a,b,c){return c||(c=WebInspector.targetManager.mainTarget()),b?new WebInspector.ScopeRemoteObject(c,a.objectId,b,a.type,a.subtype,a.value,a.description,a.preview):new WebInspector.RemoteObjectImpl(c,a.objectId,a.type,a.subtype,a.value,a.description,a.preview)},WebInspector.ScopeRemoteObject.prototype={doGetProperties:function(a,b,c){function d(a,b){this._scopeRef&&a instanceof Array&&(this._savedScopeProperties=a.slice()),c(a,b)}return b?void c([],[]):this._savedScopeProperties?void c(this._savedScopeProperties.slice(),[]):void WebInspector.RemoteObjectImpl.prototype.doGetProperties.call(this,a,b,d.bind(this))},doSetObjectPropertyValue:function(a,b,c){function d(d){if(d)return void c(d);if(this._savedScopeProperties)for(var e=0;e<this._savedScopeProperties.length;e++)this._savedScopeProperties[e].name===b&&(this._savedScopeProperties[e].value=WebInspector.RemoteObject.fromPayload(a));c()}this._debuggerAgent.setVariableValue(this._scopeRef.number,b,WebInspector.RemoteObject.toCallArgument(a),this._scopeRef.callFrameId,this._scopeRef.functionId,d.bind(this))},__proto__:WebInspector.RemoteObjectImpl.prototype},WebInspector.ScopeRef=function(a,b,c){this.number=a,this.callFrameId=b,this.functionId=c},WebInspector.RemoteObjectProperty=function(a,b,c){this.name=a,this.enumerable=c?!!c.enumerable:!0,this.writable=c?!!c.writable:!0,null===b&&c?(c.value&&(this.value=WebInspector.RemoteObject.fromPayload(c.value)),c.get&&"undefined"!==c.get.type&&(this.getter=WebInspector.RemoteObject.fromPayload(c.get)),c.set&&"undefined"!==c.set.type&&(this.setter=WebInspector.RemoteObject.fromPayload(c.set))):this.value=b,c&&(this.isOwn=c.isOwn,this.wasThrown=!!c.wasThrown)},WebInspector.RemoteObjectProperty.prototype={isAccessorProperty:function(){return!(!this.getter&&!this.setter)}},WebInspector.RemoteObjectProperty.fromPrimitiveValue=function(a,b){return new WebInspector.RemoteObjectProperty(a,WebInspector.RemoteObject.fromPrimitiveValue(b))},WebInspector.RemoteObjectProperty.fromScopeValue=function(a,b){var c=new WebInspector.RemoteObjectProperty(a,b);return c.writable=!1,c},WebInspector.LocalJSONObject=function(a){WebInspector.RemoteObject.call(this),this._value=a},WebInspector.LocalJSONObject.prototype={get description(){function a(a){return a.value.description}function b(a){return a.name+":"+a.value.description}if(this._cachedDescription)return this._cachedDescription;if("object"===this.type)switch(this.subtype){case"array":this._cachedDescription=this._concatenate("[","]",a);break;case"date":this._cachedDescription=""+this._value;break;case"null":this._cachedDescription="null";break;default:this._cachedDescription=this._concatenate("{","}",b)}else this._cachedDescription=String(this._value);return this._cachedDescription},_concatenate:function(a,b,c){const d=100;for(var e=a,f=this._children(),g=0;g<f.length;++g){var h=c(f[g]);if(e.length+h.length>d){e+=",…";break}g&&(e+=", "),e+=h}return e+=b},get type(){return typeof this._value},get subtype(){return null===this._value?"null":this._value instanceof Array?"array":this._value instanceof Date?"date":void 0},get hasChildren(){return"object"!=typeof this._value||null===this._value?!1:!!Object.keys(this._value).length},getOwnProperties:function(a){a(this._children())},getAllProperties:function(a,b){a?b([],null):b(this._children(),null)},_children:function(){function a(a){return new WebInspector.RemoteObjectProperty(a,new WebInspector.LocalJSONObject(this._value[a]))}if(!this.hasChildren)return[];var b=this._value;return this._cachedChildren||(this._cachedChildren=Object.keys(b).map(a.bind(this))),this._cachedChildren},isError:function(){return!1},arrayLength:function(){return this._value instanceof Array?this._value.length:0},callFunction:function(a,b,c){var d,e=this._value,f=b?b.map(function(a){return a.value}):[],g=!1;try{d=a.apply(e,f)}catch(h){g=!0}c&&c(WebInspector.RemoteObject.fromLocalObject(d),g)},callFunctionJSON:function(a,b,c){var d,e=this._value,f=b?b.map(function(a){return a.value}):[];try{d=a.apply(e,f)}catch(g){d=null}c(d)},__proto__:WebInspector.RemoteObject.prototype},WebInspector.ObjectPropertiesSection=function(a,b,c,d,e,f,g){this.emptyPlaceholder=d||WebInspector.UIString("No Properties"),this.object=a,this.ignoreHasOwnProperty=e,this.extraProperties=f,this.treeElementConstructor=g||WebInspector.ObjectPropertyTreeElement,this.editable=!0,this.skipProto=!1,WebInspector.PropertiesSection.call(this,b||"",c)},WebInspector.ObjectPropertiesSection._arrayLoadThreshold=100,WebInspector.ObjectPropertiesSection.prototype={enableContextMenu:function(){this.element.addEventListener("contextmenu",this._contextMenuEventFired.bind(this),!1)},_contextMenuEventFired:function(a){var b=new WebInspector.ContextMenu(a);b.appendApplicableItems(this.object),b.show()},onpopulate:function(){this.update()},update:function(){function a(a,b){a&&this.updateProperties(a,b)}return this.object.arrayLength()>WebInspector.ObjectPropertiesSection._arrayLoadThreshold?(this.propertiesTreeOutline.removeChildren(),void WebInspector.ArrayGroupingTreeElement._populateArray(this.propertiesTreeOutline,this.object,0,this.object.arrayLength()-1)):void WebInspector.RemoteObject.loadFromObject(this.object,!!this.ignoreHasOwnProperty,a.bind(this))},updateProperties:function(a,b,c,d){if(c||(c=this.treeElementConstructor),d||(d=WebInspector.ObjectPropertiesSection.CompareProperties),this.extraProperties)for(var e=0;e<this.extraProperties.length;++e)a.push(this.extraProperties[e]);if(this.propertiesTreeOutline.removeChildren(),WebInspector.ObjectPropertyTreeElement.populateWithProperties(this.propertiesTreeOutline,a,b,c,d,this.skipProto,this.object),this.propertiesForTest=a,!this.propertiesTreeOutline.children.length){var f=document.createElement("div");f.className="info",f.textContent=this.emptyPlaceholder;var g=new TreeElement(f,null,!1);this.propertiesTreeOutline.appendChild(g)}},__proto__:WebInspector.PropertiesSection.prototype},WebInspector.ObjectPropertiesSection.CompareProperties=function(a,b){var c=a.name,d=b.name;return"__proto__"===c?1:"__proto__"===d?-1:String.naturalOrderComparator(c,d)},WebInspector.ObjectPropertyTreeElement=function(a){this.property=a,TreeElement.call(this,"",null,!1),this.toggleOnClick=!0,this.selectable=!1},WebInspector.ObjectPropertyTreeElement.prototype={onpopulate:function(){var a=this.property.value;console.assert(a),WebInspector.ObjectPropertyTreeElement.populate(this,a)},ondblclick:function(a){return(this.property.writable||this.property.setter)&&this.startEditing(a),!1},onattach:function(){this.update()},update:function(){this.nameElement=document.createElement("span"),this.nameElement.className="name";var a=this.property.name;/^\s|\s$|^$|\n/.test(a)&&(a='"'+a.replace(/\n/g,"↵")+'"'),this.nameElement.textContent=a,this.property.enumerable||this.nameElement.classList.add("dimmed"),this.property.isAccessorProperty()&&this.nameElement.classList.add("properties-accessor-property-name");var b=document.createElement("span");if(b.className="separator",b.textContent=": ",this.property.value){this.valueElement=document.createElement("span"),this.valueElement.className="value";var c,d=this.property.value.description;this.property.wasThrown?c="[Exception: "+d+"]":"string"===this.property.value.type&&"string"==typeof d?(c='"'+d.replace(/\n/g,"↵")+'"',this.valueElement._originalTextContent='"'+d+'"'):"function"===this.property.value.type&&"string"==typeof d?(c=/.*/.exec(d)[0].replace(/ +$/g,""),this.valueElement._originalTextContent=d):("object"!==this.property.value.type||"node"!==this.property.value.subtype)&&(c=d),this.valueElement.setTextContentTruncatedIfNeeded(c||""),this.property.wasThrown&&this.valueElement.classList.add("error"),this.property.value.subtype?this.valueElement.classList.add("console-formatted-"+this.property.value.subtype):this.property.value.type&&this.valueElement.classList.add("console-formatted-"+this.property.value.type),this.valueElement.addEventListener("contextmenu",this._contextMenuFired.bind(this,this.property.value),!1),"object"===this.property.value.type&&"node"===this.property.value.subtype&&this.property.value.description?(WebInspector.DOMPresentationUtils.createSpansForNodeTitle(this.valueElement,this.property.value.description),this.valueElement.addEventListener("mousemove",this._mouseMove.bind(this,this.property.value),!1),this.valueElement.addEventListener("mouseout",this._mouseOut.bind(this,this.property.value),!1)):this.valueElement.title=d||"",this.listItemElement.removeChildren(),this.hasChildren=this.property.value.hasChildren&&!this.property.wasThrown}else this.property.getter?this.valueElement=WebInspector.ObjectPropertyTreeElement.createRemoteObjectAccessorPropertySpan(this.property.parentObject,[this.property.name],this._onInvokeGetterClick.bind(this)):(this.valueElement=document.createElement("span"),this.valueElement.className="console-formatted-undefined",this.valueElement.textContent=WebInspector.UIString("<unreadable>"),this.valueElement.title=WebInspector.UIString("No property getter"));this.listItemElement.appendChild(this.nameElement),this.listItemElement.appendChild(b),this.listItemElement.appendChild(this.valueElement)},_contextMenuFired:function(a,b){var c=new WebInspector.ContextMenu(b);this.populateContextMenu(c),c.appendApplicableItems(a),c.show()},populateContextMenu:function(){},_mouseMove:function(){this.property.value.highlightAsDOMNode()},_mouseOut:function(){this.property.value.hideDOMNodeHighlight()},updateSiblings:function(){this.parent.root?this.treeOutline.section.update():this.parent.shouldRefreshChildren=!0},renderPromptAsBlock:function(){return!1},elementAndValueToEdit:function(){return[this.valueElement,"string"==typeof this.valueElement._originalTextContent?this.valueElement._originalTextContent:void 0]},startEditing:function(a){function b(){this.editingCommitted(null,d.textContent,f.previousContent,f)}var c=this.elementAndValueToEdit(a),d=c[0],e=c[1];if(!WebInspector.isBeingEdited(d)&&this.treeOutline.section.editable&&!this._readOnly){"undefined"!=typeof e&&d.setTextContentTruncatedIfNeeded(e,WebInspector.UIString("<string is too large to edit>"));var f={expanded:this.expanded,elementToEdit:d,previousContent:d.textContent};this.hasChildren=!1,this.listItemElement.classList.add("editing-sub-part"),this._prompt=new WebInspector.ObjectPropertyPrompt(this.editingCommitted.bind(this,null,d.textContent,f.previousContent,f),this.editingCancelled.bind(this,null,f),this.renderPromptAsBlock());var g=this._prompt.attachAndStartEditing(d,b.bind(this));window.getSelection().setBaseAndExtent(d,0,d,1),g.addEventListener("keydown",this._promptKeyDown.bind(this,f),!1)}},isEditing:function(){return!!this._prompt},editingEnded:function(a){this._prompt.detach(),delete this._prompt,this.listItemElement.scrollLeft=0,this.listItemElement.classList.remove("editing-sub-part"),a.expanded&&this.expand()},editingCancelled:function(a,b){this.editingEnded(b),this.update()},editingCommitted:function(a,b,c,d){return b===c?void this.editingCancelled(a,d):(this.editingEnded(d),void this.applyExpression(b,!0))},_promptKeyDown:function(a,b){return isEnterKey(b)?(b.consume(!0),void this.editingCommitted(null,a.elementToEdit.textContent,a.previousContent,a)):"U+001B"===b.keyIdentifier?(b.consume(),void this.editingCancelled(null,a)):void 0},applyExpression:function(a,b){function c(a){b&&(a&&this.update(),d?this.updateSiblings():this.parent.removeChild(this))}a=a.trim();var d=a.length;this.property.parentObject.setPropertyValue(this.property.name,a.trim(),c.bind(this))},propertyPath:function(){if("_cachedPropertyPath"in this)return this._cachedPropertyPath;var a,b=this;do b.property&&(a=a?b.property.name+"."+a:b.property.name),b=b.parent;while(b&&!b.root);return this._cachedPropertyPath=a,a},_onInvokeGetterClick:function(a,b){a&&(this.property.value=a,this.property.wasThrown=b,this.update(),this.shouldRefreshChildren=!0)},__proto__:TreeElement.prototype},WebInspector.ObjectPropertyTreeElement.populate=function(a,b){function c(c,d){a.removeChildren(),c&&(d||(d=[]),WebInspector.ObjectPropertyTreeElement.populateWithProperties(a,c,d,a.treeOutline.section.treeElementConstructor,WebInspector.ObjectPropertiesSection.CompareProperties,a.treeOutline.section.skipProto,b))}if(!a.children.length||a.shouldRefreshChildren)return b.arrayLength()>WebInspector.ObjectPropertiesSection._arrayLoadThreshold?(a.removeChildren(),void WebInspector.ArrayGroupingTreeElement._populateArray(a,b,0,b.arrayLength()-1)):void WebInspector.RemoteObject.loadFromObjectPerProto(b,c)},WebInspector.ObjectPropertyTreeElement.populateWithProperties=function(a,b,c,d,e,f,g){b.sort(e);for(var h=0;h<b.length;++h){var i=b[h];if(!f||"__proto__"!==i.name)if(i.isAccessorProperty()){if("__proto__"!==i.name&&i.getter&&(i.parentObject=g,a.appendChild(new d(i))),i.isOwn){if(i.getter){var j=new WebInspector.RemoteObjectProperty("get "+i.name,i.getter);j.parentObject=g,a.appendChild(new d(j))}if(i.setter){var k=new WebInspector.RemoteObjectProperty("set "+i.name,i.setter);k.parentObject=g,a.appendChild(new d(k))}}}else i.parentObject=g,a.appendChild(new d(i))}if(g&&"function"===g.type){var l=!1;if(c)for(var h=0;h<c.length;h++)if("[[TargetFunction]]"==c[h].name){l=!0;break}l||a.appendChild(new WebInspector.FunctionScopeMainTreeElement(g))}if(c)for(var h=0;h<c.length;h++)c[h].parentObject=g,a.appendChild(new d(c[h]))},WebInspector.ObjectPropertyTreeElement.createRemoteObjectAccessorPropertySpan=function(a,b,c){function d(d){d.consume(),a.getProperty(b,c)}var e=document.createElement("span"),f=e.createChild("span","properties-calculate-value-button");return f.textContent=WebInspector.UIString("(...)"),f.title=WebInspector.UIString("Invoke property getter"),f.addEventListener("click",d,!1),e},WebInspector.FunctionScopeMainTreeElement=function(a){TreeElement.call(this,"<function scope>",null,!1),this.toggleOnClick=!0,this.selectable=!1,this._remoteObject=a,this.hasChildren=!0},WebInspector.FunctionScopeMainTreeElement.prototype={onpopulate:function(){function a(a,b){if(a)return void console.error(a);this.removeChildren();var c=b.scopeChain;if(c)for(var d=0;d<c.length;++d){var e,f=c[d],g=null;switch(f.type){case DebuggerAgent.ScopeType.Local:g=WebInspector.UIString("Local"),e=!1;break;case DebuggerAgent.ScopeType.Closure:g=WebInspector.UIString("Closure"),e=!1;break;case DebuggerAgent.ScopeType.Catch:g=WebInspector.UIString("Catch"),e=!1;break;case DebuggerAgent.ScopeType.With:g=WebInspector.UIString("With Block"),e=!0;break;case DebuggerAgent.ScopeType.Global:g=WebInspector.UIString("Global"),e=!0;break;default:console.error("Unknown scope type: "+f.type);continue}var h=e?void 0:new WebInspector.ScopeRef(d,void 0,this._remoteObject.objectId),i=WebInspector.ScopeRemoteObject.fromPayload(f.object,h);if(e){var j=WebInspector.RemoteObjectProperty.fromScopeValue(g,i);j.parentObject=null,this.appendChild(new this.treeOutline.section.treeElementConstructor(j))}else{var k=new WebInspector.ScopeTreeElement(g,null,i);this.appendChild(k)}}}(!this.children.length||this.shouldRefreshChildren)&&DebuggerAgent.getFunctionDetails(this._remoteObject.objectId,a.bind(this))},__proto__:TreeElement.prototype},WebInspector.ScopeTreeElement=function(a,b,c){TreeElement.call(this,a,null,!1),this.toggleOnClick=!0,this.selectable=!1,this._remoteObject=c,this.hasChildren=!0},WebInspector.ScopeTreeElement.prototype={onpopulate:function(){WebInspector.ObjectPropertyTreeElement.populate(this,this._remoteObject)},__proto__:TreeElement.prototype},WebInspector.ArrayGroupingTreeElement=function(a,b,c,d){TreeElement.call(this,String.sprintf("[%d … %d]",b,c),void 0,!0),this._fromIndex=b,this._toIndex=c,this._object=a,this._readOnly=!0,this._propertyCount=d,this._populated=!1},WebInspector.ArrayGroupingTreeElement._bucketThreshold=100,WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold=25e4,WebInspector.ArrayGroupingTreeElement._populateArray=function(a,b,c,d){WebInspector.ArrayGroupingTreeElement._populateRanges(a,b,c,d,!0)},WebInspector.ArrayGroupingTreeElement._populateRanges=function(a,b,c,d,e){function f(a,b,c,d){function e(c){if(d>b-a)for(var e=a;b>=e;++e)e in this&&c(e);else{h=h||Object.getOwnPropertyNames(this);for(var e=0;e<h.length;++e){var f=h[e],g=f>>>0;String(g)===f&&g>=a&&b>=g&&c(g)}}}function f(){++i}function g(a){-1===l&&(l=a),m=a,++i===j&&(k.push([l,m,i]),i=0,l=-1)}var h=null,i=0;e.call(this,f);var j=i;j=c>=i?i:Math.pow(c,Math.ceil(Math.log(i)/Math.log(c))-1);var k=[];i=0;var l=-1,m=0;return e.call(this,g),i>0&&k.push([l,m,i]),k}function g(c){if(1==c.length)WebInspector.ArrayGroupingTreeElement._populateAsFragment(a,b,c[0][0],c[0][1]);else for(var d=0;d<c.length;++d){var f=c[d][0],g=c[d][1],h=c[d][2];f==g?WebInspector.ArrayGroupingTreeElement._populateAsFragment(a,b,f,g):a.appendChild(new WebInspector.ArrayGroupingTreeElement(b,f,g,h))}e&&WebInspector.ArrayGroupingTreeElement._populateNonIndexProperties(a,b)}b.callFunctionJSON(f,[{value:c},{value:d},{value:WebInspector.ArrayGroupingTreeElement._bucketThreshold},{value:WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold}],g)},WebInspector.ArrayGroupingTreeElement._populateAsFragment=function(a,b,c,d){function e(a,b,c){var d=Object.create(null);if(c>b-a)for(var e=a;b>=e;++e)e in this&&(d[e]=this[e]);else for(var f=Object.getOwnPropertyNames(this),e=0;e<f.length;++e){var g=f[e],h=g>>>0;
String(h)===g&&h>=a&&b>=h&&(d[h]=this[h])}return d}function f(a,b){a&&!b&&a.getAllProperties(!1,g.bind(this))}function g(b){if(b){b.sort(WebInspector.ObjectPropertiesSection.CompareProperties);for(var c=0;c<b.length;++c){b[c].parentObject=this._object;var d=new a.treeOutline.section.treeElementConstructor(b[c]);d._readOnly=!0,a.appendChild(d)}}}b.callFunction(e,[{value:c},{value:d},{value:WebInspector.ArrayGroupingTreeElement._sparseIterationThreshold}],f.bind(this))},WebInspector.ArrayGroupingTreeElement._populateNonIndexProperties=function(a,b){function c(){for(var a=Object.create(this.__proto__),b=Object.getOwnPropertyNames(this),c=0;c<b.length;++c){var d=b[c];if(String(d>>>0)!==d||d>>>0===4294967295){var e=Object.getOwnPropertyDescriptor(this,d);e&&Object.defineProperty(a,d,e)}}return a}function d(a,b){a&&!b&&a.getOwnProperties(e.bind(this))}function e(b){if(b){b.sort(WebInspector.ObjectPropertiesSection.CompareProperties);for(var c=0;c<b.length;++c){b[c].parentObject=this._object;var d=new a.treeOutline.section.treeElementConstructor(b[c]);d._readOnly=!0,a.appendChild(d)}}}b.callFunction(c,void 0,d.bind(this))},WebInspector.ArrayGroupingTreeElement.prototype={onpopulate:function(){return this._populated?void 0:(this._populated=!0,this._propertyCount>=WebInspector.ArrayGroupingTreeElement._bucketThreshold?void WebInspector.ArrayGroupingTreeElement._populateRanges(this,this._object,this._fromIndex,this._toIndex,!1):void WebInspector.ArrayGroupingTreeElement._populateAsFragment(this,this._object,this._fromIndex,this._toIndex))},onattach:function(){this.listItemElement.classList.add("name")},__proto__:TreeElement.prototype},WebInspector.ObjectPropertyPrompt=function(a,b,c){WebInspector.TextPrompt.call(this,WebInspector.runtimeModel.completionsForTextPrompt.bind(WebInspector.runtimeModel)),this.setSuggestBoxEnabled("generic-suggest"),c&&this.renderAsBlock()},WebInspector.ObjectPropertyPrompt.prototype={__proto__:WebInspector.TextPrompt.prototype},WebInspector.ObjectPopoverHelper=function(a,b,c,d,e){WebInspector.PopoverHelper.call(this,a,b,this._showObjectPopover.bind(this),this._onHideObjectPopover.bind(this),e),this._queryObject=c,this._onHideCallback=d,this._popoverObjectGroup="popover",a.addEventListener("scroll",this.hidePopover.bind(this),!0)},WebInspector.ObjectPopoverHelper.prototype={setRemoteObjectFormatter:function(a){this._remoteObjectFormatter=a},_showObjectPopover:function(a,b){function c(a,c,d,e){if(d)return void console.error(d);var f=document.createElement("div");f.className="inline-block";var g=f.createChild("div","function-popover-title source-code"),h=g.createChild("span","function-name");h.textContent=e.functionName||WebInspector.UIString("(anonymous function)"),this._linkifier=new WebInspector.Linkifier;var i=e.location,j=this._linkifier.linkifyRawLocation(i,"function-location-link");j&&g.appendChild(j),f.appendChild(c),b.show(f,a)}function d(d,e,f){if(!b.disposed){if(e)return void this.hidePopover();var g=f||a,h=this._remoteObjectFormatter&&this._remoteObjectFormatter(d)||d.description,i=null;if("object"!==d.type){if(i=document.createElement("span"),i.className="monospace console-formatted-"+d.type,i.style.whiteSpace="pre",i.textContent=h,"function"===d.type)return void DebuggerAgent.getFunctionDetails(d.objectId,c.bind(this,g,i));"string"===d.type&&(i.textContent='"'+i.textContent+'"'),b.show(i,g)}else{"node"===d.subtype&&d.highlightAsDOMNode(),i=document.createElement("div"),this._titleElement=document.createElement("div"),this._titleElement.className="source-frame-popover-title monospace",this._titleElement.textContent=h,i.appendChild(this._titleElement);var j=new WebInspector.ObjectPropertiesSection(d);"HTML"===h.substr(0,4)&&(this._sectionUpdateProperties=j.updateProperties.bind(j),j.updateProperties=this._updateHTMLId.bind(this)),j.expanded=!0,j.element.classList.add("source-frame-popover-tree"),j.headerElement.classList.add("hidden"),i.appendChild(j.element);const k=300,l=250;b.show(i,g,k,l)}}}this._queryObject(a,d.bind(this),this._popoverObjectGroup)},_onHideObjectPopover:function(){WebInspector.domModel.hideDOMNodeHighlight(),this._linkifier&&(this._linkifier.reset(),delete this._linkifier),this._onHideCallback&&this._onHideCallback(),RuntimeAgent.releaseObjectGroup(this._popoverObjectGroup)},_updateHTMLId:function(a,b,c){for(var d=0;d<a.length;++d)if("id"===a[d].name){a[d].value.description&&(this._titleElement.textContent+="#"+a[d].value.description);break}this._sectionUpdateProperties(a,b,c)},__proto__:WebInspector.PopoverHelper.prototype},WebInspector.NativeBreakpointsSidebarPane=function(a){WebInspector.SidebarPane.call(this,a),this.registerRequiredCSS("breakpointsList.css"),this.listElement=document.createElement("ol"),this.listElement.className="breakpoint-list",this.emptyElement=document.createElement("div"),this.emptyElement.className="info",this.emptyElement.textContent=WebInspector.UIString("No Breakpoints"),this.bodyElement.appendChild(this.emptyElement)},WebInspector.NativeBreakpointsSidebarPane.prototype={_addListElement:function(a,b){b?this.listElement.insertBefore(a,b):(this.listElement.firstChild||(this.bodyElement.removeChild(this.emptyElement),this.bodyElement.appendChild(this.listElement)),this.listElement.appendChild(a))},_removeListElement:function(a){this.listElement.removeChild(a),this.listElement.firstChild||(this.bodyElement.removeChild(this.listElement),this.bodyElement.appendChild(this.emptyElement))},_reset:function(){this.listElement.removeChildren(),this.listElement.parentElement&&(this.bodyElement.removeChild(this.listElement),this.bodyElement.appendChild(this.emptyElement))},__proto__:WebInspector.SidebarPane.prototype},WebInspector.DOMBreakpointsSidebarPane=function(){WebInspector.NativeBreakpointsSidebarPane.call(this,WebInspector.UIString("DOM Breakpoints")),this._breakpointElements={},this._breakpointTypes={SubtreeModified:"subtree-modified",AttributeModified:"attribute-modified",NodeRemoved:"node-removed"},this._breakpointTypeLabels={},this._breakpointTypeLabels[this._breakpointTypes.SubtreeModified]=WebInspector.UIString("Subtree Modified"),this._breakpointTypeLabels[this._breakpointTypes.AttributeModified]=WebInspector.UIString("Attribute Modified"),this._breakpointTypeLabels[this._breakpointTypes.NodeRemoved]=WebInspector.UIString("Node Removed"),this._contextMenuLabels={},this._contextMenuLabels[this._breakpointTypes.SubtreeModified]=WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Subtree modifications":"Subtree Modifications"),this._contextMenuLabels[this._breakpointTypes.AttributeModified]=WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Attributes modifications":"Attributes Modifications"),this._contextMenuLabels[this._breakpointTypes.NodeRemoved]=WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Node removal":"Node Removal"),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.InspectedURLChanged,this._inspectedURLChanged,this),WebInspector.domModel.addEventListener(WebInspector.DOMModel.Events.NodeRemoved,this._nodeRemoved,this)},WebInspector.DOMBreakpointsSidebarPane.prototype={_inspectedURLChanged:function(a){this._breakpointElements={},this._reset();var b=a.data;this._inspectedURL=b.removeURLFragment()},populateNodeContextMenu:function(a,b){function c(b){d[b]?this._removeBreakpoint(a,b):this._setBreakpoint(a,b,!0),this._saveBreakpoints()}if(!a.pseudoType()){var d={};for(var e in this._breakpointElements){var f=this._breakpointElements[e];f._node===a&&(d[f._type]=!0)}var g=b.appendSubMenuItem(WebInspector.UIString("Break on..."));for(var h in this._breakpointTypes){var i=this._breakpointTypes[h],j=this._contextMenuLabels[i];g.appendCheckboxItem(j,c.bind(this,i),d[i])}}},createBreakpointHitStatusMessage:function(a,b){function c(c){c&&d.release(),this._doCreateBreakpointHitStatusMessage(a,c,b)}if(a.type===this._breakpointTypes.SubtreeModified){var d=WebInspector.RemoteObject.fromPayload(a.targetNode);d.pushNodeToFrontend(c.bind(this))}else this._doCreateBreakpointHitStatusMessage(a,null,b)},_doCreateBreakpointHitStatusMessage:function(a,b,c){function d(a,b){"string"==typeof b&&(b=document.createTextNode(b)),j.appendChild(b)}var e,f=this._breakpointTypeLabels[a.type],g=WebInspector.DOMPresentationUtils.linkifyNodeById(a.nodeId),h=[f,g],i="";b&&(i=WebInspector.DOMPresentationUtils.linkifyNodeById(b)),a.type===this._breakpointTypes.SubtreeModified?a.insertion?b!==a.nodeId?(e='Paused on a "%s" breakpoint set on %s, because a new child was added to its descendant %s.',h.push(i)):e='Paused on a "%s" breakpoint set on %s, because a new child was added to that node.':(e='Paused on a "%s" breakpoint set on %s, because its descendant %s was removed.',h.push(i)):e='Paused on a "%s" breakpoint set on %s.';var j=document.createElement("span"),k={s:function(a){return a}};WebInspector.formatLocalized(e,h,k,"",d),c(j)},_nodeRemoved:function(a){var b=a.data.node;this._removeBreakpointsForNode(a.data.node);var c=b.children();if(c){for(var d=0;d<c.length;++d)this._removeBreakpointsForNode(c[d]);this._saveBreakpoints()}},_removeBreakpointsForNode:function(a){for(var b in this._breakpointElements){var c=this._breakpointElements[b];c._node===a&&this._removeBreakpoint(c._node,c._type)}},_setBreakpoint:function(a,b,c){var d=this._createBreakpointId(a.id,b);if(!(d in this._breakpointElements)){var e=document.createElement("li");e._node=a,e._type=b,e.addEventListener("contextmenu",this._contextMenu.bind(this,a,b),!0);var f=document.createElement("input");f.className="checkbox-elem",f.type="checkbox",f.checked=c,f.addEventListener("click",this._checkboxClicked.bind(this,a,b),!1),e._checkboxElement=f,e.appendChild(f);var g=document.createElement("span");e.appendChild(g);var h=WebInspector.DOMPresentationUtils.linkifyNodeById(a.id);h.classList.add("monospace"),g.appendChild(h);var i=document.createElement("div");i.className="source-text",i.textContent=this._breakpointTypeLabels[b],g.appendChild(i);for(var j=this.listElement.firstChild;j&&!(j._type&&j._type<e._type);)j=j.nextSibling;this._addListElement(e,j),this._breakpointElements[d]=e,c&&DOMDebuggerAgent.setDOMBreakpoint(a.id,b)}},_removeAllBreakpoints:function(){for(var a in this._breakpointElements){var b=this._breakpointElements[a];this._removeBreakpoint(b._node,b._type)}this._saveBreakpoints()},_removeBreakpoint:function(a,b){var c=this._createBreakpointId(a.id,b),d=this._breakpointElements[c];d&&(this._removeListElement(d),delete this._breakpointElements[c],d._checkboxElement.checked&&DOMDebuggerAgent.removeDOMBreakpoint(a.id,b))},_contextMenu:function(a,b,c){function d(){this._removeBreakpoint(a,b),this._saveBreakpoints()}var e=new WebInspector.ContextMenu(c);e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Remove breakpoint":"Remove Breakpoint"),d.bind(this)),e.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Remove all DOM breakpoints":"Remove All DOM Breakpoints"),this._removeAllBreakpoints.bind(this)),e.show()},_checkboxClicked:function(a,b,c){c.target.checked?DOMDebuggerAgent.setDOMBreakpoint(a.id,b):DOMDebuggerAgent.removeDOMBreakpoint(a.id,b),this._saveBreakpoints()},highlightBreakpoint:function(a){var b=this._createBreakpointId(a.nodeId,a.type),c=this._breakpointElements[b];c&&(this.expand(),c.classList.add("breakpoint-hit"),this._highlightedElement=c)},clearBreakpointHighlight:function(){this._highlightedElement&&(this._highlightedElement.classList.remove("breakpoint-hit"),delete this._highlightedElement)},_createBreakpointId:function(a,b){return a+":"+b},_saveBreakpoints:function(){for(var a=[],b=WebInspector.settings.domBreakpoints.get(),c=0;c<b.length;++c){var d=b[c];d.url!==this._inspectedURL&&a.push(d)}for(var e in this._breakpointElements){var f=this._breakpointElements[e];a.push({url:this._inspectedURL,path:f._node.path(),type:f._type,enabled:f._checkboxElement.checked})}WebInspector.settings.domBreakpoints.set(a)},restoreBreakpoints:function(){function a(a,c){var d=c?WebInspector.domModel.nodeForId(c):null;if(d)for(var e=b[a],f=0;f<e.length;++f)this._setBreakpoint(d,e[f].type,e[f].enabled)}for(var b={},c=WebInspector.settings.domBreakpoints.get(),d=0;d<c.length;++d){var e=c[d];if(e.url===this._inspectedURL){var f=e.path;b[f]||(b[f]=[],WebInspector.domModel.pushNodeByPathToFrontend(f,a.bind(this,f))),b[f].push(e)}}},createProxy:function(a){var b=new WebInspector.DOMBreakpointsSidebarPane.Proxy(this,a);return this._proxies||(this._proxies=[]),this._proxies.push(b),b},onContentReady:function(){for(var a=0;a!=this._proxies.length;a++)this._proxies[a].onContentReady()},__proto__:WebInspector.NativeBreakpointsSidebarPane.prototype},WebInspector.DOMBreakpointsSidebarPane.Proxy=function(a,b){WebInspector.View._assert(!a.titleElement.firstChild,"Cannot create proxy for a sidebar pane with a toolbar"),WebInspector.SidebarPane.call(this,a.title()),this.registerRequiredCSS("breakpointsList.css"),this._wrappedPane=a,this._panel=b,this.bodyElement.remove(),this.bodyElement=this._wrappedPane.bodyElement},WebInspector.DOMBreakpointsSidebarPane.Proxy.prototype={expand:function(){this._wrappedPane.expand()},onContentReady:function(){this._panel.isShowing()&&this._reattachBody(),WebInspector.SidebarPane.prototype.onContentReady.call(this)},wasShown:function(){WebInspector.SidebarPane.prototype.wasShown.call(this),this._reattachBody()},_reattachBody:function(){this.bodyElement.parentNode!==this.element&&this.element.appendChild(this.bodyElement)},__proto__:WebInspector.SidebarPane.prototype},WebInspector.domBreakpointsSidebarPane,WebInspector.Color=function(a,b,c){this._rgba=a,this._originalText=c||null,this._format=b||null,"undefined"==typeof this._rgba[3]&&(this._rgba[3]=1);for(var d=0;4>d;++d)this._rgba[d]<0&&(this._rgba[d]=0),this._rgba[d]>1&&(this._rgba[d]=1)},WebInspector.Color.parse=function(a){var b=a.toLowerCase().replace(/\s+/g,""),c=/^(?:#([0-9a-f]{3,6})|rgb\(([^)]+)\)|(\w+)|hsl\(([^)]+)\))$/i,d=b.match(c);if(d){if(d[1]){var e,f=d[1].toUpperCase();3===f.length?(e=WebInspector.Color.Format.ShortHEX,f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)):e=WebInspector.Color.Format.HEX;var g=parseInt(f.substring(0,2),16),h=parseInt(f.substring(2,4),16),i=parseInt(f.substring(4,6),16);return new WebInspector.Color([g/255,h/255,i/255,1],e,a)}if(d[2]){var j=d[2].split(/\s*,\s*/),k=[WebInspector.Color._parseRgbNumeric(j[0]),WebInspector.Color._parseRgbNumeric(j[1]),WebInspector.Color._parseRgbNumeric(j[2]),1];return new WebInspector.Color(k,WebInspector.Color.Format.RGB,a)}if(d[3]){var l=d[3].toLowerCase();if(l in WebInspector.Color.Nicknames){var k=WebInspector.Color.Nicknames[l],m=WebInspector.Color.fromRGBA(k);return m._format=WebInspector.Color.Format.Nickname,m._originalText=l,m}return null}if(d[4]){var n=d[4].replace(/%/g,"").split(/\s*,\s*/),o=[WebInspector.Color._parseHueNumeric(n[0]),WebInspector.Color._parseSatLightNumeric(n[1]),WebInspector.Color._parseSatLightNumeric(n[2]),1],k=WebInspector.Color._hsl2rgb(o);return new WebInspector.Color(k,WebInspector.Color.Format.HSL,a)}return null}var p=/^(?:rgba\(([^)]+)\)|hsla\(([^)]+)\))$/;if(d=b.match(p)){if(d[1]){var q=d[1].split(/\s*,\s*/),k=[WebInspector.Color._parseRgbNumeric(q[0]),WebInspector.Color._parseRgbNumeric(q[1]),WebInspector.Color._parseRgbNumeric(q[2]),WebInspector.Color._parseAlphaNumeric(q[3])];return new WebInspector.Color(k,WebInspector.Color.Format.RGBA,a)}if(d[2]){var r=d[2].replace(/%/g,"").split(/\s*,\s*/),o=[WebInspector.Color._parseHueNumeric(r[0]),WebInspector.Color._parseSatLightNumeric(r[1]),WebInspector.Color._parseSatLightNumeric(r[2]),WebInspector.Color._parseAlphaNumeric(r[3])],k=WebInspector.Color._hsl2rgb(o);return new WebInspector.Color(k,WebInspector.Color.Format.HSLA,a)}}return null},WebInspector.Color.fromRGBA=function(a){return new WebInspector.Color([a[0]/255,a[1]/255,a[2]/255,a[3]])},WebInspector.Color.fromHSVA=function(a){var b=a[0],c=a[1],d=a[2],e=(2-c)*d;0===d||0===c?c=0:c*=d/(1>e?e:2-e);var f=[b,c,e/2,a[3]];return new WebInspector.Color(WebInspector.Color._hsl2rgb(f),WebInspector.Color.Format.HSLA)},WebInspector.Color.prototype={format:function(){return this._format},hsla:function(){if(this._hsla)return this._hsla;var a=this._rgba[0],b=this._rgba[1],c=this._rgba[2],d=Math.max(a,b,c),e=Math.min(a,b,c),f=d-e,g=d+e;if(e===d)var h=0;else if(a===d)var h=(1/6*(b-c)/f+1)%1;else if(b===d)var h=1/6*(c-a)/f+1/3;else var h=1/6*(a-b)/f+2/3;var i=.5*g;if(0===i)var j=0;else if(1===i)var j=1;else if(.5>=i)var j=f/g;else var j=f/(2-g);return this._hsla=[h,j,i,this._rgba[3]],this._hsla},hsva:function(){var a=this.hsla(),b=a[0],c=a[1],d=a[2];return c*=.5>d?d:1-d,[b,0!==c?2*c/(d+c):0,d+c,a[3]]},hasAlpha:function(){return 1!==this._rgba[3]},canBeShortHex:function(){if(this.hasAlpha())return!1;for(var a=0;3>a;++a){var b=Math.round(255*this._rgba[a]);if(b%17)return!1}return!0},toString:function(a){function b(a){return Math.round(255*a)}function c(a){var b=Math.round(255*a).toString(16);return 1===b.length?"0"+b:b}function d(a){return(Math.round(255*a)/17).toString(16)}switch(a||(a=this._format),a){case WebInspector.Color.Format.Original:return this._originalText;case WebInspector.Color.Format.RGB:return this.hasAlpha()?null:String.sprintf("rgb(%d, %d, %d)",b(this._rgba[0]),b(this._rgba[1]),b(this._rgba[2]));case WebInspector.Color.Format.RGBA:return String.sprintf("rgba(%d, %d, %d, %f)",b(this._rgba[0]),b(this._rgba[1]),b(this._rgba[2]),this._rgba[3]);case WebInspector.Color.Format.HSL:if(this.hasAlpha())return null;var e=this.hsla();return String.sprintf("hsl(%d, %d%, %d%)",Math.round(360*e[0]),Math.round(100*e[1]),Math.round(100*e[2]));case WebInspector.Color.Format.HSLA:var f=this.hsla();return String.sprintf("hsla(%d, %d%, %d%, %f)",Math.round(360*f[0]),Math.round(100*f[1]),Math.round(100*f[2]),f[3]);case WebInspector.Color.Format.HEX:return this.hasAlpha()?null:String.sprintf("#%s%s%s",c(this._rgba[0]),c(this._rgba[1]),c(this._rgba[2])).toUpperCase();case WebInspector.Color.Format.ShortHEX:return this.canBeShortHex()?String.sprintf("#%s%s%s",d(this._rgba[0]),d(this._rgba[1]),d(this._rgba[2])).toUpperCase():null;case WebInspector.Color.Format.Nickname:return this.nickname()}return this._originalText},_canonicalRGBA:function(){for(var a=new Array(3),b=0;3>b;++b)a[b]=Math.round(255*this._rgba[b]);return 1!==this._rgba[3]&&a.push(this._rgba[3]),a},nickname:function(){if(!WebInspector.Color._rgbaToNickname){WebInspector.Color._rgbaToNickname={};for(var a in WebInspector.Color.Nicknames){var b=WebInspector.Color.Nicknames[a];WebInspector.Color._rgbaToNickname[b]=a}}return WebInspector.Color._rgbaToNickname[this._canonicalRGBA()]||null},toProtocolRGBA:function(){var a=this._canonicalRGBA(),b={r:a[0],g:a[1],b:a[2]};return 1!==a[3]&&(b.a=a[3]),b},invert:function(){var a=[];return a[0]=1-this._rgba[0],a[1]=1-this._rgba[1],a[2]=1-this._rgba[2],a[3]=this._rgba[3],new WebInspector.Color(a)},setAlpha:function(a){var b=this._rgba.slice();return b[3]=a,new WebInspector.Color(b)}},WebInspector.Color._parseRgbNumeric=function(a){var b=parseInt(a,10);return b/=-1!==a.indexOf("%")?100:255},WebInspector.Color._parseHueNumeric=function(a){return isNaN(a)?0:parseFloat(a)/360%1},WebInspector.Color._parseSatLightNumeric=function(a){return parseFloat(a)/100},WebInspector.Color._parseAlphaNumeric=function(a){return isNaN(a)?0:parseFloat(a)},WebInspector.Color._hsl2rgb=function(a){function b(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var c=a[0],d=a[1],e=a[2];if(0>d&&(d=0),.5>=e)var f=e*(1+d);else var f=e+d-e*d;var g=2*e-f,h=c+1/3,i=c,j=c-1/3,k=b(g,f,h),l=b(g,f,i),m=b(g,f,j);return[k,l,m,a[3]]},WebInspector.Color.Nicknames={aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[237,20,61],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},WebInspector.Color.PageHighlight={Content:WebInspector.Color.fromRGBA([111,168,220,.66]),ContentLight:WebInspector.Color.fromRGBA([111,168,220,.5]),ContentOutline:WebInspector.Color.fromRGBA([9,83,148]),Padding:WebInspector.Color.fromRGBA([147,196,125,.55]),PaddingLight:WebInspector.Color.fromRGBA([147,196,125,.4]),Border:WebInspector.Color.fromRGBA([255,229,153,.66]),BorderLight:WebInspector.Color.fromRGBA([255,229,153,.5]),Margin:WebInspector.Color.fromRGBA([246,178,107,.66]),MarginLight:WebInspector.Color.fromRGBA([246,178,107,.5]),EventTarget:WebInspector.Color.fromRGBA([255,196,196,.66])},WebInspector.Color.Format={Original:"original",Nickname:"nickname",HEX:"hex",ShortHEX:"shorthex",RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla"},WebInspector.CSSMetadata=function(a){this._values=[],this._longhands={},this._shorthands={};for(var b=0;b<a.length;++b){var c=a[b];if("string"!=typeof c){var d=c.name;this._values.push(d);var e=a[b].longhands;if(e){this._longhands[d]=e;for(var f=0;f<e.length;++f){var g=e[f],h=this._shorthands[g];h||(h=[],this._shorthands[g]=h),h.push(d)}}}else this._values.push(c)}this._values.sort()},WebInspector.CSSMetadata.cssPropertiesMetainfo=new WebInspector.CSSMetadata([]),WebInspector.CSSMetadata.isColorAwareProperty=function(a){return WebInspector.CSSMetadata._colorAwareProperties[a]===!0},WebInspector.CSSMetadata.colors=function(){return WebInspector.CSSMetadata._colorsKeySet||(WebInspector.CSSMetadata._colorsKeySet=WebInspector.CSSMetadata._colors.keySet()),WebInspector.CSSMetadata._colorsKeySet},WebInspector.CSSMetadata.InheritedProperties=["azimuth","border-collapse","border-spacing","caption-side","color","cursor","direction","elevation","empty-cells","font-family","font-size","font-style","font-variant","font-weight","font","letter-spacing","line-height","list-style-image","list-style-position","list-style-type","list-style","orphans","pitch-range","pitch","quotes","resize","richness","speak-header","speak-numeral","speak-punctuation","speak","speech-rate","stress","text-align","text-indent","text-transform","text-shadow","visibility","voice-family","volume","white-space","widows","word-spacing","zoom"].keySet(),WebInspector.CSSMetadata.NonStandardInheritedProperties=["-webkit-font-smoothing"].keySet(),WebInspector.CSSMetadata.canonicalPropertyName=function(a){if(!a||a.length<9||"-"!==a.charAt(0))return a.toLowerCase();var b=a.match(/(?:-webkit-)(.+)/),c=WebInspector.CSSMetadata.cssPropertiesMetainfoKeySet(),d=WebInspector.CSSMetadata.cssPropertiesMetainfo._values.length>0;return!b||d&&!c.hasOwnProperty(b[1].toLowerCase())?a.toLowerCase():b[1].toLowerCase()},WebInspector.CSSMetadata.isPropertyInherited=function(a){return!(!WebInspector.CSSMetadata.InheritedProperties[WebInspector.CSSMetadata.canonicalPropertyName(a)]&&!WebInspector.CSSMetadata.NonStandardInheritedProperties[a.toLowerCase()])},WebInspector.CSSMetadata._colors=["aqua","black","blue","fuchsia","gray","green","lime","maroon","navy","olive","orange","purple","red","silver","teal","white","yellow","transparent","currentcolor","grey","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen"],WebInspector.CSSMetadata._colorAwareProperties=["background","background-color","background-image","border","border-color","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","box-shadow","color","fill","outline","outline-color","stroke","text-line-through-color","text-overline-color","text-shadow","text-underline-color","-webkit-box-shadow","-webkit-column-rule-color","-webkit-text-decoration-color","-webkit-text-emphasis","-webkit-text-emphasis-color"].keySet(),WebInspector.CSSMetadata._propertyDataMap={"table-layout":{values:["auto","fixed"]},visibility:{values:["hidden","visible","collapse"]},"background-repeat":{values:["repeat","repeat-x","repeat-y","no-repeat","space","round"]},content:{values:["list-item","close-quote","no-close-quote","no-open-quote","open-quote"]},"list-style-image":{values:["none"]},clear:{values:["none","left","right","both"]},"text-underline-mode":{values:["continuous","skip-white-space"]},"overflow-x":{values:["hidden","auto","visible","overlay","scroll"]},"stroke-linejoin":{values:["round","miter","bevel"]},"baseline-shift":{values:["baseline","sub","super"]},"border-bottom-width":{values:["medium","thick","thin"]},"marquee-speed":{values:["normal","slow","fast"]},"margin-top-collapse":{values:["collapse","separate","discard"]},"max-height":{values:["none"]},"box-orient":{values:["horizontal","vertical","inline-axis","block-axis"]},"font-stretch":{values:["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"]},"text-underline-style":{values:["none","dotted","dashed","solid","double","dot-dash","dot-dot-dash","wave"]},"text-overline-mode":{values:["continuous","skip-white-space"]},"-webkit-background-composite":{values:["highlight","clear","copy","source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","plus-darker","plus-lighter"]},"border-left-width":{values:["medium","thick","thin"]},"box-shadow":{values:["inset","none"]},"-webkit-writing-mode":{values:["lr","rl","tb","lr-tb","rl-tb","tb-rl","horizontal-tb","vertical-rl","vertical-lr","horizontal-bt"]},"text-line-through-mode":{values:["continuous","skip-white-space"]},"border-collapse":{values:["collapse","separate"]},"page-break-inside":{values:["auto","avoid"]},"border-top-width":{values:["medium","thick","thin"]},"outline-color":{values:["invert"]},"text-line-through-style":{values:["none","dotted","dashed","solid","double","dot-dash","dot-dot-dash","wave"]},"outline-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},cursor:{values:["none","copy","auto","crosshair","default","pointer","move","vertical-text","cell","context-menu","alias","progress","no-drop","not-allowed","-webkit-zoom-in","-webkit-zoom-out","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","text","wait","help","all-scroll","-webkit-grab","-webkit-grabbing"]},"border-width":{values:["medium","thick","thin"]},"border-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},size:{values:["a3","a4","a5","b4","b5","landscape","ledger","legal","letter","portrait"]},"background-size":{values:["contain","cover"]},direction:{values:["ltr","rtl"]},"marquee-direction":{values:["left","right","auto","reverse","forwards","backwards","ahead","up","down"]},"enable-background":{values:["accumulate","new"]},"float":{values:["none","left","right"]},"overflow-y":{values:["hidden","auto","visible","overlay","scroll"]},"margin-bottom-collapse":{values:["collapse","separate","discard"]},"box-reflect":{values:["left","right","above","below"]},overflow:{values:["hidden","auto","visible","overlay","scroll"]},"text-rendering":{values:["auto","optimizeSpeed","optimizeLegibility","geometricPrecision"]},"text-align":{values:["-webkit-auto","start","end","left","right","center","justify","-webkit-left","-webkit-right","-webkit-center"]},"list-style-position":{values:["outside","inside","hanging"]},"margin-bottom":{values:["auto"]},"color-interpolation":{values:["linearrgb"]},"background-origin":{values:["border-box","content-box","padding-box"]},"word-wrap":{values:["normal","break-word"]},"font-weight":{values:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},"margin-before-collapse":{values:["collapse","separate","discard"]},"text-overline-width":{values:["normal","medium","auto","thick","thin"]},"text-transform":{values:["none","capitalize","uppercase","lowercase"]},"border-right-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"border-left-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"-webkit-text-emphasis":{values:["circle","filled","open","dot","double-circle","triangle","sesame"]},"font-style":{values:["italic","oblique","normal"]},speak:{values:["none","normal","spell-out","digits","literal-punctuation","no-punctuation"]},"color-rendering":{values:["auto","optimizeSpeed","optimizeQuality"]},"list-style-type":{values:["none","inline","disc","circle","square","decimal","decimal-leading-zero","arabic-indic","binary","bengali","cambodian","khmer","devanagari","gujarati","gurmukhi","kannada","lower-hexadecimal","lao","malayalam","mongolian","myanmar","octal","oriya","persian","urdu","telugu","tibetan","thai","upper-hexadecimal","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","afar","ethiopic-halehame-aa-et","ethiopic-halehame-aa-er","amharic","ethiopic-halehame-am-et","amharic-abegede","ethiopic-abegede-am-et","cjk-earthly-branch","cjk-heavenly-stem","ethiopic","ethiopic-halehame-gez","ethiopic-abegede","ethiopic-abegede-gez","hangul-consonant","hangul","lower-norwegian","oromo","ethiopic-halehame-om-et","sidama","ethiopic-halehame-sid-et","somali","ethiopic-halehame-so-et","tigre","ethiopic-halehame-tig","tigrinya-er","ethiopic-halehame-ti-er","tigrinya-er-abegede","ethiopic-abegede-ti-er","tigrinya-et","ethiopic-halehame-ti-et","tigrinya-et-abegede","ethiopic-abegede-ti-et","upper-greek","upper-norwegian","asterisks","footnotes","hebrew","armenian","lower-armenian","upper-armenian","georgian","cjk-ideographic","hiragana","katakana","hiragana-iroha","katakana-iroha"]},"-webkit-text-combine":{values:["none","horizontal"]},outline:{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},font:{values:["caption","icon","menu","message-box","small-caption","-webkit-mini-control","-webkit-small-control","-webkit-control","status-bar","italic","oblique","small-caps","normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","xx-small","x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large","smaller","larger","serif","sans-serif","cursive","fantasy","monospace","-webkit-body","-webkit-pictograph"]},"dominant-baseline":{values:["middle","auto","central","text-before-edge","text-after-edge","ideographic","alphabetic","hanging","mathematical","use-script","no-change","reset-size"]},display:{values:["none","inline","block","list-item","run-in","compact","inline-block","table","inline-table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption","-webkit-box","-webkit-inline-box","flex","inline-flex","grid","inline-grid"]},"-webkit-text-emphasis-position":{values:["over","under"]},"image-rendering":{values:["auto","optimizeSpeed","optimizeQuality"]},"alignment-baseline":{values:["baseline","middle","auto","before-edge","after-edge","central","text-before-edge","text-after-edge","ideographic","alphabetic","hanging","mathematical"]},"outline-width":{values:["medium","thick","thin"]},"text-line-through-width":{values:["normal","medium","auto","thick","thin"]},"box-align":{values:["baseline","center","stretch","start","end"]},"border-right-width":{values:["medium","thick","thin"]},"border-top-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"line-height":{values:["normal"]},"text-overflow":{values:["clip","ellipsis"]},"overflow-wrap":{values:["normal","break-word"]},"box-direction":{values:["normal","reverse"]},"margin-after-collapse":{values:["collapse","separate","discard"]},"page-break-before":{values:["left","right","auto","always","avoid"]},"border-image":{values:["repeat","stretch"]},"text-decoration":{values:["blink","line-through","overline","underline"]},position:{values:["absolute","fixed","relative","static"]},"font-family":{values:["serif","sans-serif","cursive","fantasy","monospace","-webkit-body","-webkit-pictograph"]},"text-overflow-mode":{values:["clip","ellipsis"]},"border-bottom-style":{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"unicode-bidi":{values:["normal","bidi-override","embed","isolate","isolate-override","plaintext"]},"clip-rule":{values:["nonzero","evenodd"]},"margin-left":{values:["auto"]},"margin-top":{values:["auto"]},zoom:{values:["normal","document","reset"]},"text-overline-style":{values:["none","dotted","dashed","solid","double","dot-dash","dot-dot-dash","wave"]},"max-width":{values:["none"]},"caption-side":{values:["top","bottom"]},"empty-cells":{values:["hide","show"]},"pointer-events":{values:["none","all","auto","visible","visiblepainted","visiblefill","visiblestroke","painted","fill","stroke","bounding-box"]},"letter-spacing":{values:["normal"]},"background-clip":{values:["border-box","content-box","padding-box"]},"-webkit-font-smoothing":{values:["none","auto","antialiased","subpixel-antialiased"]},border:{values:["none","hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"font-size":{values:["xx-small","x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large","smaller","larger"]},"font-variant":{values:["small-caps","normal"]},"vertical-align":{values:["baseline","middle","sub","super","text-top","text-bottom","top","bottom","-webkit-baseline-middle"]},"marquee-style":{values:["none","scroll","slide","alternate"]},"white-space":{values:["normal","nowrap","pre","pre-line","pre-wrap"]},"text-underline-width":{values:["normal","medium","auto","thick","thin"]},"box-lines":{values:["single","multiple"]},"page-break-after":{values:["left","right","auto","always","avoid"]},"clip-path":{values:["none"]},margin:{values:["auto"]},"marquee-repetition":{values:["infinite"]},"margin-right":{values:["auto"]},"word-break":{values:["normal","break-all","break-word"]},"word-spacing":{values:["normal"]},"-webkit-text-emphasis-style":{values:["circle","filled","open","dot","double-circle","triangle","sesame"]},"-webkit-transform":{values:["scale","scaleX","scaleY","scale3d","rotate","rotateX","rotateY","rotateZ","rotate3d","skew","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","matrix","matrix3d","perspective"]},"image-resolution":{values:["from-image","snap"]},"box-sizing":{values:["content-box","padding-box","border-box"]},clip:{values:["auto"]},resize:{values:["none","both","horizontal","vertical"]},"align-content":{values:["flex-start","flex-end","center","space-between","space-around","stretch"]},"align-items":{values:["flex-start","flex-end","center","baseline","stretch"]},"align-self":{values:["auto","flex-start","flex-end","center","baseline","stretch"]},"flex-direction":{values:["row","row-reverse","column","column-reverse"]},"justify-content":{values:["flex-start","flex-end","center","space-between","space-around"]},"flex-wrap":{values:["nowrap","wrap","wrap-reverse"]},"-webkit-animation-timing-function":{values:["ease","linear","ease-in","ease-out","ease-in-out","step-start","step-end","steps","cubic-bezier"]},"-webkit-animation-direction":{values:["normal","reverse","alternate","alternate-reverse"]},"-webkit-animation-play-state":{values:["running","paused"]},"-webkit-animation-fill-mode":{values:["none","forwards","backwards","both"]},"-webkit-backface-visibility":{values:["visible","hidden"]},"-webkit-box-decoration-break":{values:["slice","clone"]},"-webkit-column-break-after":{values:["auto","always","avoid","left","right","page","column","avoid-page","avoid-column"]},"-webkit-column-break-before":{values:["auto","always","avoid","left","right","page","column","avoid-page","avoid-column"]},"-webkit-column-break-inside":{values:["auto","avoid","avoid-page","avoid-column"]},"-webkit-column-span":{values:["none","all"]},"-webkit-column-count":{values:["auto"]},"-webkit-column-gap":{values:["normal"]},"-webkit-line-break":{values:["auto","loose","normal","strict"]},"-webkit-perspective":{values:["none"]},"-webkit-perspective-origin":{values:["left","center","right","top","bottom"]},"text-align-last":{values:["auto","start","end","left","right","center","justify"]},"-webkit-text-decoration-line":{values:["none","underline","overline","line-through","blink"]},"-webkit-text-decoration-style":{values:["solid","double","dotted","dashed","wavy"]},"-webkit-text-decoration-skip":{values:["none","objects","spaces","ink","edges","box-decoration"]},"-webkit-transform-origin":{values:["left","center","right","top","bottom"]},"-webkit-transform-style":{values:["flat","preserve-3d"]},"-webkit-transition-timing-function":{values:["ease","linear","ease-in","ease-out","ease-in-out","step-start","step-end","steps","cubic-bezier"]},"-webkit-flex":{m:"flexbox"},"-webkit-flex-basis":{m:"flexbox"},"-webkit-flex-flow":{m:"flexbox"},"-webkit-flex-grow":{m:"flexbox"},"-webkit-flex-shrink":{m:"flexbox"},"-webkit-animation":{m:"animations"},"-webkit-animation-delay":{m:"animations"},"-webkit-animation-duration":{m:"animations"},"-webkit-animation-iteration-count":{m:"animations"},"-webkit-animation-name":{m:"animations"},"-webkit-column-rule":{m:"multicol"},"-webkit-column-rule-color":{m:"multicol",a:"crc"},"-webkit-column-rule-style":{m:"multicol",a:"crs"},"-webkit-column-rule-width":{m:"multicol",a:"crw"},"-webkit-column-width":{m:"multicol",a:"cw"},"-webkit-columns":{m:"multicol"},"-webkit-order":{m:"flexbox"},"-webkit-text-decoration-color":{m:"text-decor"},"-webkit-text-emphasis-color":{m:"text-decor"},"-webkit-transition":{m:"transitions"},"-webkit-transition-delay":{m:"transitions"},"-webkit-transition-duration":{m:"transitions"},"-webkit-transition-property":{m:"transitions"},background:{m:"background"},"background-attachment":{m:"background"},"background-color":{m:"background"},"background-image":{m:"background"},"background-position":{m:"background"},"background-position-x":{m:"background"},"background-position-y":{m:"background"},"background-repeat-x":{m:"background"},"background-repeat-y":{m:"background"},"border-top":{m:"background"},"border-right":{m:"background"},"border-bottom":{m:"background"},"border-left":{m:"background"},"border-radius":{m:"background"},bottom:{m:"visuren"},color:{m:"color",a:"foreground"},"counter-increment":{m:"generate"},"counter-reset":{m:"generate"},"grid-template-columns":{m:"grid"},"grid-template-rows":{m:"grid"},height:{m:"box"},"image-orientation":{m:"images"},left:{m:"visuren"},"list-style":{m:"lists"},"min-height":{m:"box"},"min-width":{m:"box"},opacity:{m:"color",a:"transparency"},orphans:{m:"page"},"outline-offset":{m:"ui"},padding:{m:"box",a:"padding1"},"padding-bottom":{m:"box"},"padding-left":{m:"box"},"padding-right":{m:"box"},"padding-top":{m:"box"},page:{m:"page"},quotes:{m:"generate"},right:{m:"visuren"},"tab-size":{m:"text"},"text-indent":{m:"text"},"text-shadow":{m:"text-decor"},top:{m:"visuren"},"unicode-range":{m:"fonts",a:"descdef-unicode-range"},widows:{m:"page"},width:{m:"box"},"z-index":{m:"visuren"}},WebInspector.CSSMetadata.keywordsForProperty=function(a){var b=["inherit","initial"],c=WebInspector.CSSMetadata.descriptor(a);
return c&&c.values&&b.push.apply(b,c.values),a in WebInspector.CSSMetadata._colorAwareProperties&&b.push.apply(b,WebInspector.CSSMetadata._colors),new WebInspector.CSSMetadata(b)},WebInspector.CSSMetadata.descriptor=function(a){if(!a)return null;var b=a.replace(/^-webkit-/,""),c=WebInspector.CSSMetadata._propertyDataMap[a];return c||b===a||(c=WebInspector.CSSMetadata._propertyDataMap[b]),c||null},WebInspector.CSSMetadata.initializeWithSupportedProperties=function(a){WebInspector.CSSMetadata.cssPropertiesMetainfo=new WebInspector.CSSMetadata(a)},WebInspector.CSSMetadata.cssPropertiesMetainfoKeySet=function(){return WebInspector.CSSMetadata._cssPropertiesMetainfoKeySet||(WebInspector.CSSMetadata._cssPropertiesMetainfoKeySet=WebInspector.CSSMetadata.cssPropertiesMetainfo.keySet()),WebInspector.CSSMetadata._cssPropertiesMetainfoKeySet},WebInspector.CSSMetadata.Weight={"-webkit-animation":1,"-webkit-animation-duration":1,"-webkit-animation-iteration-count":1,"-webkit-animation-name":1,"-webkit-animation-timing-function":1,"-webkit-appearance":1,"-webkit-background-clip":2,"-webkit-border-horizontal-spacing":1,"-webkit-border-vertical-spacing":1,"-webkit-box-shadow":24,"-webkit-font-smoothing":2,"-webkit-transform":1,"-webkit-transition":8,"-webkit-transition-delay":7,"-webkit-transition-duration":7,"-webkit-transition-property":7,"-webkit-transition-timing-function":6,"-webkit-user-select":1,background:222,"background-attachment":144,"background-clip":143,"background-color":222,"background-image":201,"background-origin":142,"background-size":25,border:121,"border-bottom":121,"border-bottom-color":121,"border-bottom-left-radius":50,"border-bottom-right-radius":50,"border-bottom-style":114,"border-bottom-width":120,"border-collapse":3,"border-left":95,"border-left-color":95,"border-left-style":89,"border-left-width":94,"border-radius":50,"border-right":93,"border-right-color":93,"border-right-style":88,"border-right-width":93,"border-top":111,"border-top-color":111,"border-top-left-radius":49,"border-top-right-radius":49,"border-top-style":104,"border-top-width":109,bottom:16,"box-shadow":25,"box-sizing":2,clear:23,color:237,cursor:34,direction:4,display:210,fill:2,filter:1,"float":105,font:174,"font-family":25,"font-size":174,"font-style":9,"font-weight":89,height:161,left:54,"letter-spacing":3,"line-height":75,"list-style":17,"list-style-image":8,"list-style-position":8,"list-style-type":17,margin:241,"margin-bottom":226,"margin-left":225,"margin-right":213,"margin-top":241,"max-height":5,"max-width":11,"min-height":9,"min-width":6,opacity:24,outline:10,"outline-color":10,"outline-style":10,"outline-width":10,overflow:57,"overflow-x":56,"overflow-y":57,padding:216,"padding-bottom":208,"padding-left":216,"padding-right":206,"padding-top":216,position:136,resize:1,right:29,stroke:1,"stroke-width":1,"table-layout":1,"text-align":66,"text-decoration":53,"text-indent":9,"text-overflow":8,"text-shadow":19,"text-transform":5,top:71,"unicode-bidi":1,"vertical-align":37,visibility:11,"white-space":24,width:255,"word-wrap":6,"z-index":32,zoom:10},WebInspector.CSSMetadata.prototype={startsWith:function(a){var b=this._firstIndexOfPrefix(a);if(-1===b)return[];for(var c=[];b<this._values.length&&this._values[b].startsWith(a);)c.push(this._values[b++]);return c},mostUsedOf:function(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=WebInspector.CSSMetadata.Weight[a[d]];e>b&&(b=e,c=d)}return c},_firstIndexOfPrefix:function(a){if(!this._values.length)return-1;if(!a)return 0;var b,c=this._values.length-1,d=0;do{var e=c+d>>1;if(this._values[e].startsWith(a)){b=e;break}this._values[e]<a?d=e+1:c=e-1}while(c>=d);if(void 0===b)return-1;for(;b&&this._values[b-1].startsWith(a);)b--;return b},keySet:function(){return this._keySet||(this._keySet=this._values.keySet()),this._keySet},next:function(a,b){return this._closest(a,b,1)},previous:function(a,b){return this._closest(a,b,-1)},_closest:function(a,b,c){if(!a)return"";var d=this._values.indexOf(a);if(-1===d)return"";if(!b)return d=(d+this._values.length+c)%this._values.length,this._values[d];var e=this.startsWith(b),f=e.indexOf(a);return f=(f+e.length+c)%e.length,e[f]},longhands:function(a){return this._longhands[a]},shorthands:function(a){return this._shorthands[a]}},WebInspector.CSSMetadata.initializeWithSupportedProperties([]),WebInspector.CSSMetadata.initializeWithSupportedProperties([{name:"-webkit-animation-iteration-count"},{name:"-webkit-logical-height"},{name:"-webkit-text-emphasis-position"},{name:"-webkit-text-emphasis-style"},{name:"text-underline-position"},{longhands:["-webkit-column-rule-width","-webkit-column-rule-style","-webkit-column-rule-color"],name:"-webkit-column-rule"},{name:"buffered-rendering"},{name:"-webkit-appearance"},{name:"outline-width"},{name:"alignment-baseline"},{name:"glyph-orientation-vertical"},{name:"text-line-through-color"},{longhands:["-webkit-border-after-width","-webkit-border-after-style","-webkit-border-after-color"],name:"-webkit-border-after"},{name:"-webkit-column-break-inside"},{name:"-webkit-print-color-adjust"},{name:"list-style-type"},{name:"page-break-before"},{name:"flood-color"},{name:"text-anchor"},{name:"-webkit-padding-start"},{name:"-webkit-column-rule-color"},{name:"padding-left"},{name:"shape-outside"},{name:"-webkit-margin-before"},{name:"-webkit-background-composite"},{name:"perspective"},{name:"-webkit-animation-play-state"},{name:"border-image-repeat"},{name:"-webkit-font-size-delta"},{name:"border-right-style"},{name:"border-left-style"},{longhands:["flex-direction","flex-wrap"],name:"flex-flow"},{name:"outline-color"},{name:"flex-grow"},{name:"max-width"},{longhands:["grid-column-start","grid-column-end"],name:"grid-column"},{name:"animation-duration"},{longhands:["-webkit-column-width","-webkit-column-count"],name:"-webkit-columns"},{name:"-webkit-box-flex-group"},{name:"-webkit-animation-delay"},{name:"flex-shrink"},{name:"text-rendering"},{name:"align-items"},{name:"border-collapse"},{name:"-webkit-mask-position-x"},{name:"-webkit-mask-position-y"},{name:"outline-style"},{name:"-webkit-margin-bottom-collapse"},{name:"color-interpolation-filters"},{name:"kerning"},{name:"font-variant"},{name:"-webkit-animation-fill-mode"},{longhands:["border-right-width","border-right-style","border-right-color"],name:"border-right"},{name:"touch-action-delay"},{name:"visibility"},{name:"-internal-marquee-speed"},{name:"-webkit-border-before-style"},{name:"resize"},{name:"-webkit-rtl-ordering"},{name:"-webkit-box-ordinal-group"},{name:"paint-order"},{name:"stroke-linecap"},{name:"animation-direction"},{name:"-internal-marquee-direction"},{name:"-webkit-background-size"},{name:"border-top-left-radius"},{name:"-webkit-column-width"},{name:"-webkit-box-align"},{name:"-webkit-padding-after"},{longhands:["list-style-type","list-style-position","list-style-image"],name:"list-style"},{name:"-webkit-mask-repeat-y"},{name:"-webkit-margin-before-collapse"},{name:"stroke"},{name:"text-decoration-line"},{name:"-webkit-font-feature-settings"},{name:"-webkit-mask-repeat-x"},{name:"padding-bottom"},{name:"font-style"},{name:"-webkit-transition-delay"},{longhands:["background-repeat-x","background-repeat-y"],name:"background-repeat"},{name:"flex-basis"},{name:"-webkit-margin-after"},{longhands:["-webkit-transform-origin-x","-webkit-transform-origin-y","-webkit-transform-origin-z"],name:"-webkit-transform-origin"},{name:"border-image-slice"},{name:"vector-effect"},{name:"-webkit-animation-timing-function"},{name:"text-underline-style"},{name:"-webkit-border-after-style"},{name:"-webkit-perspective-origin-x"},{name:"-webkit-perspective-origin-y"},{longhands:["outline-color","outline-style","outline-width"],name:"outline"},{name:"table-layout"},{longhands:["text-decoration-line","text-decoration-style","text-decoration-color"],name:"text-decoration"},{name:"transition-duration"},{name:"order"},{name:"-webkit-box-orient"},{name:"counter-reset"},{name:"flood-opacity"},{name:"flex-direction"},{name:"-webkit-text-stroke-width"},{name:"min-height"},{longhands:["-webkit-mask-box-image-source","-webkit-mask-box-image-slice","-webkit-mask-box-image-width","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat"],name:"-webkit-mask-box-image"},{name:"left"},{longhands:["-webkit-mask-image","-webkit-mask-position-x","-webkit-mask-position-y","-webkit-mask-size","-webkit-mask-repeat-x","-webkit-mask-repeat-y","-webkit-mask-origin","-webkit-mask-clip"],name:"-webkit-mask"},{name:"-webkit-border-after-width"},{name:"stroke-width"},{name:"-webkit-box-decoration-break"},{longhands:["-webkit-mask-position-x","-webkit-mask-position-y"],name:"-webkit-mask-position"},{name:"background-origin"},{name:"-webkit-border-start-color"},{name:"grid-auto-flow"},{name:"-webkit-background-clip"},{name:"-webkit-border-horizontal-spacing"},{longhands:["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],name:"border-radius"},{longhands:["flex-grow","flex-shrink","flex-basis"],name:"flex"},{name:"text-indent"},{name:"text-transform"},{name:"text-line-through-mode"},{name:"font-size"},{name:"-webkit-animation-name"},{longhands:["-webkit-text-stroke-width","-webkit-text-stroke-color"],name:"-webkit-text-stroke"},{name:"padding-top"},{name:"-webkit-border-end-width"},{name:"-webkit-text-combine"},{name:"grid-template-rows"},{name:"content"},{name:"padding-right"},{name:"-webkit-transform"},{name:"marker-mid"},{name:"-webkit-min-logical-width"},{name:"clip-rule"},{name:"text-overline-width"},{name:"font-family"},{longhands:["transition-property","transition-duration","transition-timing-function","transition-delay"],name:"transition"},{name:"-webkit-border-fit"},{name:"filter"},{name:"border-right-width"},{name:"-webkit-mask-composite"},{name:"-webkit-line-box-contain"},{name:"color-interpolation"},{name:"border-top-style"},{name:"fill-opacity"},{name:"marker-start"},{name:"border-bottom-width"},{longhands:["-webkit-text-emphasis-style","-webkit-text-emphasis-color"],name:"-webkit-text-emphasis"},{longhands:["grid-row-start","grid-column-start","grid-row-end","grid-column-end"],name:"grid-area"},{name:"size"},{name:"background-clip"},{name:"-webkit-text-fill-color"},{name:"top"},{name:"-webkit-box-reflect"},{longhands:["border-top-width","border-right-width","border-bottom-width","border-left-width"],name:"border-width"},{name:"-webkit-column-rule-style"},{name:"-webkit-column-count"},{name:"animation-play-state"},{longhands:["padding-top","padding-right","padding-bottom","padding-left"],name:"padding"},{name:"dominant-baseline"},{name:"background-attachment"},{name:"-webkit-box-flex"},{name:"-webkit-border-start-width"},{name:"isolation"},{name:"color-rendering"},{name:"border-left-width"},{name:"grid-column-end"},{name:"background-blend-mode"},{name:"vertical-align"},{name:"-webkit-max-logical-height"},{name:"grid-auto-rows"},{name:"shape-padding"},{name:"-internal-marquee-increment"},{name:"margin-left"},{name:"animation-name"},{name:"border-image-source"},{longhands:["border-top-color","border-top-style","border-top-width","border-right-color","border-right-style","border-right-width","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width"],name:"border"},{name:"-webkit-transition-timing-function"},{name:"-webkit-wrap-flow"},{name:"margin-bottom"},{name:"unicode-range"},{longhands:["animation-name","animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction","animation-fill-mode","animation-play-state"],name:"animation"},{name:"glyph-orientation-horizontal"},{name:"font-weight"},{name:"shape-margin"},{name:"-webkit-margin-end"},{name:"object-position"},{name:"page-break-after"},{name:"transition-property"},{name:"white-space"},{name:"-webkit-border-after-color"},{name:"-webkit-transform-origin-x"},{name:"-webkit-max-logical-width"},{name:"-webkit-border-before-color"},{name:"font-kerning"},{name:"clear"},{name:"animation-timing-function"},{longhands:["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],name:"-webkit-border-radius"},{name:"text-underline-mode"},{name:"-webkit-text-decorations-in-effect"},{name:"-webkit-animation-direction"},{name:"justify-self"},{name:"transition-timing-function"},{name:"counter-increment"},{name:"-webkit-transform-style"},{name:"grid-auto-columns"},{longhands:["font-family","font-size","font-style","font-variant","font-weight","line-height"],name:"font"},{name:"flex-wrap"},{name:"grid-row-start"},{name:"list-style-image"},{name:"-webkit-tap-highlight-color"},{name:"-webkit-text-emphasis-color"},{longhands:["border-left-width","border-left-style","border-left-color"],name:"border-left"},{name:"-webkit-border-end-color"},{name:"-internal-callback"},{name:"box-shadow"},{name:"align-self"},{longhands:["border-bottom-width","border-bottom-style","border-bottom-color"],name:"border-bottom"},{longhands:["-webkit-border-horizontal-spacing","-webkit-border-vertical-spacing"],name:"border-spacing"},{name:"text-underline-color"},{name:"text-line-through-style"},{name:"-webkit-column-span"},{name:"grid-row-end"},{longhands:["-webkit-border-end-width","-webkit-border-end-style","-webkit-border-end-color"],name:"-webkit-border-end"},{name:"perspective-origin"},{name:"page-break-inside"},{name:"orphans"},{name:"-webkit-border-start-style"},{name:"scroll-behavior"},{name:"-webkit-hyphenate-character"},{name:"column-fill"},{name:"tab-size"},{name:"border-bottom-color"},{name:"border-bottom-right-radius"},{name:"line-height"},{name:"stroke-linejoin"},{name:"text-align-last"},{name:"text-overline-mode"},{name:"word-spacing"},{name:"transform-style"},{name:"-webkit-app-region"},{name:"-webkit-border-end-style"},{name:"-webkit-transform-origin-z"},{name:"-webkit-aspect-ratio"},{name:"-webkit-transform-origin-y"},{name:"background-repeat-x"},{name:"background-repeat-y"},{longhands:["grid-row-start","grid-row-end"],name:"grid-row"},{name:"-webkit-ruby-position"},{name:"-webkit-logical-width"},{longhands:["border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat"],name:"border-image"},{name:"caption-side"},{name:"mask-source-type"},{name:"-webkit-mask-box-image-slice"},{name:"-webkit-border-image"},{name:"-webkit-text-security"},{name:"-webkit-mask-box-image-repeat"},{longhands:["-webkit-mask-repeat-x","-webkit-mask-repeat-y"],name:"-webkit-mask-repeat"},{name:"baseline-shift"},{name:"text-justify"},{name:"text-decoration-color"},{name:"color"},{name:"shape-image-threshold"},{longhands:["min-height","max-height"],name:"height"},{name:"margin-right"},{name:"color-profile"},{name:"speak"},{name:"border-bottom-left-radius"},{name:"-webkit-column-break-after"},{name:"-webkit-font-smoothing"},{name:"clip"},{name:"-webkit-line-break"},{name:"fill-rule"},{name:"-webkit-margin-start"},{name:"min-width"},{name:"-webkit-column-gap"},{name:"empty-cells"},{name:"direction"},{name:"clip-path"},{name:"-webkit-wrap-through"},{name:"justify-content"},{name:"z-index"},{name:"background-position-y"},{name:"text-decoration-style"},{name:"grid-template-areas"},{name:"-webkit-min-logical-height"},{name:"-webkit-user-select"},{name:"cursor"},{name:"-webkit-mask-box-image-source"},{longhands:["margin-top","margin-right","margin-bottom","margin-left"],name:"margin"},{longhands:["-webkit-animation-name","-webkit-animation-duration","-webkit-animation-timing-function","-webkit-animation-delay","-webkit-animation-iteration-count","-webkit-animation-direction","-webkit-animation-fill-mode","-webkit-animation-play-state"],name:"-webkit-animation"},{name:"letter-spacing"},{name:"orientation"},{name:"will-change"},{name:"mix-blend-mode"},{name:"text-line-through-width"},{name:"-webkit-highlight"},{name:"transform-origin"},{name:"font-variant-ligatures"},{name:"-webkit-animation-duration"},{name:"text-overline-color"},{name:"-webkit-mask-origin"},{name:"-webkit-clip-path"},{name:"word-break"},{longhands:["-webkit-border-before-width","-webkit-border-before-style","-webkit-border-before-color"],name:"-webkit-border-before"},{name:"text-overflow"},{name:"-webkit-locale"},{name:"font-stretch"},{name:"border-top-right-radius"},{name:"border-image-outset"},{name:"fill"},{name:"touch-action"},{name:"border-right-color"},{name:"min-zoom"},{name:"-webkit-border-before-width"},{name:"backface-visibility"},{name:"background-image"},{name:"-webkit-transition-property"},{name:"writing-mode"},{name:"stroke-opacity"},{name:"box-sizing"},{name:"margin-top"},{name:"position"},{name:"enable-background"},{name:"list-style-position"},{name:"-webkit-box-pack"},{name:"quotes"},{longhands:["border-top-width","border-top-style","border-top-color"],name:"border-top"},{longhands:["-webkit-transition-property","-webkit-transition-duration","-webkit-transition-timing-function","-webkit-transition-delay"],name:"-webkit-transition"},{name:"-webkit-column-break-before"},{name:"lighting-color"},{name:"background-size"},{name:"-webkit-mask-size"},{name:"animation-fill-mode"},{name:"-webkit-filter"},{name:"word-wrap"},{name:"max-zoom"},{name:"text-overline-style"},{longhands:["background-image","background-position-x","background-position-y","background-size","background-repeat-x","background-repeat-y","background-attachment","background-origin","background-clip","background-color"],name:"background"},{name:"-webkit-padding-before"},{name:"grid-column-start"},{name:"text-align"},{name:"marker-end"},{name:"zoom"},{longhands:["-webkit-margin-before-collapse","-webkit-margin-after-collapse"],name:"-webkit-margin-collapse"},{name:"-webkit-margin-top-collapse"},{name:"page"},{name:"right"},{name:"-webkit-user-modify"},{longhands:["marker-start","marker-mid","marker-end"],name:"marker"},{name:"mask-type"},{name:"-webkit-transition-duration"},{name:"-webkit-writing-mode"},{name:"border-top-width"},{name:"bottom"},{name:"-webkit-user-drag"},{name:"-webkit-border-vertical-spacing"},{name:"background-color"},{name:"-webkit-backface-visibility"},{name:"-webkit-padding-end"},{longhands:["-webkit-border-start-width","-webkit-border-start-style","-webkit-border-start-color"],name:"-webkit-border-start"},{name:"animation-delay"},{name:"unicode-bidi"},{name:"text-shadow"},{name:"-webkit-box-direction"},{name:"image-rendering"},{name:"src"},{name:"-internal-marquee-repetition"},{name:"pointer-events"},{name:"border-image-width"},{name:"-webkit-mask-clip"},{name:"-webkit-mask-image"},{name:"float"},{name:"max-height"},{name:"outline-offset"},{name:"-webkit-box-shadow"},{name:"overflow-wrap"},{name:"-internal-marquee-style"},{name:"transform"},{longhands:["min-width","max-width"],name:"width"},{name:"stroke-miterlimit"},{name:"stop-opacity"},{name:"border-top-color"},{longhands:["background-position-x","background-position-y"],name:"background-position"},{name:"object-fit"},{name:"-webkit-mask-box-image-width"},{name:"-webkit-background-origin"},{name:"transition-delay"},{longhands:["border-top-style","border-right-style","border-bottom-style","border-left-style"],name:"border-style"},{name:"animation-iteration-count"},{name:"-webkit-margin-after-collapse"},{longhands:["overflow-x","overflow-y"],name:"overflow"},{name:"user-zoom"},{name:"grid-template-columns"},{name:"-webkit-perspective-origin"},{name:"display"},{name:"-webkit-column-rule-width"},{name:"-webkit-box-lines"},{longhands:["border-top-color","border-right-color","border-bottom-color","border-left-color"],name:"border-color"},{name:"stroke-dashoffset"},{name:"widows"},{name:"border-left-color"},{name:"overflow-y"},{name:"overflow-x"},{name:"shape-rendering"},{name:"opacity"},{name:"-webkit-perspective"},{name:"text-underline-width"},{name:"-webkit-text-stroke-color"},{name:"-webkit-text-orientation"},{name:"-webkit-mask-box-image-outset"},{name:"align-content"},{name:"border-bottom-style"},{name:"mask"},{name:"background-position-x"},{name:"stop-color"},{name:"stroke-dasharray"},{name:"-webkit-line-clamp"}]),WebInspector.StatusBarItem=function(a){this.element=document.createElement(a),this._enabled=!0,this._visible=!0},WebInspector.StatusBarItem.prototype={setEnabled:function(a){this._enabled!==a&&(this._enabled=a,this._applyEnabledState())},_applyEnabledState:function(){this.element.disabled=!this._enabled},get visible(){return this._visible},set visible(a){this._visible!==a&&(this.element.classList.toggle("hidden",!a),this._visible=a)},__proto__:WebInspector.Object.prototype},WebInspector.StatusBarText=function(a,b){WebInspector.StatusBarItem.call(this,"span"),this.element.className="status-bar-item status-bar-text",b&&this.element.classList.add(b),this.element.textContent=a},WebInspector.StatusBarText.prototype={setText:function(a){this.element.textContent=a},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarInput=function(a,b){WebInspector.StatusBarItem.call(this,"input"),this.element.className="status-bar-item",this.element.addEventListener("input",this._onChangeCallback.bind(this),!1),b&&(this.element.style.width=b+"px"),a&&this.element.setAttribute("placeholder",a)},WebInspector.StatusBarInput.prototype={setOnChangeHandler:function(a){this._onChangeHandler=a},setValue:function(a){this.element.value=a,this._onChangeCallback()},_onChangeCallback:function(){this._onChangeHandler&&this._onChangeHandler(this.element.value)},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarButton=function(a,b,c){WebInspector.StatusBarItem.call(this,"button"),this.element.className=b+" status-bar-item",this.element.addEventListener("click",this._clicked.bind(this),!1),this.glyph=document.createElement("div"),this.glyph.className="glyph",this.element.appendChild(this.glyph),this.glyphShadow=document.createElement("div"),this.glyphShadow.className="glyph shadow",this.element.appendChild(this.glyphShadow),this.states=c,c||(this.states=2),this._state=2==c?!1:0,this.title=a,this.className=b},WebInspector.StatusBarButton.prototype={_clicked:function(){this.dispatchEventToListeners("click"),this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)},_applyEnabledState:function(){this.element.disabled=!this._enabled,this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)},enabled:function(){return this._enabled},get title(){return this._title},set title(a){this._title!==a&&(this._title=a,this.element.title=a)},get state(){return this._state},set state(a){this._state!==a&&(2===this.states?this.element.classList.toggle("toggled-on",a):(this.element.classList.remove("toggled-"+this._state),0!==a&&this.element.classList.add("toggled-"+a)),this._state=a)},get toggled(){if(2!==this.states)throw"Only used toggled when there are 2 states, otherwise, use state";return this.state},set toggled(a){if(2!==this.states)throw"Only used toggled when there are 2 states, otherwise, use state";this.state=a},makeLongClickEnabled:function(){function a(a){1===a.which&&(f=0,this._longClickInterval=setInterval(c.bind(this),200))}function b(a){1===a.which&&this._longClickInterval&&(clearInterval(this._longClickInterval),delete this._longClickInterval)}function c(){++f,this.dispatchEventToListeners(1===f?"longClickDown":"longClickPress")}var d=a.bind(this),e=b.bind(this);this.element.addEventListener("mousedown",d,!1),this.element.addEventListener("mouseout",e,!1),this.element.addEventListener("mouseup",e,!1);var f=0;this._longClickData={mouseUp:e,mouseDown:d}},unmakeLongClickEnabled:function(){this._longClickData&&(this.element.removeEventListener("mousedown",this._longClickData.mouseDown,!1),this.element.removeEventListener("mouseout",this._longClickData.mouseUp,!1),this.element.removeEventListener("mouseup",this._longClickData.mouseUp,!1),delete this._longClickData)},setLongClickOptionsEnabled:function(a){if(a){if(!this._longClickOptionsData){this.makeLongClickEnabled(),this.longClickGlyph=document.createElement("div"),this.longClickGlyph.className="fill long-click-glyph",this.element.appendChild(this.longClickGlyph),this.longClickGlyphShadow=document.createElement("div"),this.longClickGlyphShadow.className="fill long-click-glyph shadow",this.element.appendChild(this.longClickGlyphShadow);var b=this._showOptions.bind(this);this.addEventListener("longClickDown",b,this),this._longClickOptionsData={glyphElement:this.longClickGlyph,glyphShadowElement:this.longClickGlyphShadow,longClickDownListener:b}}this._longClickOptionsData.buttonsProvider=a}else{if(!this._longClickOptionsData)return;this.element.removeChild(this._longClickOptionsData.glyphElement),this.element.removeChild(this._longClickOptionsData.glyphShadowElement),this.removeEventListener("longClickDown",this._longClickOptionsData.longClickDownListener,this),delete this._longClickOptionsData,this.unmakeLongClickEnabled()}},_showOptions:function(){function a(a){if(1===a.which){var b=a.target.enclosingNodeOrSelfWithClass("status-bar-item");b.classList.add("emulate-active")}}function b(a){if(1===a.which){var b=a.target.enclosingNodeOrSelfWithClass("status-bar-item");b.classList.remove("emulate-active")}}function c(a){if(1===a.which){f.dispose(),document.documentElement.removeEventListener("mouseup",c,!1);for(var b=0;b<d.length;++b)if(d[b].element.classList.contains("emulate-active")){d[b].element.classList.remove("emulate-active"),d[b]._clicked();break}}}var d=this._longClickOptionsData.buttonsProvider(),e=new WebInspector.StatusBarButton(this.title,this.className,this.states);e.addEventListener("click",this._clicked,this),e.state=this.state,d.push(e),document.documentElement.addEventListener("mouseup",c,!1);var f=new WebInspector.GlassPane,g=f.element.createChild("div","alternate-status-bar-buttons-bar");const h=23;var i=this.element.totalOffset(),j=i.top+h*d.length<document.documentElement.offsetHeight;j&&(d=d.reverse()),g.style.height=h*d.length+"px",g.style.top=j?i.top+1+"px":i.top-h*(d.length-1)+"px",g.style.left=i.left+1+"px";for(var k=0;k<d.length;++k)d[k].element.addEventListener("mousemove",a,!1),d[k].element.addEventListener("mouseout",b,!1),g.appendChild(d[k].element);var l=j?0:d.length-1;d[l].element.classList.add("emulate-active")},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarComboBox=function(a,b){WebInspector.StatusBarItem.call(this,"span"),this.element.className="status-bar-select-container",this._selectElement=this.element.createChild("select","status-bar-item"),this.element.createChild("div","status-bar-select-arrow"),a&&this._selectElement.addEventListener("change",a,!1),b&&this._selectElement.classList.add(b)},WebInspector.StatusBarComboBox.prototype={selectElement:function(){return this._selectElement},size:function(){return this._selectElement.childElementCount},addOption:function(a){this._selectElement.appendChild(a)},createOption:function(a,b,c){var d=this._selectElement.createChild("option");return d.text=a,b&&(d.title=b),"undefined"!=typeof c&&(d.value=c),d},_applyEnabledState:function(){this._selectElement.disabled=!this._enabled},removeOption:function(a){this._selectElement.removeChild(a)},removeOptions:function(){this._selectElement.removeChildren()},selectedOption:function(){return this._selectElement.selectedIndex>=0?this._selectElement[this._selectElement.selectedIndex]:null},select:function(a){this._selectElement.selectedIndex=Array.prototype.indexOf.call(this._selectElement,a)},setSelectedIndex:function(a){this._selectElement.selectedIndex=a},selectedIndex:function(){return this._selectElement.selectedIndex},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarCheckbox=function(a){WebInspector.StatusBarItem.call(this,"label"),this.element.classList.add("status-bar-item","checkbox"),this._checkbox=this.element.createChild("input"),this._checkbox.type="checkbox",this.element.createTextChild(a)},WebInspector.StatusBarCheckbox.prototype={checked:function(){return this._checkbox.checked},__proto__:WebInspector.StatusBarItem.prototype},WebInspector.StatusBarStatesSettingButton=function(a,b,c,d,e,f){WebInspector.StatusBarButton.call(this,"",a,b.length);var g=this._onClick.bind(this);this.addEventListener("click",g,this),this._states=b,this._buttons=[];for(var h=0;h<b.length;h++){var i=new WebInspector.StatusBarButton(c[h],a,b.length);i.state=this._states[h],i.addEventListener("click",g,this),this._buttons.push(i)}this._currentStateSetting=d,this._lastStateSetting=e,this._stateChangedCallback=f,this.setLongClickOptionsEnabled(this._createOptions.bind(this)),this._currentState=null,this.toggleState(this._defaultState())},WebInspector.StatusBarStatesSettingButton.prototype={_onClick:function(a){this.toggleState(a.target.state)},toggleState:function(a){if(this._currentState!==a){this._currentState&&this._lastStateSetting.set(this._currentState),this._currentState=a,this._currentStateSetting.set(this._currentState),this._stateChangedCallback&&this._stateChangedCallback(a);var b=this._defaultState();this.state=b,this.title=this._buttons[this._states.indexOf(b)].title}},_defaultState:function(){if(!this._currentState){var a=this._currentStateSetting.get();return this._states.indexOf(a)>=0?a:this._states[0]}var b=this._lastStateSetting.get();return b&&this._states.indexOf(b)>=0&&b!=this._currentState?b:this._states.length>1&&this._currentState===this._states[0]?this._states[1]:this._states[0]},_createOptions:function(){for(var a=[],b=0;b<this._states.length;b++)this._states[b]!==this.state&&this._states[b]!==this._currentState&&a.push(this._buttons[b]);return a},__proto__:WebInspector.StatusBarButton.prototype},WebInspector.DropDownMenu=function(){this.element=document.createElementWithClass("select","drop-down-menu"),this.element.addEventListener("mousedown",this._onBeforeMouseDown.bind(this),!0),this.element.addEventListener("mousedown",consumeEvent,!1),this.element.addEventListener("change",this._onChange.bind(this),!1)},WebInspector.DropDownMenu.Events={BeforeShow:"BeforeShow",ItemSelected:"ItemSelected"},WebInspector.DropDownMenu.prototype={_onBeforeMouseDown:function(){this.dispatchEventToListeners(WebInspector.DropDownMenu.Events.BeforeShow,null)},_onChange:function(){var a=this.element.options,b=a[this.element.selectedIndex];this.dispatchEventToListeners(WebInspector.DropDownMenu.Events.ItemSelected,b.id)},addItem:function(a,b){var c=new Option(b);c.id=a,this.element.appendChild(c)},selectItem:function(a){for(var b=this.element.children,c=0;c<b.length;++c){var d=b[c];if(d.id===a)return void(this.element.selectedIndex=c)}this.element.selectedIndex=-1},clear:function(){this.element.removeChildren()},__proto__:WebInspector.Object.prototype},WebInspector.CompletionDictionary=function(){},WebInspector.CompletionDictionary.prototype={addWord:function(){},removeWord:function(){},hasWord:function(){},wordsWithPrefix:function(){},wordCount:function(){},reset:function(){}},WebInspector.SampleCompletionDictionary=function(){this._words={}},WebInspector.SampleCompletionDictionary.prototype={addWord:function(a){this._words[a]?++this._words[a]:this._words[a]=1},removeWord:function(a){this._words[a]&&(1===this._words[a]?delete this._words[a]:--this._words[a])},wordsWithPrefix:function(a){var b=[];for(var c in this._words)c.startsWith(a)&&b.push(c);return b},hasWord:function(a){return!!this._words[a]},wordCount:function(a){return this._words[a]?this._words[a]:0},reset:function(){this._words={}}},WebInspector.InplaceEditor=function(){},WebInspector.InplaceEditor.startEditing=function(a,b){return b.multiline?WebInspector.moduleManager.instance(WebInspector.InplaceEditor).startEditing(a,b):(WebInspector.InplaceEditor._defaultInstance||(WebInspector.InplaceEditor._defaultInstance=new WebInspector.InplaceEditor),WebInspector.InplaceEditor._defaultInstance.startEditing(a,b))},WebInspector.InplaceEditor.prototype={editorContent:function(a){var b=a.element;return"INPUT"===b.tagName&&"text"===b.type?b.value:b.textContent},setUpEditor:function(a){var b=a.element;
b.classList.add("editing");var c=b.getAttribute("tabIndex");("number"!=typeof c||0>c)&&(b.tabIndex=0),WebInspector.setCurrentFocusElement(b),a.oldTabIndex=c},closeEditor:function(a){var b=a.element;b.classList.remove("editing"),"number"!=typeof a.oldTabIndex?b.removeAttribute("tabIndex"):b.tabIndex=a.oldTabIndex,b.scrollTop=0,b.scrollLeft=0},cancelEditing:function(a){var b=a.element;"INPUT"===b.tagName&&"text"===b.type?b.value=a.oldText:b.textContent=a.oldText},augmentEditingHandle:function(){},startEditing:function(a,b){function c(b){p&&b&&b.relatedTarget&&b.relatedTarget.isSelfOrDescendant(a)||f.call(a)}function d(){WebInspector.markBeingEdited(a,!1),a.removeEventListener("blur",c,p),a.removeEventListener("keydown",j,!0),n&&a.removeEventListener("paste",i,!0),WebInspector.restoreFocusFromElement(a),r.closeEditor(k)}function e(){r.cancelEditing(k),d(),m(this,o)}function f(){d(),l(this,r.editorContent(k),k.oldText,o,q)}function g(a){var b=WebInspector.isMac()?a.metaKey&&!a.shiftKey&&!a.ctrlKey&&!a.altKey:a.ctrlKey&&!a.shiftKey&&!a.metaKey&&!a.altKey;return isEnterKey(a)&&(a.isMetaOrCtrlForTest||!p||b)?"commit":a.keyCode===WebInspector.KeyboardShortcut.Keys.Esc.code||"U+001B"===a.keyIdentifier?"cancel":p||"U+0009"!==a.keyIdentifier?void 0:"move-"+(a.shiftKey?"backward":"forward")}function h(b,d){"commit"===b?(f.call(a),d.consume(!0)):"cancel"===b?(e.call(a),d.consume(!0)):b&&b.startsWith("move-")&&(q=b.substring(5),"U+0009"!==d.keyIdentifier&&c())}function i(a){var b=n(a);h(b,a)}function j(a){var c=b.customFinishHandler||g,d=c(a);h(d,a)}if(!WebInspector.markBeingEdited(a,!0))return null;b=b||new WebInspector.InplaceEditor.Config(function(){},function(){});var k={element:a,config:b},l=b.commitHandler,m=b.cancelHandler,n=b.pasteHandler,o=b.context,p=b.multiline||!1,q="",r=this;this.setUpEditor(k),k.oldText=p?b.initialValue:this.editorContent(k),a.addEventListener("blur",c,p),a.addEventListener("keydown",j,!0),n&&a.addEventListener("paste",i,!0);var s={cancel:e.bind(a),commit:f.bind(a)};return this.augmentEditingHandle(k,s),s}},WebInspector.InplaceEditor.Config=function(a,b,c){this.commitHandler=a,this.cancelHandler=b,this.context=c,this.pasteHandler,this.multiline,this.customFinishHandler},WebInspector.InplaceEditor.Config.prototype={setPasteHandler:function(a){this.pasteHandler=a},setMultilineOptions:function(a,b,c,d,e){this.multiline=!0,this.initialValue=a,this.mode=b,this.theme=c,this.lineWrapping=d,this.smartIndent=e},setCustomFinishHandler:function(a){this.customFinishHandler=a}},WebInspector.TextEditor=function(){},WebInspector.TextEditor.Events={GutterClick:"gutterClick"},WebInspector.TextEditor.GutterClickEventData,WebInspector.TextEditor.prototype={undo:function(){},redo:function(){},isClean:function(){},markClean:function(){},indent:function(){},cursorPositionToCoordinates:function(){return null},coordinatesToCursorPosition:function(){return null},tokenAtTextPosition:function(){return null},setMimeType:function(){},setReadOnly:function(){},readOnly:function(){},defaultFocusedElement:function(){},highlightRange:function(){},removeHighlight:function(){},addBreakpoint:function(){},removeBreakpoint:function(){},setExecutionLine:function(){},clearExecutionLine:function(){},addDecoration:function(){},removeDecoration:function(){},highlightSearchResults:function(){},revealPosition:function(){},clearPositionHighlight:function(){},elementsToRestoreScrollPositionsFor:function(){},inheritScrollPositions:function(){},beginUpdates:function(){},endUpdates:function(){},onResize:function(){},editRange:function(){},scrollToLine:function(){},firstVisibleLine:function(){},lastVisibleLine:function(){},selection:function(){},lastSelection:function(){},setSelection:function(){},copyRange:function(){},setText:function(){},text:function(){},range:function(){},line:function(){},get linesCount(){},setAttribute:function(){},getAttribute:function(){},removeAttribute:function(){},wasShown:function(){},willHide:function(){},setCompletionDictionary:function(){},textEditorPositionHandle:function(){}},WebInspector.TextEditorPositionHandle=function(){},WebInspector.TextEditorPositionHandle.prototype={resolve:function(){},equal:function(){}},WebInspector.TextEditorDelegate=function(){},WebInspector.TextEditorDelegate.prototype={onTextChanged:function(){},selectionChanged:function(){},scrollChanged:function(){},editorFocused:function(){},populateLineGutterContextMenu:function(){},populateTextAreaContextMenu:function(){},createLink:function(){},onJumpToPosition:function(){}},WebInspector.TokenizerFactory=function(){},WebInspector.TokenizerFactory.prototype={createTokenizer:function(){}},WebInspector.SourceFrame=function(a){WebInspector.VBox.call(this),this.element.classList.add("script-view"),this._url=a.contentURL(),this._contentProvider=a;var b=new WebInspector.TextEditorDelegateForSourceFrame(this);WebInspector.moduleManager.loadModule("codemirror"),this._textEditor=new WebInspector.CodeMirrorTextEditor(this._url,b),this._currentSearchResultIndex=-1,this._searchResults=[],this._messages=[],this._rowMessages={},this._messageBubbles={},this._textEditor.setReadOnly(!this.canEditSource()),this._shortcuts={},this.element.addEventListener("keydown",this._handleKeyDown.bind(this),!1),this._sourcePosition=new WebInspector.StatusBarText("","source-frame-cursor-position")},WebInspector.SourceFrame.createSearchRegex=function(a,b){var c;b=b||"";try{/^\/.+\/$/.test(a)&&(c=new RegExp(a.substring(1,a.length-1),b),c.__fromRegExpQuery=!0)}catch(d){}return c||(c=createPlainTextSearchRegex(a,"i"+b)),c},WebInspector.SourceFrame.Events={ScrollChanged:"ScrollChanged",SelectionChanged:"SelectionChanged",JumpHappened:"JumpHappened"},WebInspector.SourceFrame.prototype={addShortcut:function(a,b){this._shortcuts[a]=b},wasShown:function(){this._ensureContentLoaded(),this._textEditor.show(this.element),this._editorAttached=!0,this._wasShownOrLoaded()},_isEditorShowing:function(){return this.isShowing()&&this._editorAttached},willHide:function(){WebInspector.View.prototype.willHide.call(this),this._clearPositionToReveal()},statusBarText:function(){return this._sourcePosition.element},statusBarItems:function(){return[]},defaultFocusedElement:function(){return this._textEditor.defaultFocusedElement()},get loaded(){return this._loaded},hasContent:function(){return!0},get textEditor(){return this._textEditor},_ensureContentLoaded:function(){this._contentRequested||(this._contentRequested=!0,this._contentProvider.requestContent(this.setContent.bind(this)))},addMessage:function(a){this._messages.push(a),this.loaded&&this.addMessageToSource(a.line-1,a)},clearMessages:function(){for(var a in this._messageBubbles){var b=this._messageBubbles[a],c=parseInt(a,10);this._textEditor.removeDecoration(c,b)}this._messages=[],this._rowMessages={},this._messageBubbles={}},revealPosition:function(a,b,c){this._clearLineToScrollTo(),this._clearSelectionToSet(),this._positionToReveal={line:a,column:b,shouldHighlight:c},this._innerRevealPositionIfNeeded()},_innerRevealPositionIfNeeded:function(){this._positionToReveal&&this.loaded&&this._isEditorShowing()&&(this._textEditor.revealPosition(this._positionToReveal.line,this._positionToReveal.column,this._positionToReveal.shouldHighlight),delete this._positionToReveal)},_clearPositionToReveal:function(){this._textEditor.clearPositionHighlight(),delete this._positionToReveal},scrollToLine:function(a){this._clearPositionToReveal(),this._lineToScrollTo=a,this._innerScrollToLineIfNeeded()},_innerScrollToLineIfNeeded:function(){"number"==typeof this._lineToScrollTo&&this.loaded&&this._isEditorShowing()&&(this._textEditor.scrollToLine(this._lineToScrollTo),delete this._lineToScrollTo)},_clearLineToScrollTo:function(){delete this._lineToScrollTo},selection:function(){return this.textEditor.selection()},setSelection:function(a){this._selectionToSet=a,this._innerSetSelectionIfNeeded()},_innerSetSelectionIfNeeded:function(){this._selectionToSet&&this.loaded&&this._isEditorShowing()&&(this._textEditor.setSelection(this._selectionToSet),delete this._selectionToSet)},_clearSelectionToSet:function(){delete this._selectionToSet},_wasShownOrLoaded:function(){this._innerRevealPositionIfNeeded(),this._innerSetSelectionIfNeeded(),this._innerScrollToLineIfNeeded()},onTextChanged:function(){this._searchResultsChangedCallback&&!this._isReplacing&&this._searchResultsChangedCallback(),this.clearMessages()},_simplifyMimeType:function(a,b){return b?b.indexOf("javascript")>=0||b.indexOf("jscript")>=0||b.indexOf("ecmascript")>=0?"text/javascript":"text/x-php"===b&&a.match(/\<\?.*\?\>/g)?"application/x-httpd-php":b:""},setHighlighterType:function(a){this._highlighterType=a,this._updateHighlighterType("")},_updateHighlighterType:function(a){this._textEditor.setMimeType(this._simplifyMimeType(a,this._highlighterType))},setContent:function(a){if(this._loaded){var b=this._textEditor.firstVisibleLine(),c=this._textEditor.selection();this._textEditor.setText(a||""),this._textEditor.scrollToLine(b),this._textEditor.setSelection(c)}else this._loaded=!0,this._textEditor.setText(a||""),this._textEditor.markClean();this._updateHighlighterType(a||""),this._textEditor.beginUpdates(),this._setTextEditorDecorations(),this._wasShownOrLoaded(),this._delayedFindSearchMatches&&(this._delayedFindSearchMatches(),delete this._delayedFindSearchMatches),this.onTextEditorContentLoaded(),this._textEditor.endUpdates()},onTextEditorContentLoaded:function(){},_setTextEditorDecorations:function(){this._rowMessages={},this._messageBubbles={},this._textEditor.beginUpdates(),this._addExistingMessagesToSource(),this._textEditor.endUpdates()},performSearch:function(a,b,c,d,e){function f(a){this._currentSearchResultIndex=-1,this._searchResults=[];var d=WebInspector.SourceFrame.createSearchRegex(a);this._searchRegex=d,this._searchResults=this._collectRegexMatches(d),this._searchResults.length?b?this.jumpToNextSearchResult():this._textEditor.highlightSearchResults(d,null):this._textEditor.cancelSearchResultsHighlight(),c(this,this._searchResults.length)}this._resetSearch(),this._currentSearchMatchChangedCallback=d,this._searchResultsChangedCallback=e,this.loaded?f.call(this,a):this._delayedFindSearchMatches=f.bind(this,a),this._ensureContentLoaded()},_editorFocused:function(){this._searchResults.length&&(this._currentSearchResultIndex=-1,this._currentSearchMatchChangedCallback&&this._currentSearchMatchChangedCallback(this._currentSearchResultIndex),this._textEditor.highlightSearchResults(this._searchRegex,null))},_searchResultAfterSelectionIndex:function(a){if(!a)return 0;for(var b=0;b<this._searchResults.length;++b)if(this._searchResults[b].compareTo(a)>=0)return b;return 0},_resetSearch:function(){delete this._delayedFindSearchMatches,delete this._currentSearchMatchChangedCallback,delete this._searchResultsChangedCallback,this._currentSearchResultIndex=-1,this._searchResults=[],delete this._searchRegex},searchCanceled:function(){var a=-1!==this._currentSearchResultIndex?this._searchResults[this._currentSearchResultIndex]:null;this._resetSearch(),this.loaded&&(this._textEditor.cancelSearchResultsHighlight(),a&&this._textEditor.setSelection(a))},hasSearchResults:function(){return this._searchResults.length>0},jumpToFirstSearchResult:function(){this.jumpToSearchResult(0)},jumpToLastSearchResult:function(){this.jumpToSearchResult(this._searchResults.length-1)},jumpToNextSearchResult:function(){var a=this._searchResultAfterSelectionIndex(this._textEditor.selection()),b=-1===this._currentSearchResultIndex?a:a+1;this.jumpToSearchResult(b)},jumpToPreviousSearchResult:function(){var a=this._searchResultAfterSelectionIndex(this._textEditor.selection());this.jumpToSearchResult(a-1)},showingFirstSearchResult:function(){return this._searchResults.length&&0===this._currentSearchResultIndex},showingLastSearchResult:function(){return this._searchResults.length&&this._currentSearchResultIndex===this._searchResults.length-1},get currentSearchResultIndex(){return this._currentSearchResultIndex},jumpToSearchResult:function(a){this.loaded&&this._searchResults.length&&(this._currentSearchResultIndex=(a+this._searchResults.length)%this._searchResults.length,this._currentSearchMatchChangedCallback&&this._currentSearchMatchChangedCallback(this._currentSearchResultIndex),this._textEditor.highlightSearchResults(this._searchRegex,this._searchResults[this._currentSearchResultIndex]))},replaceSelectionWith:function(a){var b=this._searchResults[this._currentSearchResultIndex];if(b){this._textEditor.highlightSearchResults(this._searchRegex,null),this._isReplacing=!0;var c=this._textEditor.editRange(b,a);delete this._isReplacing,this._textEditor.setSelection(c.collapseToEnd())}},replaceAllWith:function(a,b){this._textEditor.highlightSearchResults(this._searchRegex,null);var c=this._textEditor.text(),d=this._textEditor.range(),e=WebInspector.SourceFrame.createSearchRegex(a,"g");c=e.__fromRegExpQuery?c.replace(e,b):c.replace(e,function(){return b}),this._isReplacing=!0,this._textEditor.editRange(d,c),delete this._isReplacing},_collectRegexMatches:function(a){for(var b=[],c=0;c<this._textEditor.linesCount;++c){var d=this._textEditor.line(c),e=0;do{var f=a.exec(d);f&&(f[0].length&&b.push(new WebInspector.TextRange(c,e+f.index,c,e+f.index+f[0].length)),e+=f.index+1,d=d.substring(f.index+1))}while(f&&d)}return b},_addExistingMessagesToSource:function(){for(var a=this._messages.length,b=0;a>b;++b)this.addMessageToSource(this._messages[b].line-1,this._messages[b])},addMessageToSource:function(a,b){a>=this._textEditor.linesCount&&(a=this._textEditor.linesCount-1),0>a&&(a=0);var c=this._rowMessages[a];c||(c=[],this._rowMessages[a]=c);for(var d=0;d<c.length;++d)if(c[d].consoleMessage.isEqual(b))return c[d].repeatCount++,void this._updateMessageRepeatCount(c[d]);var e={consoleMessage:b};c.push(e),this._textEditor.beginUpdates();var f=this._messageBubbles[a];f||(f=document.createElement("div"),f.className="webkit-html-message-bubble",this._messageBubbles[a]=f,this._textEditor.addDecoration(a,f));var g=document.createElement("div");switch(b.level){case WebInspector.ConsoleMessage.MessageLevel.Error:f.classList.add("webkit-html-error-message"),g.className="error-icon-small";break;case WebInspector.ConsoleMessage.MessageLevel.Warning:f.classList.add("webkit-html-warning-message"),g.className="warning-icon-small"}var h=document.createElement("div");h.className="webkit-html-message-line",f.appendChild(h),h.appendChild(g),h.appendChild(document.createTextNode(b.messageText)),e.element=h,e.repeatCount=1,this._updateMessageRepeatCount(e),this._textEditor.endUpdates()},_updateMessageRepeatCount:function(a){if(!(a.repeatCount<2)){if(!a.repeatCountElement){var b=document.createElement("span");a.element.appendChild(b),a.repeatCountElement=b}a.repeatCountElement.textContent=WebInspector.UIString(" (repeated %d times)",a.repeatCount)}},removeMessageFromSource:function(a,b){a>=this._textEditor.linesCount&&(a=this._textEditor.linesCount-1),0>a&&(a=0);for(var c=this._rowMessages[a],d=0;c&&d<c.length;++d){var e=c[d];if(e.consoleMessage===b){var f=e.element,g=f.parentElement;g.removeChild(f),c.remove(e),c.length||delete this._rowMessages[a],g.childElementCount||(this._textEditor.removeDecoration(a,g),delete this._messageBubbles[a]);break}}},populateLineGutterContextMenu:function(){},populateTextAreaContextMenu:function(){},onJumpToPosition:function(a,b){this.dispatchEventToListeners(WebInspector.SourceFrame.Events.JumpHappened,{from:a,to:b})},inheritScrollPositions:function(a){this._textEditor.inheritScrollPositions(a._textEditor)},canEditSource:function(){return!1},selectionChanged:function(a){this._updateSourcePosition(a),this.dispatchEventToListeners(WebInspector.SourceFrame.Events.SelectionChanged,a),WebInspector.notifications.dispatchEventToListeners(WebInspector.SourceFrame.Events.SelectionChanged,a)},_updateSourcePosition:function(a){if(a){if(a.isEmpty())return void this._sourcePosition.setText(WebInspector.UIString("Line %d, Column %d",a.endLine+1,a.endColumn+1));a=a.normalize();var b=this._textEditor.copyRange(a);this._sourcePosition.setText(a.startLine===a.endLine?WebInspector.UIString("%d characters selected",b.length):WebInspector.UIString("%d lines, %d characters selected",a.endLine-a.startLine+1,b.length))}},scrollChanged:function(a){this.dispatchEventToListeners(WebInspector.SourceFrame.Events.ScrollChanged,a)},_handleKeyDown:function(a){var b=WebInspector.KeyboardShortcut.makeKeyFromEvent(a),c=this._shortcuts[b];c&&c()&&a.consume(!0)},__proto__:WebInspector.VBox.prototype},WebInspector.TextEditorDelegateForSourceFrame=function(a){this._sourceFrame=a},WebInspector.TextEditorDelegateForSourceFrame.prototype={onTextChanged:function(a,b){this._sourceFrame.onTextChanged(a,b)},selectionChanged:function(a){this._sourceFrame.selectionChanged(a)},scrollChanged:function(a){this._sourceFrame.scrollChanged(a)},editorFocused:function(){this._sourceFrame._editorFocused()},populateLineGutterContextMenu:function(a,b){this._sourceFrame.populateLineGutterContextMenu(a,b)},populateTextAreaContextMenu:function(a,b){this._sourceFrame.populateTextAreaContextMenu(a,b)},createLink:function(a,b){var c=WebInspector.ParsedURL.completeURL(this._sourceFrame._url,a);return WebInspector.linkifyURLAsNode(c||a,a,void 0,b)},onJumpToPosition:function(a,b){this._sourceFrame.onJumpToPosition(a,b)}},WebInspector.ResourceView=function(a){WebInspector.VBox.call(this),this.registerRequiredCSS("resourceView.css"),this.element.classList.add("resource-view"),this.resource=a},WebInspector.ResourceView.prototype={hasContent:function(){return!1},__proto__:WebInspector.VBox.prototype},WebInspector.ResourceView.hasTextContent=function(a){return a.type.isTextType()?!0:a.type===WebInspector.resourceTypes.Other?!!a.content&&!a.contentEncoded:!1},WebInspector.ResourceView.nonSourceViewForResource=function(a){switch(a.type){case WebInspector.resourceTypes.Image:return new WebInspector.ImageView(a);case WebInspector.resourceTypes.Font:return new WebInspector.FontView(a);default:return new WebInspector.ResourceView(a)}},WebInspector.ResourceSourceFrame=function(a){this._resource=a,WebInspector.SourceFrame.call(this,a)},WebInspector.ResourceSourceFrame.prototype={get resource(){return this._resource},populateTextAreaContextMenu:function(a){a.appendApplicableItems(this._resource)},__proto__:WebInspector.SourceFrame.prototype},WebInspector.ResourceSourceFrameFallback=function(a){WebInspector.VBox.call(this),this._resource=a,this.element.classList.add("script-view"),this._content=this.element.createChild("div","script-view-fallback monospace")},WebInspector.ResourceSourceFrameFallback.prototype={wasShown:function(){this._contentRequested||(this._contentRequested=!0,this._resource.requestContent(this._contentLoaded.bind(this)))},_contentLoaded:function(a){this._content.textContent=a},__proto__:WebInspector.VBox.prototype},WebInspector.FontView=function(a){WebInspector.ResourceView.call(this,a),this.element.classList.add("font")},WebInspector.FontView._fontPreviewLines=["ABCDEFGHIJKLM","NOPQRSTUVWXYZ","abcdefghijklm","nopqrstuvwxyz","1234567890"],WebInspector.FontView._fontId=0,WebInspector.FontView._measureFontSize=50,WebInspector.FontView.prototype={hasContent:function(){return!0},_createContentIfNeeded:function(){if(!this.fontPreviewElement){var a="WebInspectorFontPreview"+ ++WebInspector.FontView._fontId;this.fontStyleElement=document.createElement("style"),this.fontStyleElement.textContent='@font-face { font-family: "'+a+'"; src: url('+this.resource.url+"); }",document.head.appendChild(this.fontStyleElement);for(var b=document.createElement("div"),c=0;c<WebInspector.FontView._fontPreviewLines.length;++c)c>0&&b.appendChild(document.createElement("br")),b.appendChild(document.createTextNode(WebInspector.FontView._fontPreviewLines[c]));this.fontPreviewElement=b.cloneNode(!0),this.fontPreviewElement.style.setProperty("font-family",a),this.fontPreviewElement.style.setProperty("visibility","hidden"),this._dummyElement=b,this._dummyElement.style.visibility="hidden",this._dummyElement.style.zIndex="-1",this._dummyElement.style.display="inline",this._dummyElement.style.position="absolute",this._dummyElement.style.setProperty("font-family",a),this._dummyElement.style.setProperty("font-size",WebInspector.FontView._measureFontSize+"px"),this.element.appendChild(this.fontPreviewElement)}},wasShown:function(){this._createContentIfNeeded(),this.updateFontPreviewSize()},onResize:function(){if(!this._inResize){this._inResize=!0;try{this.updateFontPreviewSize()}finally{delete this._inResize}}},_measureElement:function(){this.element.appendChild(this._dummyElement);var a={width:this._dummyElement.offsetWidth,height:this._dummyElement.offsetHeight};return this.element.removeChild(this._dummyElement),a},updateFontPreviewSize:function(){if(this.fontPreviewElement&&this.isShowing()){this.fontPreviewElement.style.removeProperty("visibility");var a=this._measureElement();const b=a.height,c=a.width,d=this.element.offsetWidth-50,e=this.element.offsetHeight-30;if(!(b&&c&&d&&e))return void this.fontPreviewElement.style.removeProperty("font-size");var f=d/c,g=e/b,h=Math.floor(WebInspector.FontView._measureFontSize*Math.min(f,g))-2;this.fontPreviewElement.style.setProperty("font-size",h+"px",null)}},__proto__:WebInspector.ResourceView.prototype},WebInspector.ImageView=function(a){WebInspector.ResourceView.call(this,a),this.element.classList.add("image")},WebInspector.ImageView.prototype={hasContent:function(){return!0},wasShown:function(){this._createContentIfNeeded()},_createContentIfNeeded:function(){function a(){var a=this.resource.content;if(a)var b=this._base64ToSize(a);else var b=this.resource.resourceSize;var d=[{name:WebInspector.UIString("Dimensions"),value:WebInspector.UIString("%d Ã— %d",c.naturalWidth,c.naturalHeight)},{name:WebInspector.UIString("File size"),value:Number.bytesToString(b)},{name:WebInspector.UIString("MIME type"),value:this.resource.mimeType}];e.removeChildren();for(var f=0;f<d.length;++f){var g=document.createElement("dt");g.textContent=d[f].name,e.appendChild(g);var h=document.createElement("dd");h.textContent=d[f].value,e.appendChild(h)}var g=document.createElement("dt");g.textContent=WebInspector.UIString("URL"),e.appendChild(g);var h=document.createElement("dd"),i=!0;h.appendChild(WebInspector.linkifyURLAsNode(this.resource.url,void 0,void 0,i)),e.appendChild(h),this._container.appendChild(e)}if(!this._container){var b=document.createElement("div");b.className="image",this.element.appendChild(b);var c=document.createElement("img");c.classList.add("resource-image-view"),b.appendChild(c),c.addEventListener("contextmenu",this._contextMenu.bind(this),!0),this._container=document.createElement("div"),this._container.className="info",this.element.appendChild(this._container);var d=document.createElement("h1");d.className="title",d.textContent=this.resource.displayName,this._container.appendChild(d);var e=document.createElement("dl");e.className="infoList",this.resource.populateImageSource(c),c.addEventListener("load",a.bind(this),!1),this._imagePreviewElement=c}},_base64ToSize:function(a){if(!a.length)return 0;var b=3*(a.length||0)/4;return a.length>0&&"="===a[a.length-1]&&b--,a.length>1&&"="===a[a.length-2]&&b--,b},_contextMenu:function(a){var b=new WebInspector.ContextMenu(a);b.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Copy image URL":"Copy Image URL"),this._copyImageURL.bind(this)),this._imagePreviewElement.src&&b.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Copy image as Data URL":"Copy Image As Data URL"),this._copyImageAsDataURL.bind(this)),b.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open image in new tab":"Open Image in New Tab"),this._openInNewTab.bind(this)),b.show()},_copyImageAsDataURL:function(){InspectorFrontendHost.copyText(this._imagePreviewElement.src)},_copyImageURL:function(){InspectorFrontendHost.copyText(this.resource.url)},_openInNewTab:function(){InspectorFrontendHost.openInNewTab(this.resource.url)},__proto__:WebInspector.ResourceView.prototype},WebInspector.SplitView=function(a,b,c,d,e){WebInspector.View.call(this),this.registerRequiredCSS("splitView.css"),this.element.classList.add("split-view"),this._mainView=new WebInspector.VBox,this._mainView.makeLayoutBoundary(),this._mainElement=this._mainView.element,this._mainElement.className="split-view-contents scroll-target split-view-main vbox",this._sidebarView=new WebInspector.VBox,this._sidebarView.makeLayoutBoundary(),this._sidebarElement=this._sidebarView.element,this._sidebarElement.className="split-view-contents scroll-target split-view-sidebar vbox",this._resizerElement=this.element.createChild("div","split-view-resizer"),this._resizerElement.createChild("div","split-view-resizer-border"),b?(this._mainView.show(this.element),this._sidebarView.show(this.element)):(this._sidebarView.show(this.element),this._mainView.show(this.element)),this._onDragStartBound=this._onDragStart.bind(this),this._resizerElements=[],this._resizable=!0,this._defaultSidebarWidth=d||200,this._defaultSidebarHeight=e||this._defaultSidebarWidth,this._settingName=c,this.setSecondIsSidebar(b),this._innerSetVertical(a),this._showMode=WebInspector.SplitView.ShowMode.Both,this.installResizer(this._resizerElement)},WebInspector.SplitView.SettingForOrientation,WebInspector.SplitView.ShowMode={Both:"Both",OnlyMain:"OnlyMain",OnlySidebar:"OnlySidebar"},WebInspector.SplitView.Events={SidebarSizeChanged:"SidebarSizeChanged",ShowModeChanged:"ShowModeChanged"},WebInspector.SplitView.MinPadding=20,WebInspector.SplitView.prototype={isVertical:function(){return this._isVertical},setVertical:function(a){this._isVertical!==a&&(this._innerSetVertical(a),this.isShowing()&&this._updateLayout())},_innerSetVertical:function(a){this.element.classList.remove(this._isVertical?"hbox":"vbox"),this._isVertical=a,this.element.classList.add(this._isVertical?"hbox":"vbox"),delete this._resizerElementSize,this._sidebarSize=-1,this._restoreSidebarSizeFromSettings(),this._shouldSaveShowMode&&this._restoreAndApplyShowModeFromSettings(),this._updateShowHideSidebarButton(),this._updateResizersClass(),this.invalidateMinimumSize()},_updateLayout:function(a){delete this._totalSize,this._innerSetSidebarSize(this._preferredSidebarSize(),!!a)},mainElement:function(){return this._mainElement},sidebarElement:function(){return this._sidebarElement},isSidebarSecond:function(){return this._secondIsSidebar},enableShowModeSaving:function(){this._shouldSaveShowMode=!0,this._restoreAndApplyShowModeFromSettings()},showMode:function(){return this._showMode},setSecondIsSidebar:function(a){this._mainElement.classList.toggle("split-view-contents-first",a),this._mainElement.classList.toggle("split-view-contents-second",!a),this._sidebarElement.classList.toggle("split-view-contents-first",!a),this._sidebarElement.classList.toggle("split-view-contents-second",a),a?this._sidebarElement.parentElement&&this._sidebarElement.nextSibling&&this.element.appendChild(this._sidebarElement):this._mainElement.parentElement&&this._mainElement.nextSibling&&this.element.appendChild(this._mainElement),this._secondIsSidebar=a},sidebarSide:function(){return this._showMode!==WebInspector.SplitView.ShowMode.Both?null:this._isVertical?this._secondIsSidebar?"right":"left":this._secondIsSidebar?"bottom":"top"},preferredSidebarSize:function(){return this._preferredSidebarSize()},resizerElement:function(){return this._resizerElement},hideMain:function(a){this._showOnly(this._sidebarView,this._mainView,a),this._updateShowMode(WebInspector.SplitView.ShowMode.OnlySidebar)},hideSidebar:function(a){this._showOnly(this._mainView,this._sidebarView,a),this._updateShowMode(WebInspector.SplitView.ShowMode.OnlyMain)},detachChildViews:function(){this._mainView.detachChildViews(),this._sidebarView.detachChildViews()},_showOnly:function(a,b,c){function d(){a.show(this.element),b.detach(),a.element.classList.add("maximized"),b.element.classList.remove("maximized"),this._resizerElement.classList.add("hidden"),this._removeAllLayoutProperties()}this._cancelAnimation(),c?this._animate(!0,d.bind(this)):(d.call(this),this.doResize()),this._sidebarSize=-1,this.setResizable(!1)},_removeAllLayoutProperties:function(){this._sidebarElement.style.removeProperty("flexBasis"),this._resizerElement.style.removeProperty("left"),this._resizerElement.style.removeProperty("right"),this._resizerElement.style.removeProperty("top"),this._resizerElement.style.removeProperty("bottom"),this._resizerElement.style.removeProperty("margin-left"),this._resizerElement.style.removeProperty("margin-right"),this._resizerElement.style.removeProperty("margin-top"),this._resizerElement.style.removeProperty("margin-bottom")},showBoth:function(a){this._showMode===WebInspector.SplitView.ShowMode.Both&&(a=!1),this._cancelAnimation(),this._mainElement.classList.remove("maximized"),this._sidebarElement.classList.remove("maximized"),this._resizerElement.classList.remove("hidden"),this._mainView.show(this.element),this._sidebarView.show(this.element),this.setSecondIsSidebar(this._secondIsSidebar),this._sidebarSize=-1,this.setResizable(!0),this._updateShowMode(WebInspector.SplitView.ShowMode.Both),this._updateLayout(a)},setResizable:function(a){this._resizable=a,this._updateResizersClass()},setSidebarSize:function(a){this._savedSidebarSize=a,this._saveSetting(),this._innerSetSidebarSize(a,!1)},sidebarSize:function(){return Math.max(0,this._sidebarSize)},totalSize:function(){return this._totalSize||(this._totalSize=this._isVertical?this.element.offsetWidth:this.element.offsetHeight),this._totalSize*WebInspector.zoomManager.zoomFactor()},_updateShowMode:function(a){this._showMode=a,this._saveShowModeToSettings(),this._updateShowHideSidebarButton(),this.dispatchEventToListeners(WebInspector.SplitView.Events.ShowModeChanged,a),this.invalidateMinimumSize()},_innerSetSidebarSize:function(a,b){if(this._showMode===WebInspector.SplitView.ShowMode.Both&&this.isShowing()&&(a=this._applyConstraints(a),this._sidebarSize!==a)){this._removeAllLayoutProperties();var c=a/WebInspector.zoomManager.zoomFactor()+"px";this.sidebarElement().style.flexBasis=c,this._resizerElementSize||(this._resizerElementSize=this._isVertical?this._resizerElement.offsetWidth:this._resizerElement.offsetHeight),this._isVertical?this._secondIsSidebar?(this._resizerElement.style.right=c,this._resizerElement.style.marginRight=-this._resizerElementSize/2+"px"):(this._resizerElement.style.left=c,this._resizerElement.style.marginLeft=-this._resizerElementSize/2+"px"):this._secondIsSidebar?(this._resizerElement.style.bottom=c,this._resizerElement.style.marginBottom=-this._resizerElementSize/2+"px"):(this._resizerElement.style.top=c,this._resizerElement.style.marginTop=-this._resizerElementSize/2+"px"),this._sidebarSize=a,b?this._animate(!1):(this.doResize(),this.dispatchEventToListeners(WebInspector.SplitView.Events.SidebarSizeChanged,this.sidebarSize()))}},_animate:function(a,b){function c(){if(delete this._animationFrameHandle,j){if(!(window.performance.now()<j+d))return this._cancelAnimation(),this._mainView.doResize(),void this.dispatchEventToListeners(WebInspector.SplitView.Events.SidebarSizeChanged,this.sidebarSize());this._mainView.doResize()}else this.element.style.setProperty(e,h),j=window.performance.now();this._animationFrameHandle=window.requestAnimationFrame(i)}var d=50;this._animationCallback=b;var e;e=this._isVertical?this._secondIsSidebar?"margin-right":"margin-left":this._secondIsSidebar?"margin-bottom":"margin-top";var f=WebInspector.zoomManager.zoomFactor(),g=a?"0":"-"+this._sidebarSize/f+"px",h=a?"-"+this._sidebarSize/f+"px":"0";this.element.style.setProperty(e,g),a||(suppressUnused(this._mainElement.offsetWidth),suppressUnused(this._sidebarElement.offsetWidth)),a||this._sidebarView.doResize(),this.element.style.setProperty("transition",e+" "+d+"ms linear");var i,j;i=c.bind(this),this._animationFrameHandle=window.requestAnimationFrame(i)
},_cancelAnimation:function(){this.element.style.removeProperty("margin-top"),this.element.style.removeProperty("margin-right"),this.element.style.removeProperty("margin-bottom"),this.element.style.removeProperty("margin-left"),this.element.style.removeProperty("transition"),this._animationFrameHandle&&(window.cancelAnimationFrame(this._animationFrameHandle),delete this._animationFrameHandle),this._animationCallback&&(this._animationCallback(),delete this._animationCallback)},_applyConstraints:function(a){var b=this.totalSize(),c=this._sidebarView.minimumSize(),d=this.isVertical()?c.width:c.height;d||(d=WebInspector.SplitView.MinPadding),c=this._mainView.minimumSize();var e=this.isVertical()?c.width:c.height;e||(e=WebInspector.SplitView.MinPadding);var f=b-e;return f>=d?Number.constrain(a,d,f):Math.max(0,f)},wasShown:function(){this._forceUpdateLayout(),WebInspector.zoomManager.addEventListener(WebInspector.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this)},willHide:function(){WebInspector.zoomManager.removeEventListener(WebInspector.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this)},onResize:function(){this._updateLayout()},onLayout:function(){this._updateLayout()},calculateMinimumSize:function(){if(this._showMode===WebInspector.SplitView.ShowMode.OnlyMain)return this._mainView.minimumSize();if(this._showMode===WebInspector.SplitView.ShowMode.OnlySidebar)return this._sidebarView.minimumSize();var a=this._mainView.minimumSize(),b=this._sidebarView.minimumSize(),c=WebInspector.SplitView.MinPadding;return this._isVertical?new Size((a.width||c)+(b.width||c),Math.max(a.height,b.height)):new Size(Math.max(a.width,b.width),(a.height||c)+(b.height||c))},_startResizerDragging:function(a){if(!this._resizable)return!1;var b=(this._isVertical?a.pageX:a.pageY)*WebInspector.zoomManager.zoomFactor();return this._dragOffset=(this._secondIsSidebar?this.totalSize()-this._sidebarSize:this._sidebarSize)-b,!0},_resizerDragging:function(a){var b=(this._isVertical?a.pageX:a.pageY)*WebInspector.zoomManager.zoomFactor(),c=b+this._dragOffset,d=this._secondIsSidebar?this.totalSize()-c:c,e=this._applyConstraints(d);this._savedSidebarSize=e,this._saveSetting(),this._innerSetSidebarSize(e,!1),a.preventDefault()},_endResizerDragging:function(){delete this._dragOffset},hideDefaultResizer:function(){this.uninstallResizer(this._resizerElement)},installResizer:function(a){a.addEventListener("mousedown",this._onDragStartBound,!1),a.classList.toggle("ew-resizer-widget",this._isVertical&&this._resizable),a.classList.toggle("ns-resizer-widget",!this._isVertical&&this._resizable),-1===this._resizerElements.indexOf(a)&&this._resizerElements.push(a)},uninstallResizer:function(a){a.removeEventListener("mousedown",this._onDragStartBound,!1),a.classList.remove("ew-resizer-widget"),a.classList.remove("ns-resizer-widget"),this._resizerElements.remove(a)},hasCustomResizer:function(){return this._resizerElements.length>1||1==this._resizerElements.length&&this._resizerElements[0]!==this._resizerElement},toggleResizer:function(a,b){b?this.installResizer(a):this.uninstallResizer(a)},_updateResizersClass:function(){for(var a=0;a<this._resizerElements.length;++a)this._resizerElements[a].classList.toggle("ew-resizer-widget",this._isVertical&&this._resizable),this._resizerElements[a].classList.toggle("ns-resizer-widget",!this._isVertical&&this._resizable)},_onDragStart:function(a){-1!==this._resizerElements.indexOf(a.target)&&WebInspector.elementDragStart(this._startResizerDragging.bind(this),this._resizerDragging.bind(this),this._endResizerDragging.bind(this),this._isVertical?"ew-resize":"ns-resize",a)},_setting:function(){return this._settingName?(WebInspector.settings[this._settingName]||(WebInspector.settings[this._settingName]=WebInspector.settings.createSetting(this._settingName,{})),WebInspector.settings[this._settingName]):null},_settingForOrientation:function(){var a=this._setting()?this._setting().get():{};return this._isVertical?a.vertical:a.horizontal},_preferredSidebarSize:function(){var a=this._savedSidebarSize;return a||(a=this._isVertical?this._defaultSidebarWidth:this._defaultSidebarHeight,a>0&&1>a&&(a*=this.totalSize())),a},_restoreSidebarSizeFromSettings:function(){var a=this._settingForOrientation();this._savedSidebarSize=a?a.size:0},_restoreAndApplyShowModeFromSettings:function(){var a=this._settingForOrientation();switch(this._savedShowMode=a?a.showMode:WebInspector.SplitView.ShowMode.Both,this._showMode=this._savedShowMode,this._savedShowMode){case WebInspector.SplitView.ShowMode.Both:this.showBoth();break;case WebInspector.SplitView.ShowMode.OnlyMain:this.hideSidebar();break;case WebInspector.SplitView.ShowMode.OnlySidebar:this.hideMain()}},_saveShowModeToSettings:function(){this._savedShowMode=this._showMode,this._saveSetting()},_saveSetting:function(){var a=this._setting();if(a){var b=a.get(),c=(this._isVertical?b.vertical:b.horizontal)||{};c.size=this._savedSidebarSize,this._shouldSaveShowMode&&(c.showMode=this._savedShowMode),this._isVertical?b.vertical=c:b.horizontal=c,a.set(b)}},_forceUpdateLayout:function(){this._sidebarSize=-1,this._updateLayout()},_onZoomChanged:function(){this._forceUpdateLayout()},createShowHideSidebarButton:function(a,b){function c(){this._showMode!==WebInspector.SplitView.ShowMode.Both?this.showBoth(!0):this.hideSidebar(!0)}return console.assert(this.isVertical(),"Buttons for split view with horizontal split are not supported yet."),this._showHideSidebarButtonTitle=WebInspector.UIString(a),this._showHideSidebarButton=new WebInspector.StatusBarButton("","sidebar-show-hide-button "+b,3),this._showHideSidebarButton.addEventListener("click",c.bind(this)),this._updateShowHideSidebarButton(),this._showHideSidebarButton},_updateShowHideSidebarButton:function(){if(this._showHideSidebarButton){var a=this._showMode===WebInspector.SplitView.ShowMode.OnlyMain;this._showHideSidebarButton.state=a?"show":"hide",this._showHideSidebarButton.element.classList.toggle("top-sidebar-show-hide-button",!this.isVertical()&&!this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("right-sidebar-show-hide-button",this.isVertical()&&this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("bottom-sidebar-show-hide-button",!this.isVertical()&&this.isSidebarSecond()),this._showHideSidebarButton.element.classList.toggle("left-sidebar-show-hide-button",this.isVertical()&&!this.isSidebarSecond()),this._showHideSidebarButton.title=a?WebInspector.UIString("Show %s",this._showHideSidebarButtonTitle):WebInspector.UIString("Hide %s",this._showHideSidebarButtonTitle)}},__proto__:WebInspector.View.prototype},WebInspector.StackView=function(a){WebInspector.VBox.call(this),this._isVertical=a,this._currentSplitView=null},WebInspector.StackView.prototype={appendView:function(a,b,c,d){var e=new WebInspector.SplitView(this._isVertical,!0,b,c,d);return a.show(e.mainElement()),e.hideSidebar(),this._currentSplitView?(e.show(this._currentSplitView.sidebarElement()),this._currentSplitView.showBoth()):e.show(this.element),this._currentSplitView=e,e},detachChildViews:function(){WebInspector.View.prototype.detachChildViews.call(this),this._currentSplitView=null},__proto__:WebInspector.VBox.prototype},WebInspector.ExtensionServerAPI=function(){},WebInspector.ExtensionServerAPI.prototype={addExtensions:function(){}},WebInspector.ExtensionServerProxy=function(){},WebInspector.ExtensionServerProxy._ensureExtensionServer=function(){WebInspector.extensionServer||(WebInspector.extensionServer=WebInspector.moduleManager.instance(WebInspector.ExtensionServerAPI))},WebInspector.ExtensionServerProxy.prototype={setFrontendReady:function(){this._frontendReady=!0,this._pushExtensionsToServer()},_addExtensions:function(a){0!==a.length&&(console.assert(!this._pendingExtensions),this._pendingExtensions=a,this._pushExtensionsToServer())},_pushExtensionsToServer:function(){this._frontendReady&&this._pendingExtensions&&(WebInspector.ExtensionServerProxy._ensureExtensionServer(),WebInspector.extensionServer.addExtensions(this._pendingExtensions),delete this._pendingExtensions)}},WebInspector.extensionServerProxy=new WebInspector.ExtensionServerProxy,WebInspector.addExtensions=function(a){WebInspector.extensionServerProxy._addExtensions(a)},WebInspector.setInspectedTabId=function(a){WebInspector._inspectedTabId=a},WebInspector.EmptyView=function(a){WebInspector.VBox.call(this),this._text=a},WebInspector.EmptyView.prototype={wasShown:function(){this.element.classList.add("empty-view"),this.element.textContent=this._text},set text(a){this._text=a,this.isShowing()&&(this.element.textContent=this._text)},__proto__:WebInspector.VBox.prototype},window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,WebInspector.TempFile=function(a,b,c){function d(b){b.root.getDirectory(a,{create:!0},e.bind(this),h)}function e(a){a.getFile(b,{create:!0},f.bind(this),h)}function f(a){this._fileEntry=a,a.createWriter(g.bind(this),h)}function g(a){function b(){this._writer=a,a.onwrite=null,a.onerror=null,c(this)}function d(a){WebInspector.console.log("Failed to truncate temp file "+a.code+" : "+a.message,WebInspector.ConsoleMessage.MessageLevel.Error),c(null)}a.length?(a.onwrite=b.bind(this),a.onerror=d,a.truncate(0)):(this._writer=a,c(this))}function h(a){WebInspector.console.log("Failed to create temp file "+a.code+" : "+a.message,WebInspector.ConsoleMessage.MessageLevel.Error),c(null)}function i(){window.requestFileSystem(window.TEMPORARY,10,d.bind(this),h)}this._fileEntry=null,this._writer=null,WebInspector.TempFile._ensureTempStorageCleared(i.bind(this))},WebInspector.TempFile.prototype={write:function(a,b){var c=new Blob([a],{type:"text/plain"});this._writer.onerror=function(a){WebInspector.console.log("Failed to write into a temp file: "+a.message,WebInspector.ConsoleMessage.MessageLevel.Error),b(!1)},this._writer.onwrite=function(){b(!0)},this._writer.write(c)},finishWriting:function(){this._writer=null},read:function(a){function b(b){var c=new FileReader;c.onloadend=function(){a(this.result)},c.onerror=function(a){WebInspector.console.log("Failed to read from temp file: "+a.message,WebInspector.ConsoleMessage.MessageLevel.Error)},c.readAsText(b)}function c(b){WebInspector.console.log("Failed to load temp file: "+b.message,WebInspector.ConsoleMessage.MessageLevel.Error),a(null)}this._fileEntry.file(b,c)},writeToOutputSteam:function(a,b){function c(c){var d=new WebInspector.ChunkedFileReader(c,1e7,b);d.start(a)}function d(b){WebInspector.console.log("Failed to load temp file: "+b.message,WebInspector.ConsoleMessage.MessageLevel.Error),a.close()}this._fileEntry.file(c,d)},remove:function(){this._fileEntry&&this._fileEntry.remove(function(){})}},WebInspector.BufferedTempFileWriter=function(a,b){this._chunks=[],this._tempFile=null,this._isWriting=!1,this._finishCallback=null,this._isFinished=!1,new WebInspector.TempFile(a,b,this._didCreateTempFile.bind(this))},WebInspector.BufferedTempFileWriter.prototype={write:function(a){if(this._chunks){if(this._finishCallback)throw new Error("Now writes are allowed after close.");this._chunks.push(a),this._tempFile&&!this._isWriting&&this._writeNextChunk()}},close:function(a){this._finishCallback=a,this._isFinished?a(this._tempFile):this._isWriting||this._chunks.length||this._notifyFinished()},_didCreateTempFile:function(a){return this._tempFile=a,a?void(this._chunks.length&&this._writeNextChunk()):(this._chunks=null,void this._notifyFinished())},_writeNextChunk:function(){for(var a=0,b=0;b<this._chunks.length&&(a+=this._chunks[b].length,!(a>1e7));b++);var c=this._chunks.slice(0,b+1).join("");this._chunks.splice(0,b+1),this._isWriting=!0,this._tempFile.write(c,this._didWriteChunk.bind(this))},_didWriteChunk:function(a){return this._isWriting=!1,a?void(this._chunks.length?this._writeNextChunk():this._finishCallback&&this._notifyFinished()):(this._tempFile=null,this._chunks=null,void this._notifyFinished())},_notifyFinished:function(){this._isFinished=!0,this._tempFile&&this._tempFile.finishWriting(),this._finishCallback&&this._finishCallback(this._tempFile)}},WebInspector.TempStorageCleaner=function(){this._worker=new SharedWorker("TempStorageSharedWorker.js","TempStorage"),this._callbacks=[],this._worker.port.onmessage=this._handleMessage.bind(this),this._worker.port.onerror=this._handleError.bind(this)},WebInspector.TempStorageCleaner.prototype={ensureStorageCleared:function(a){this._callbacks?this._callbacks.push(a):a()},_handleMessage:function(a){"tempStorageCleared"===a.data.type&&(a.data.error&&WebInspector.console.log(a.data.error,WebInspector.ConsoleMessage.MessageLevel.Error),this._notifyCallbacks())},_handleError:function(a){WebInspector.console.log(WebInspector.UIString("Failed to clear temp storage: %s",a.data),WebInspector.ConsoleMessage.MessageLevel.Error),this._notifyCallbacks()},_notifyCallbacks:function(){var a=this._callbacks;this._callbacks=null;for(var b=0;b<a.length;b++)a[b]()}},WebInspector.TempFile._ensureTempStorageCleared=function(a){WebInspector.TempFile._storageCleaner||(WebInspector.TempFile._storageCleaner=new WebInspector.TempStorageCleaner),WebInspector.TempFile._storageCleaner.ensureStorageCleared(a)},WebInspector.TextRange=function(a,b,c,d){this.startLine=a,this.startColumn=b,this.endLine=c,this.endColumn=d},WebInspector.TextRange.createFromLocation=function(a,b){return new WebInspector.TextRange(a,b,a,b)},WebInspector.TextRange.fromObject=function(a){return new WebInspector.TextRange(a.startLine,a.startColumn,a.endLine,a.endColumn)},WebInspector.TextRange.prototype={isEmpty:function(){return this.startLine===this.endLine&&this.startColumn===this.endColumn},immediatelyPrecedes:function(a){return a?this.endLine===a.startLine&&this.endColumn===a.startColumn:!1},immediatelyFollows:function(a){return a?a.immediatelyPrecedes(this):!1},get linesCount(){return this.endLine-this.startLine},collapseToEnd:function(){return new WebInspector.TextRange(this.endLine,this.endColumn,this.endLine,this.endColumn)},normalize:function(){return this.startLine>this.endLine||this.startLine===this.endLine&&this.startColumn>this.endColumn?new WebInspector.TextRange(this.endLine,this.endColumn,this.startLine,this.startColumn):this.clone()},clone:function(){return new WebInspector.TextRange(this.startLine,this.startColumn,this.endLine,this.endColumn)},serializeToObject:function(){var a={};return a.startLine=this.startLine,a.startColumn=this.startColumn,a.endLine=this.endLine,a.endColumn=this.endColumn,a},compareTo:function(a){return this.startLine>a.startLine?1:this.startLine<a.startLine?-1:this.startColumn>a.startColumn?1:this.startColumn<a.startColumn?-1:0},equal:function(a){return this.startLine===a.startLine&&this.endLine===a.endLine&&this.startColumn===a.startColumn&&this.endColumn===a.endColumn},shift:function(a){return new WebInspector.TextRange(this.startLine+a,this.startColumn,this.endLine+a,this.endColumn)},toString:function(){return JSON.stringify(this)}},WebInspector.SourceRange=function(a,b){this.offset=a,this.length=b},WebInspector.TextUtils={isStopChar:function(a){return a>" "&&"0">a||a>"9"&&"A">a||a>"Z"&&"_">a||a>"_"&&"a">a||a>"z"&&"~">=a},isWordChar:function(a){return!WebInspector.TextUtils.isStopChar(a)&&!WebInspector.TextUtils.isSpaceChar(a)},isSpaceChar:function(a){return WebInspector.TextUtils._SpaceCharRegex.test(a)},isWord:function(a){for(var b=0;b<a.length;++b)if(!WebInspector.TextUtils.isWordChar(a.charAt(b)))return!1;return!0},isOpeningBraceChar:function(a){return"("===a||"{"===a},isClosingBraceChar:function(a){return")"===a||"}"===a},isBraceChar:function(a){return WebInspector.TextUtils.isOpeningBraceChar(a)||WebInspector.TextUtils.isClosingBraceChar(a)},textToWords:function(a){for(var b=[],c=-1,d=0;d<a.length;++d)WebInspector.TextUtils.isWordChar(a.charAt(d))?-1===c&&(c=d):(-1!==c&&b.push(a.substring(c,d)),c=-1);return-1!==c&&b.push(a.substring(c)),b},findBalancedCurlyBrackets:function(a,b,c){c=c||a.length,b=b||0;for(var d=0,e=!1,f=b;c>f;++f){var g=a[f];if(e)"\\"===g?++f:'"'===g&&(e=!1);else if('"'===g)e=!0;else if("{"===g)++d;else if("}"===g&&0===--d)return f+1}return-1}},WebInspector.TextUtils._SpaceCharRegex=/\s/,WebInspector.TextUtils.Indent={TwoSpaces:"  ",FourSpaces:"    ",EightSpaces:"        ",TabCharacter:"	"},WebInspector.FileSystemModel=function(){WebInspector.Object.call(this),this._fileSystemsForOrigin={},WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginAdded,this._securityOriginAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.SecurityOriginRemoved,this._securityOriginRemoved,this),FileSystemAgent.enable(),this._reset()},WebInspector.FileSystemModel.prototype={_reset:function(){for(var a in this._fileSystemsForOrigin)this._removeOrigin(a);for(var b=WebInspector.resourceTreeModel.securityOrigins(),c=0;c<b.length;++c)this._addOrigin(b[c])},_securityOriginAdded:function(a){var b=a.data;this._addOrigin(b)},_securityOriginRemoved:function(a){var b=a.data;this._removeOrigin(b)},_addOrigin:function(a){this._fileSystemsForOrigin[a]={};for(var b=["persistent","temporary"],c=0;c<b.length;++c)this._requestFileSystemRoot(a,b[c],this._fileSystemRootReceived.bind(this,a,b[c],this._fileSystemsForOrigin[a]))},_removeOrigin:function(a){for(var b in this._fileSystemsForOrigin[a]){var c=this._fileSystemsForOrigin[a][b];delete this._fileSystemsForOrigin[a][b],this._fileSystemRemoved(c)}delete this._fileSystemsForOrigin[a]},_requestFileSystemRoot:function(a,b,c){function d(a,b,d){return a?void c(FileError.SECURITY_ERR):void c(b,d)}FileSystemAgent.requestFileSystemRoot(a,b,d)},_fileSystemAdded:function(a){this.dispatchEventToListeners(WebInspector.FileSystemModel.EventTypes.FileSystemAdded,a)},_fileSystemRemoved:function(a){this.dispatchEventToListeners(WebInspector.FileSystemModel.EventTypes.FileSystemRemoved,a)},refreshFileSystemList:function(){this._reset()},_fileSystemRootReceived:function(a,b,c,d,e){if(!d&&e&&this._fileSystemsForOrigin[a]===c){var f=new WebInspector.FileSystemModel.FileSystem(this,a,b,e);c[b]=f,this._fileSystemAdded(f)}},requestDirectoryContent:function(a,b){this._requestDirectoryContent(a.url,this._directoryContentReceived.bind(this,a,b))},_requestDirectoryContent:function(a,b){function c(a,c,d){return a?void b(FileError.SECURITY_ERR):0!==c?void b(c):void b(c,d)}FileSystemAgent.requestDirectoryContent(a,c)},_directoryContentReceived:function(a,b,c,d){if(!d)return void b(c);for(var e=[],f=0;f<d.length;++f)e.push(d[f].isDirectory?new WebInspector.FileSystemModel.Directory(this,a.fileSystem,d[f]):new WebInspector.FileSystemModel.File(this,a.fileSystem,d[f]));b(c,e)},requestMetadata:function(a,b){function c(a,c,d){return a?void b(FileError.SECURITY_ERR):void b(c,d)}FileSystemAgent.requestMetadata(a.url,c)},requestFileContent:function(a,b,c,d,e,f){this._requestFileContent(a.url,b,c,d,e,f)},_requestFileContent:function(a,b,c,d,e,f){function g(a,b,c,d){return a?void(f&&f(FileError.SECURITY_ERR)):void(f&&f(b,c,d))}FileSystemAgent.requestFileContent(a,b,c,d,e,g)},deleteEntry:function(a,b){function c(c){b(c),c||d._removeFileSystem(a.fileSystem)}var d=this;a===a.fileSystem.root?this._deleteEntry(a.url,c):this._deleteEntry(a.url,b)},_deleteEntry:function(a,b){function c(a,c){return a?void(b&&b(FileError.SECURITY_ERR)):void(b&&b(c))}FileSystemAgent.deleteEntry(a,c)},_removeFileSystem:function(a){var b=a.origin,c=a.type;this._fileSystemsForOrigin[b]&&this._fileSystemsForOrigin[b][c]&&(delete this._fileSystemsForOrigin[b][c],this._fileSystemRemoved(a),Object.isEmpty(this._fileSystemsForOrigin[b])&&delete this._fileSystemsForOrigin[b])},__proto__:WebInspector.Object.prototype},WebInspector.FileSystemModel.EventTypes={FileSystemAdded:"FileSystemAdded",FileSystemRemoved:"FileSystemRemoved"},WebInspector.FileSystemModel.FileSystem=function(a,b,c,d){this.origin=b,this.type=c,this.root=new WebInspector.FileSystemModel.Directory(a,this,d)},WebInspector.FileSystemModel.FileSystem.prototype={get name(){return"filesystem:"+this.origin+"/"+this.type}},WebInspector.FileSystemModel.Entry=function(a,b,c){this._fileSystemModel=a,this._fileSystem=b,this._url=c.url,this._name=c.name,this._isDirectory=c.isDirectory},WebInspector.FileSystemModel.Entry.compare=function(a,b){return a.isDirectory!=b.isDirectory?b.isDirectory?1:-1:a.name.compareTo(b.name)},WebInspector.FileSystemModel.Entry.prototype={get fileSystemModel(){return this._fileSystemModel},get fileSystem(){return this._fileSystem},get url(){return this._url},get name(){return this._name},get isDirectory(){return this._isDirectory},requestMetadata:function(a){this.fileSystemModel.requestMetadata(this,a)},deleteEntry:function(a){this.fileSystemModel.deleteEntry(this,a)}},WebInspector.FileSystemModel.Directory=function(a,b,c){WebInspector.FileSystemModel.Entry.call(this,a,b,c)},WebInspector.FileSystemModel.Directory.prototype={requestDirectoryContent:function(a){this.fileSystemModel.requestDirectoryContent(this,a)},__proto__:WebInspector.FileSystemModel.Entry.prototype},WebInspector.FileSystemModel.File=function(a,b,c){WebInspector.FileSystemModel.Entry.call(this,a,b,c),this._mimeType=c.mimeType,this._resourceType=WebInspector.resourceTypes[c.resourceType],this._isTextFile=c.isTextFile},WebInspector.FileSystemModel.File.prototype={get mimeType(){return this._mimeType},get resourceType(){return this._resourceType},get isTextFile(){return this._isTextFile},requestFileContent:function(a,b,c,d,e){this.fileSystemModel.requestFileContent(this,a,b,c,d,e)},__proto__:WebInspector.FileSystemModel.Entry.prototype},WebInspector.OutputStreamDelegate=function(){},WebInspector.OutputStreamDelegate.prototype={onTransferStarted:function(){},onTransferFinished:function(){},onChunkTransferred:function(){},onError:function(){}},WebInspector.OutputStream=function(){},WebInspector.OutputStream.prototype={write:function(){},close:function(){}},WebInspector.ChunkedReader=function(){},WebInspector.ChunkedReader.prototype={fileSize:function(){},loadedSize:function(){},fileName:function(){},cancel:function(){}},WebInspector.ChunkedFileReader=function(a,b,c){this._file=a,this._fileSize=a.size,this._loadedSize=0,this._chunkSize=b,this._delegate=c,this._isCanceled=!1},WebInspector.ChunkedFileReader.prototype={start:function(a){this._output=a,this._reader=new FileReader,this._reader.onload=this._onChunkLoaded.bind(this),this._reader.onerror=this._delegate.onError.bind(this._delegate,this),this._delegate.onTransferStarted(),this._loadChunk()},cancel:function(){this._isCanceled=!0},loadedSize:function(){return this._loadedSize},fileSize:function(){return this._fileSize},fileName:function(){return this._file.name},_onChunkLoaded:function(a){if(!this._isCanceled&&a.target.readyState===FileReader.DONE){var b=a.target.result;if(this._loadedSize+=b.length,this._output.write(b),!this._isCanceled)return this._delegate.onChunkTransferred(this),this._loadedSize===this._fileSize?(this._file=null,this._reader=null,this._output.close(),void this._delegate.onTransferFinished()):void this._loadChunk()}},_loadChunk:function(){var a=this._loadedSize,b=Math.min(this._fileSize,a+this._chunkSize),c=this._file.slice(a,b);this._reader.readAsText(c)}},WebInspector.ChunkedXHRReader=function(a,b){this._url=a,this._delegate=b,this._fileSize=0,this._loadedSize=0,this._isCanceled=!1},WebInspector.ChunkedXHRReader.prototype={start:function(a){this._output=a,this._xhr=new XMLHttpRequest,this._xhr.open("GET",this._url,!0),this._xhr.onload=this._onLoad.bind(this),this._xhr.onprogress=this._onProgress.bind(this),this._xhr.onerror=this._delegate.onError.bind(this._delegate,this),this._xhr.send(null),this._delegate.onTransferStarted()},cancel:function(){this._isCanceled=!0,this._xhr.abort()},loadedSize:function(){return this._loadedSize},fileSize:function(){return this._fileSize},fileName:function(){return this._url},_onProgress:function(a){if(!this._isCanceled){a.lengthComputable&&(this._fileSize=a.total);var b=this._xhr.responseText.substring(this._loadedSize);b.length&&(this._loadedSize+=b.length,this._output.write(b),this._isCanceled||this._delegate.onChunkTransferred(this))}},_onLoad:function(a){this._onProgress(a),this._isCanceled||(this._output.close(),this._delegate.onTransferFinished())}},WebInspector.createFileSelectorElement=function(a){function b(){a(c.files[0])}var c=document.createElement("input");return c.type="file",c.style.display="none",c.setAttribute("tabindex",-1),c.onchange=b,c},WebInspector.FileOutputStream=function(){},WebInspector.FileOutputStream.prototype={open:function(a,b){function c(a){a&&WebInspector.fileManager.addEventListener(WebInspector.FileManager.EventTypes.AppendedToURL,this._onAppendDone,this),b(a)}this._closed=!1,this._writeCallbacks=[],this._fileName=a,WebInspector.fileManager.save(this._fileName,"",!0,c.bind(this))},write:function(a,b){this._writeCallbacks.push(b),WebInspector.fileManager.append(this._fileName,a)},close:function(){this._closed=!0,this._writeCallbacks.length||(WebInspector.fileManager.removeEventListener(WebInspector.FileManager.EventTypes.AppendedToURL,this._onAppendDone,this),WebInspector.fileManager.close(this._fileName))},_onAppendDone:function(a){if(a.data===this._fileName){var b=this._writeCallbacks.shift();b&&b(this),this._writeCallbacks.length||this._closed&&(WebInspector.fileManager.removeEventListener(WebInspector.FileManager.EventTypes.AppendedToURL,this._onAppendDone,this),WebInspector.fileManager.close(this._fileName))}}},WebInspector.DebuggerModel=function(a){a.registerDebuggerDispatcher(new WebInspector.DebuggerDispatcher(this)),this._agent=a.debuggerAgent(),this._target=a,this._debuggerPausedDetails=null,this._scripts={},this._scriptsBySourceURL=new StringMap,this._breakpointsActive=!0,WebInspector.settings.pauseOnExceptionEnabled.addChangeListener(this._pauseOnExceptionStateChanged,this),WebInspector.settings.pauseOnCaughtException.addChangeListener(this._pauseOnExceptionStateChanged,this),WebInspector.settings.enableAsyncStackTraces.addChangeListener(this._asyncStackTracesStateChanged,this),this.enableDebugger(),this.applySkipStackFrameSettings()},WebInspector.DebuggerModel.PauseOnExceptionsState={DontPauseOnExceptions:"none",PauseOnAllExceptions:"all",PauseOnUncaughtExceptions:"uncaught"},WebInspector.DebuggerModel.Location=function(a,b,c){this.scriptId=a,this.lineNumber=b,this.columnNumber=c},WebInspector.DebuggerModel.Events={DebuggerWasEnabled:"DebuggerWasEnabled",DebuggerWasDisabled:"DebuggerWasDisabled",DebuggerPaused:"DebuggerPaused",DebuggerResumed:"DebuggerResumed",ParsedScriptSource:"ParsedScriptSource",FailedToParseScriptSource:"FailedToParseScriptSource",BreakpointResolved:"BreakpointResolved",GlobalObjectCleared:"GlobalObjectCleared",CallFrameSelected:"CallFrameSelected",ConsoleCommandEvaluatedInSelectedCallFrame:"ConsoleCommandEvaluatedInSelectedCallFrame",BreakpointsActiveStateChanged:"BreakpointsActiveStateChanged"},WebInspector.DebuggerModel.BreakReason={DOM:"DOM",EventListener:"EventListener",XHR:"XHR",Exception:"exception",Assert:"assert",CSPViolation:"CSPViolation",DebugCommand:"debugCommand"},WebInspector.DebuggerModel.prototype={debuggerEnabled:function(){return!!this._debuggerEnabled},enableDebugger:function(){this._debuggerEnabled||this._agent.enable(this._debuggerWasEnabled.bind(this))},disableDebugger:function(){this._debuggerEnabled&&this._agent.disable(this._debuggerWasDisabled.bind(this))},skipAllPauses:function(a,b){this._skipAllPausesTimeout&&(clearTimeout(this._skipAllPausesTimeout),delete this._skipAllPausesTimeout),this._agent.setSkipAllPauses(a,b)},skipAllPausesUntilReloadOrTimeout:function(a){this._skipAllPausesTimeout&&clearTimeout(this._skipAllPausesTimeout),this._agent.setSkipAllPauses(!0,!0),this._skipAllPausesTimeout=setTimeout(this.skipAllPauses.bind(this,!1),a)},_debuggerWasEnabled:function(){this._debuggerEnabled=!0,this._pauseOnExceptionStateChanged(),this._asyncStackTracesStateChanged(),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.DebuggerWasEnabled)},_pauseOnExceptionStateChanged:function(){var a;a=WebInspector.settings.pauseOnExceptionEnabled.get()?WebInspector.settings.pauseOnCaughtException.get()?WebInspector.DebuggerModel.PauseOnExceptionsState.PauseOnAllExceptions:WebInspector.DebuggerModel.PauseOnExceptionsState.PauseOnUncaughtExceptions:WebInspector.DebuggerModel.PauseOnExceptionsState.DontPauseOnExceptions,this._agent.setPauseOnExceptions(a)},_asyncStackTracesStateChanged:function(){const a=4;var b=WebInspector.settings.enableAsyncStackTraces.get();this._agent.setAsyncCallStackDepth(b?a:0)},_debuggerWasDisabled:function(){this._debuggerEnabled=!1,this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.DebuggerWasDisabled)},continueToLocation:function(a){this._agent.continueToLocation(a)},stepInto:function(){function a(){this._agent.stepInto()}this._agent.setOverlayMessage(void 0,a.bind(this))},stepOver:function(){function a(){this._agent.stepOver()}this._agent.setOverlayMessage(void 0,a.bind(this))},stepOut:function(){function a(){this._agent.stepOut()}this._agent.setOverlayMessage(void 0,a.bind(this))},resume:function(){function a(){this._agent.resume()}this._agent.setOverlayMessage(void 0,a.bind(this))},setBreakpointByScriptLocation:function(a,b,c){var d=this.scriptForId(a.scriptId);d.sourceURL?this.setBreakpointByURL(d.sourceURL,a.lineNumber,a.columnNumber,b,c):this.setBreakpointBySourceId(a,b,c)},setBreakpointByURL:function(a,b,c,d,e){function f(a,b,c){if(e){var d=c;e(a?null:b,d)}}for(var g=0,h=this._scriptsBySourceURL.get(a)||[],i=0,j=h.length;j>i;++i){var k=h[i];b===k.lineOffset&&(g=g?Math.min(g,k.columnOffset):k.columnOffset)}c=Math.max(c,g),this._agent.setBreakpointByUrl(b,a,void 0,c,d,void 0,f),WebInspector.userMetrics.ScriptsBreakpointSet.record()},setBreakpointBySourceId:function(a,b,c){function d(a,b,d){if(c){var e=d;c(a?null:b,[e])}}this._agent.setBreakpoint(a,b,d),WebInspector.userMetrics.ScriptsBreakpointSet.record()},removeBreakpoint:function(a,b){function c(a){a&&console.error("Failed to remove breakpoint: "+a),b&&b()}this._agent.removeBreakpoint(a,c)},_breakpointResolved:function(a,b){this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.BreakpointResolved,{breakpointId:a,location:b})},_globalObjectCleared:function(){this._setDebuggerPausedDetails(null),this._reset(),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.GlobalObjectCleared)},_reset:function(){this._scripts={},this._scriptsBySourceURL.clear()},get scripts(){return this._scripts},scriptForId:function(a){return this._scripts[a]||null},scriptsForSourceURL:function(a){return a?this._scriptsBySourceURL.get(a)||[]:[]},setScriptSource:function(a,b,c){this._scripts[a].editSource(b,this._didEditScriptSource.bind(this,a,b,c))},_didEditScriptSource:function(a,b,c,d,e,f,g,h){c(d,e),h?this.stepInto():!d&&f&&f.length&&this._pausedScript(f,this._debuggerPausedDetails.reason,this._debuggerPausedDetails.auxData,this._debuggerPausedDetails.breakpointIds,g)},get callFrames(){return this._debuggerPausedDetails?this._debuggerPausedDetails.callFrames:null},debuggerPausedDetails:function(){return this._debuggerPausedDetails},_setDebuggerPausedDetails:function(a){this._debuggerPausedDetails&&this._debuggerPausedDetails.dispose(),this._debuggerPausedDetails=a,this._debuggerPausedDetails&&this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.DebuggerPaused,this._debuggerPausedDetails),a?(this.setSelectedCallFrame(a.callFrames[0]),this._agent.setOverlayMessage(WebInspector.UIString("Paused in debugger"))):(this.setSelectedCallFrame(null),this._agent.setOverlayMessage())},_pausedScript:function(a,b,c,d,e){this._setDebuggerPausedDetails(new WebInspector.DebuggerPausedDetails(this,a,b,c,d,e))},_resumedScript:function(){this._setDebuggerPausedDetails(null),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.DebuggerResumed)},_parsedScriptSource:function(a,b,c,d,e,f,g,h,i){var j=new WebInspector.Script(a,b,c,d,e,f,g,h,i);
this._registerScript(j),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.ParsedScriptSource,j)},_registerScript:function(a){if(this._scripts[a.scriptId]=a,!a.isAnonymousScript()){var b=this._scriptsBySourceURL.get(a.sourceURL);b||(b=[],this._scriptsBySourceURL.put(a.sourceURL,b)),b.push(a)}},createRawLocation:function(a,b,c){return a.sourceURL?this.createRawLocationByURL(a.sourceURL,b,c):new WebInspector.DebuggerModel.Location(a.scriptId,b,c)},createRawLocationByURL:function(a,b,c){for(var d=null,e=this._scriptsBySourceURL.get(a)||[],f=0,g=e.length;g>f;++f){var h=e[f];if(d||(d=h),!(h.lineOffset>b||h.lineOffset===b&&h.columnOffset>c||h.endLine<b||h.endLine===b&&h.endColumn<=c)){d=h;break}}return d?new WebInspector.DebuggerModel.Location(d.scriptId,b,c):null},isPaused:function(){return!!this.debuggerPausedDetails()},setSelectedCallFrame:function(a){this._selectedCallFrame=a,this._selectedCallFrame&&this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.CallFrameSelected,a)},selectedCallFrame:function(){return this._selectedCallFrame},evaluateOnSelectedCallFrame:function(a,b,c,d,e,f,g){function h(a,c){a?e?g(null,!!c,c?null:a):g(WebInspector.RemoteObject.fromPayload(a,this._target),!!c):g(null,!1),"console"===b&&this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.ConsoleCommandEvaluatedInSelectedCallFrame)}this.selectedCallFrame().evaluate(a,b,c,d,e,f,h.bind(this))},getSelectedCallFrameVariables:function(a){function b(b){for(var d=0;b&&d<b.length;++d)c[b[d].name]=!0;0==--e&&a(c)}var c={"this":!0},d=this._selectedCallFrame;d||a(c);for(var e=0,f=0;f<d.scopeChain.length;++f){var g=d.scopeChain[f],h=WebInspector.RemoteObject.fromPayload(g.object,this._target);e++,h.getAllProperties(!1,b)}},setBreakpointsActive:function(a){this._breakpointsActive!==a&&(this._breakpointsActive=a,this._agent.setBreakpointsActive(a),this.dispatchEventToListeners(WebInspector.DebuggerModel.Events.BreakpointsActiveStateChanged,a))},breakpointsActive:function(){return this._breakpointsActive},createLiveLocation:function(a,b){var c=this._scripts[a.scriptId];return c.createLiveLocation(a,b)},rawLocationToUILocation:function(a){var b=this._scripts[a.scriptId];return b?b.rawLocationToUILocation(a.lineNumber,a.columnNumber):null},callStackModified:function(a,b,c){b&&b.stack_update_needs_step_in?this.stepInto():a&&a.length&&this._pausedScript(a,this._debuggerPausedDetails.reason,this._debuggerPausedDetails.auxData,this._debuggerPausedDetails.breakpointIds,c)},applySkipStackFrameSettings:function(){if(WebInspector.experimentsSettings.frameworksDebuggingSupport.isEnabled()){var a=WebInspector.settings,b=a.skipStackFramesSwitch.get()?a.skipStackFramesPattern.get():void 0;this._agent.skipStackFrames(b)}},__proto__:WebInspector.Object.prototype},WebInspector.DebuggerEventTypes={JavaScriptPause:0,JavaScriptBreakpoint:1,NativeBreakpoint:2},WebInspector.DebuggerDispatcher=function(a){this._debuggerModel=a},WebInspector.DebuggerDispatcher.prototype={paused:function(a,b,c,d,e){this._debuggerModel._pausedScript(a,b,c,d||[],e)},resumed:function(){this._debuggerModel._resumedScript()},globalObjectCleared:function(){this._debuggerModel._globalObjectCleared()},scriptParsed:function(a,b,c,d,e,f,g,h,i){this._debuggerModel._parsedScriptSource(a,b,c,d,e,f,!!g,h,i)},scriptFailedToParse:function(){},breakpointResolved:function(a,b){this._debuggerModel._breakpointResolved(a,b)}},WebInspector.DebuggerModel.CallFrame=function(a,b,c,d){this._debuggerModel=a,this._debuggerAgent=a._agent,this._script=b,this._payload=c,this._locations=[],this._isAsync=d},WebInspector.DebuggerModel.CallFrame.fromPayloadArray=function(a,b,c){for(var d=[],e=0;e<b.length;++e){var f=b[e],g=a.scriptForId(f.location.scriptId);g&&d.push(new WebInspector.DebuggerModel.CallFrame(a,g,f,c))}return d},WebInspector.DebuggerModel.CallFrame.prototype={get script(){return this._script},get type(){return this._payload.type},get id(){return this._payload.callFrameId},get scopeChain(){return this._payload.scopeChain},get this(){return this._payload.this},get returnValue(){return this._payload.returnValue},get functionName(){return this._payload.functionName},get location(){var a=this._payload.location;return a},isAsync:function(){return!!this._isAsync},evaluate:function(a,b,c,d,e,f,g){function h(a,b,c){return a?(console.error(a),void g(null,!1)):void g(b,c)}this._debuggerAgent.evaluateOnCallFrame(this._payload.callFrameId,a,b,c,d,e,f,h)},restart:function(a){function b(b,c,d,e){b||this._debuggerModel.callStackModified(c,d,e),a&&a(b)}this._debuggerAgent.restartFrame(this._payload.callFrameId,b.bind(this))},createLiveLocation:function(a){var b=this._script.createLiveLocation(this.location,a);return this._locations.push(b),b},dispose:function(){for(var a=0;a<this._locations.length;++a)this._locations[a].dispose();this._locations=[]}},WebInspector.DebuggerModel.StackTrace=function(a,b,c){this.callFrames=a,this.asyncStackTrace=b,this.description=c},WebInspector.DebuggerModel.StackTrace.fromPayload=function(a,b,c){if(!b)return null;var d=WebInspector.DebuggerModel.CallFrame.fromPayloadArray(a,b.callFrames,c);if(!d.length)return null;var e=WebInspector.DebuggerModel.StackTrace.fromPayload(a,b.asyncStackTrace,!0);return new WebInspector.DebuggerModel.StackTrace(d,e,b.description)},WebInspector.DebuggerModel.StackTrace.prototype={dispose:function(){for(var a=0;a<this.callFrames.length;++a)this.callFrames[a].dispose();this.asyncStackTrace&&this.asyncStackTrace.dispose()}},WebInspector.DebuggerPausedDetails=function(a,b,c,d,e,f){this.callFrames=WebInspector.DebuggerModel.CallFrame.fromPayloadArray(a,b),this.reason=c,this.auxData=d,this.breakpointIds=e,this.asyncStackTrace=WebInspector.DebuggerModel.StackTrace.fromPayload(a,f,!0)},WebInspector.DebuggerPausedDetails.prototype={dispose:function(){for(var a=0;a<this.callFrames.length;++a)this.callFrames[a].dispose();this.asyncStackTrace&&this.asyncStackTrace.dispose()}},WebInspector.debuggerModel,SourceMapV3.Section=function(){this.map,this.offset},SourceMapV3.Offset=function(){this.line,this.column},WebInspector.SourceMap=function(a,b){if(!WebInspector.SourceMap.prototype._base64Map){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";WebInspector.SourceMap.prototype._base64Map={};for(var d=0;d<c.length;++d)WebInspector.SourceMap.prototype._base64Map[c.charAt(d)]=d}this._sourceMappingURL=a,this._reverseMappingsBySourceURL={},this._mappings=[],this._sources={},this._sourceContentByURL={},this._parseMappingPayload(b)},WebInspector.SourceMap._sourceMapRequestHeaderName="X-Source-Map-Request-From",WebInspector.SourceMap._sourceMapRequestHeaderValue="inspector",WebInspector.SourceMap.hasSourceMapRequestHeader=function(a){return a&&a.requestHeaderValue(WebInspector.SourceMap._sourceMapRequestHeaderName)===WebInspector.SourceMap._sourceMapRequestHeaderValue},WebInspector.SourceMap.load=function(a,b,c){function d(d,e,f,g){if(d||!g||e>=400)return void c(null);")]}"===g.slice(0,3)&&(g=g.substring(g.indexOf("\n")));try{var h=JSON.parse(g),i=a.startsWith("data:")?b:a;c(new WebInspector.SourceMap(i,h))}catch(j){console.error(j.message),c(null)}}var e={};e[WebInspector.SourceMap._sourceMapRequestHeaderName]=WebInspector.SourceMap._sourceMapRequestHeaderValue,NetworkAgent.loadResourceForFrontend(WebInspector.resourceTreeModel.mainFrame.id,a,e,d)},WebInspector.SourceMap.prototype={url:function(){return this._sourceMappingURL},sources:function(){return Object.keys(this._sources)},sourceContent:function(a){return this._sourceContentByURL[a]},sourceContentProvider:function(a,b){var c=this.sourceContent(a);return c?new WebInspector.StaticContentProvider(b,c):new WebInspector.CompilerSourceMappingContentProvider(a,b)},_parseMappingPayload:function(a){a.sections?this._parseSections(a.sections):this._parseMap(a,0,0)},_parseSections:function(a){for(var b=0;b<a.length;++b){var c=a[b];this._parseMap(c.map,c.offset.line,c.offset.column)}},findEntry:function(a,b){for(var c=0,d=this._mappings.length;d>1;){var e=d>>1,f=c+e,g=this._mappings[f];a<g[0]||a===g[0]&&b<g[1]?d=e:(c=f,d-=e)}var h=this._mappings[c];return!c&&h&&(a<h[0]||a===h[0]&&b<h[1])?null:h},findEntryReversed:function(a,b){for(var c=this._reverseMappingsBySourceURL[a];b<c.length;++b){var d=c[b];if(d)return d}return this._mappings[0]},_parseMap:function(a,b,c){for(var d=0,e=0,f=0,g=0,h=[],i={},j=0;j<a.sources.length;++j){var k=a.sources[j],l=a.sourceRoot||"";l&&!l.endsWith("/")&&(l+="/");var m=l+k,n=WebInspector.ParsedURL.completeURL(this._sourceMappingURL,m)||m;i[k]=n,h.push(n),this._sources[n]=!0,a.sourcesContent&&a.sourcesContent[j]&&(this._sourceContentByURL[n]=a.sourcesContent[j])}for(var o=new WebInspector.SourceMap.StringCharIterator(a.mappings),p=h[d];;){if(","===o.peek())o.next();else{for(;";"===o.peek();)b+=1,c=0,o.next();if(!o.hasNext())break}if(c+=this._decodeVLQ(o),this._isSeparator(o.peek()))this._mappings.push([b,c]);else{var q=this._decodeVLQ(o);q&&(d+=q,p=h[d]),e+=this._decodeVLQ(o),f+=this._decodeVLQ(o),this._isSeparator(o.peek())||(g+=this._decodeVLQ(o)),this._mappings.push([b,c,p,e,f])}}for(var j=0;j<this._mappings.length;++j){var r=this._mappings[j],n=r[2];if(n){this._reverseMappingsBySourceURL[n]||(this._reverseMappingsBySourceURL[n]=[]);var s=this._reverseMappingsBySourceURL[n],t=r[3];s[t]||(s[t]=[r[0],r[1]])}}},_isSeparator:function(a){return","===a||";"===a},_decodeVLQ:function(a){var b=0,c=0;do{var d=this._base64Map[a.next()];b+=(d&this._VLQ_BASE_MASK)<<c,c+=this._VLQ_BASE_SHIFT}while(d&this._VLQ_CONTINUATION_MASK);var e=1&b;return b>>=1,e?-b:b},_VLQ_BASE_SHIFT:5,_VLQ_BASE_MASK:31,_VLQ_CONTINUATION_MASK:32},WebInspector.SourceMap.StringCharIterator=function(a){this._string=a,this._position=0},WebInspector.SourceMap.StringCharIterator.prototype={next:function(){return this._string.charAt(this._position++)},peek:function(){return this._string.charAt(this._position)},hasNext:function(){return this._position<this._string.length}},WebInspector.SourceMapping=function(){},WebInspector.SourceMapping.prototype={rawLocationToUILocation:function(){},uiLocationToRawLocation:function(){},isIdentity:function(){}},WebInspector.ScriptSourceMapping=function(){},WebInspector.ScriptSourceMapping.prototype={addScript:function(){}},WebInspector.LayerTreeModel=function(){WebInspector.Object.call(this),this._layersById={},this._lastPaintRectByLayerId={},this._backendNodeIdToNodeId={},InspectorBackend.registerLayerTreeDispatcher(new WebInspector.LayerTreeDispatcher(this)),WebInspector.domModel.addEventListener(WebInspector.DOMModel.Events.DocumentUpdated,this._onDocumentUpdated,this)},WebInspector.LayerTreeModel.Events={LayerTreeChanged:"LayerTreeChanged",LayerPainted:"LayerPainted"},WebInspector.LayerTreeModel.prototype={disable:function(){this._enabled&&(this._enabled=!1,this._backendNodeIdToNodeId={},LayerTreeAgent.disable())},enable:function(){this._enabled||(this._enabled=!0,LayerTreeAgent.enable())},setSnapshot:function(a){this.disable(),this._resolveNodesAndRepopulate(a.layers)},root:function(){return this._root},contentRoot:function(){return this._contentRoot},forEachLayer:function(a,b){return b||(b=this.root())?a(b)||b.children().some(this.forEachLayer.bind(this,a)):!1},layerById:function(a){return this._layersById[a]||null},_resolveNodesAndRepopulate:function(a){function b(){this._repopulate(a||[]),this.dispatchEventToListeners(WebInspector.LayerTreeModel.Events.LayerTreeChanged)}a?this._resolveBackendNodeIdsForLayers(a,b.bind(this)):b.call(this)},_repopulate:function(a){if(this._root=null,this._contentRoot=null,a){var b=this._layersById;this._layersById={};for(var c=0;c<a.length;++c){var d=a[c].layerId,e=b[d];e?e._reset(a[c]):e=new WebInspector.Layer(a[c]),this._layersById[d]=e,a[c].backendNodeId&&(e._setNodeId(this._backendNodeIdToNodeId[a[c].backendNodeId]),this._contentRoot||(this._contentRoot=e));var f=this._lastPaintRectByLayerId[d];f&&(e._lastPaintRect=f);var g=e.parentId();if(g){var h=this._layersById[g];h||console.assert(h,"missing parent "+g+" for layer "+d),h.addChild(e)}else this._root&&console.assert(!1,"Multiple root layers"),this._root=e}this._lastPaintRectByLayerId={}}},_layerTreeChanged:function(a){this._enabled&&this._resolveNodesAndRepopulate(a)},_resolveBackendNodeIdsForLayers:function(a,b){function c(a){if(a)for(var c=0;c<e.length;++c){var d=a[c];d&&(this._backendNodeIdToNodeId[e[c]]=d)}b()}for(var d={},e=[],f=0;f<a.length;++f){var g=a[f].backendNodeId;!g||d[g]||this._backendNodeIdToNodeId[g]&&WebInspector.domModel.nodeForId(this._backendNodeIdToNodeId[g])||(d[g]=!0,e.push(g))}return e.length?void WebInspector.domModel.pushNodesByBackendIdsToFrontend(e,c.bind(this)):void b()},_layerPainted:function(a,b){var c=this._layersById[a];return c?(c._didPaint(b),void this.dispatchEventToListeners(WebInspector.LayerTreeModel.Events.LayerPainted,c)):void(this._lastPaintRectByLayerId[a]=b)},_onDocumentUpdated:function(){this.disable(),this.enable()},__proto__:WebInspector.Object.prototype},WebInspector.Layer=function(a){this._scrollRects=[],this._reset(a)},WebInspector.Layer.prototype={id:function(){return this._layerPayload.layerId},parentId:function(){return this._layerPayload.parentLayerId},parent:function(){return this._parent},isRoot:function(){return!this.parentId()},children:function(){return this._children},addChild:function(a){a._parent&&console.assert(!1,"Child already has a parent"),this._children.push(a),a._parent=this},_setNodeId:function(a){this._nodeId=a},nodeId:function(){return this._nodeId},nodeIdForSelfOrAncestor:function(){for(var a=this;a;a=a._parent){var b=a._nodeId;if(b)return b}return null},offsetX:function(){return this._layerPayload.offsetX},offsetY:function(){return this._layerPayload.offsetY},width:function(){return this._layerPayload.width},height:function(){return this._layerPayload.height},transform:function(){return this._layerPayload.transform},anchorPoint:function(){return[this._layerPayload.anchorX||0,this._layerPayload.anchorY||0,this._layerPayload.anchorZ||0]},invisible:function(){return this._layerPayload.invisible},paintCount:function(){return this._paintCount||this._layerPayload.paintCount},lastPaintRect:function(){return this._lastPaintRect},scrollRects:function(){return this._scrollRects},requestCompositingReasons:function(a){var b=InspectorBackend.wrapClientCallback(a,"LayerTreeAgent.reasonsForCompositingLayer(): ",void 0,[]);LayerTreeAgent.compositingReasons(this.id(),b)},requestSnapshot:function(a){var b=InspectorBackend.wrapClientCallback(a,"LayerTreeAgent.makeSnapshot(): ",WebInspector.PaintProfilerSnapshot);LayerTreeAgent.makeSnapshot(this.id(),b)},_didPaint:function(a){this._lastPaintRect=a,this._paintCount=this.paintCount()+1,this._image=null},_reset:function(a){this._children=[],this._parent=null,this._paintCount=0,this._layerPayload=a,this._image=null,this._nodeId=0,this._scrollRects=this._layerPayload.scrollRects||[]}},WebInspector.LayerTreeSnapshot=function(a){this.layers=a},WebInspector.LayerTreeDispatcher=function(a){this._layerTreeModel=a},WebInspector.LayerTreeDispatcher.prototype={layerTreeDidChange:function(a){this._layerTreeModel._layerTreeChanged(a)},layerPainted:function(a,b){this._layerTreeModel._layerPainted(a,b)}},WebInspector.Script=function(a,b,c,d,e,f,g,h,i){this.scriptId=a,this.sourceURL=b,this.lineOffset=c,this.columnOffset=d,this.endLine=e,this.endColumn=f,this.isContentScript=g,this.sourceMapURL=h,this.hasSourceURL=i,this._locations=new Set,this._sourceMappings=[]},WebInspector.Script.Events={ScriptEdited:"ScriptEdited"},WebInspector.Script.snippetSourceURLPrefix="snippets:///",WebInspector.Script._trimSourceURLComment=function(a){var b=/\n[\040\t]*\/\/[@#]\ssourceURL=\s*(\S*?)\s*$/gm;return a.replace(b,"")},WebInspector.Script.prototype={contentURL:function(){return this.sourceURL},contentType:function(){return WebInspector.resourceTypes.Script},requestContent:function(a){function b(b,c){this._source=WebInspector.Script._trimSourceURLComment(b?"":c),a(this._source)}return this._source?void a(this._source):void(this.scriptId?DebuggerAgent.getScriptSource(this.scriptId,b.bind(this)):a(""))},searchInContent:function(a,b,c,d){function e(a,b){a&&console.error(a);for(var c=[],e=0;e<b.length;++e){var f=new WebInspector.ContentProvider.SearchMatch(b[e].lineNumber,b[e].lineContent);c.push(f)}d(c||[])}this.scriptId?DebuggerAgent.searchInContent(this.scriptId,a,b,c,e):d([])},_appendSourceURLCommentIfNeeded:function(a){return this.hasSourceURL?a+"\n //# sourceURL="+this.sourceURL:a},editSource:function(a,b){function c(c,d,e,f,g){c||(this._source=a);var h=!!f&&f.stack_update_needs_step_in===!0;b(c,d,e,g,h),c||this.dispatchEventToListeners(WebInspector.Script.Events.ScriptEdited,a)}a=WebInspector.Script._trimSourceURLComment(a),a=this._appendSourceURLCommentIfNeeded(a),this.scriptId?DebuggerAgent.setScriptSource(this.scriptId,a,void 0,c.bind(this)):b("Script failed to parse")},isInlineScript:function(){var a=!this.lineOffset&&!this.columnOffset;return!!this.sourceURL&&!a},isAnonymousScript:function(){return!this.sourceURL},isSnippet:function(){return!!this.sourceURL&&this.sourceURL.startsWith(WebInspector.Script.snippetSourceURLPrefix)},rawLocationToUILocation:function(a,b){for(var c,d=new WebInspector.DebuggerModel.Location(this.scriptId,a,b||0),e=this._sourceMappings.length-1;!c&&e>=0;--e)c=this._sourceMappings[e].rawLocationToUILocation(d);return console.assert(c,"Script raw location can not be mapped to any ui location."),c},pushSourceMapping:function(a){this._sourceMappings.push(a),this.updateLocations()},popSourceMapping:function(){var a=this._sourceMappings.pop();return this.updateLocations(),a},updateLocations:function(){for(var a=this._locations.items(),b=0;b<a.length;++b)a[b].update()},createLiveLocation:function(a,b){console.assert(a.scriptId===this.scriptId);var c=new WebInspector.Script.Location(this,a,b);return this._locations.add(c),c.update(),c},__proto__:WebInspector.Object.prototype},WebInspector.Script.Location=function(a,b,c){WebInspector.LiveLocation.call(this,b,c),this._script=a},WebInspector.Script.Location.prototype={uiLocation:function(){var a=this.rawLocation();return this._script.rawLocationToUILocation(a.lineNumber,a.columnNumber)},dispose:function(){WebInspector.LiveLocation.prototype.dispose.call(this),this._script._locations.remove(this)},__proto__:WebInspector.LiveLocation.prototype},WebInspector.LinkifierFormatter=function(){},WebInspector.LinkifierFormatter.prototype={formatLiveAnchor:function(){}},WebInspector.Linkifier=function(a){this._formatter=a||new WebInspector.Linkifier.DefaultFormatter(WebInspector.Linkifier.MaxLengthForDisplayedURLs),this._liveLocations=[]},WebInspector.Linkifier.setLinkHandler=function(a){WebInspector.Linkifier._linkHandler=a},WebInspector.Linkifier.handleLink=function(a,b){return WebInspector.Linkifier._linkHandler?WebInspector.Linkifier._linkHandler.handleLink(a,b):!1},WebInspector.Linkifier.linkifyUsingRevealer=function(a,b,c,d,e,f){function g(a){a.consume(!0),c&&WebInspector.Linkifier.handleLink(c,d)||WebInspector.Revealer.reveal(this)}var h=document.createElement("a");return h.className=(f||"")+" webkit-html-resource-link",h.textContent=b.trimMiddle(WebInspector.Linkifier.MaxLengthForDisplayedURLs),h.title=e||b,c&&(h.href=c,h.lineNumber=d),h.addEventListener("click",g.bind(a),!1),h},WebInspector.Linkifier.prototype={linkifyLocation:function(a,b,c,d){var e=WebInspector.debuggerModel.createRawLocationByURL(a,b,c||0);return e?this.linkifyRawLocation(e,d):WebInspector.linkifyResourceAsNode(a,b,d)},linkifyRawLocation:function(a,b){var c=WebInspector.debuggerModel.scriptForId(a.scriptId);if(!c)return null;var d=this._createAnchor(b),e=c.createLiveLocation(a,this._updateAnchor.bind(this,d));return this._liveLocations.push(e),d},linkifyCSSLocation:function(a,b,c){var d=this._createAnchor(c),e=WebInspector.cssModel.createLiveLocation(a,b,this._updateAnchor.bind(this,d));return e?(this._liveLocations.push(e),d):null},_createAnchor:function(a){function b(a){a.consume(!0),c.__uiLocation&&(WebInspector.Linkifier.handleLink(c.__uiLocation.url(),c.__uiLocation.lineNumber)||WebInspector.Revealer.reveal(c.__uiLocation))}var c=document.createElement("a");return c.className=(a||"")+" webkit-html-resource-link",c.addEventListener("click",b,!1),c},reset:function(){for(var a=0;a<this._liveLocations.length;++a)this._liveLocations[a].dispose();this._liveLocations=[]},_updateAnchor:function(a,b){a.__uiLocation=b,this._formatter.formatLiveAnchor(a,b)}},WebInspector.Linkifier.DefaultFormatter=function(a){this._maxLength=a},WebInspector.Linkifier.DefaultFormatter.prototype={formatLiveAnchor:function(a,b){var c=b.linkText();this._maxLength&&(c=c.trimMiddle(this._maxLength)),a.textContent=c;var d=b.uiSourceCode.originURL();"number"==typeof b.lineNumber&&(d+=":"+(b.lineNumber+1)),a.title=d}},WebInspector.Linkifier.DefaultCSSFormatter=function(){WebInspector.Linkifier.DefaultFormatter.call(this,WebInspector.Linkifier.DefaultCSSFormatter.MaxLengthForDisplayedURLs)},WebInspector.Linkifier.DefaultCSSFormatter.MaxLengthForDisplayedURLs=30,WebInspector.Linkifier.DefaultCSSFormatter.prototype={formatLiveAnchor:function(a,b){WebInspector.Linkifier.DefaultFormatter.prototype.formatLiveAnchor.call(this,a,b),a.classList.add("webkit-html-resource-link"),a.setAttribute("data-uncopyable",a.textContent),a.textContent=""},__proto__:WebInspector.Linkifier.DefaultFormatter.prototype},WebInspector.Linkifier.MaxLengthForDisplayedURLs=150,WebInspector.Linkifier.LinkHandler=function(){},WebInspector.Linkifier.LinkHandler.prototype={handleLink:function(){}},WebInspector.Linkifier.liveLocationText=function(a,b,c){var d=WebInspector.debuggerModel.scriptForId(a);if(!d)return"";var e=d.rawLocationToUILocation(b,c);return e.linkText()},WebInspector.DebuggerScriptMapping=function(a,b,c){this._defaultMapping=new WebInspector.DefaultScriptMapping(a,b),this._resourceMapping=new WebInspector.ResourceScriptMapping(a,b),this._compilerMapping=new WebInspector.CompilerScriptMapping(a,b,c),this._snippetMapping=WebInspector.scriptSnippetModel.scriptMapping,WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.ParsedScriptSource,this._parsedScriptSource,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.FailedToParseScriptSource,this._parsedScriptSource,this)},WebInspector.DebuggerScriptMapping.prototype={_parsedScriptSource:function(a){var b=a.data;return this._defaultMapping.addScript(b),b.isSnippet()?void this._snippetMapping.addScript(b):(this._resourceMapping.addScript(b),void(WebInspector.settings.jsSourceMapsEnabled.get()&&this._compilerMapping.addScript(b)))}},WebInspector.PresentationConsoleMessageHelper=function(a){this._pendingConsoleMessages={},this._presentationConsoleMessages=[],this._workspace=a,WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,this._consoleMessageAdded,this),WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.ConsoleCleared,this._consoleCleared,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.ParsedScriptSource,this._parsedScriptSource,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.FailedToParseScriptSource,this._parsedScriptSource,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this)},WebInspector.PresentationConsoleMessageHelper.prototype={_consoleMessageAdded:function(a){var b=a.data;if(b.url&&b.isErrorOrWarning()){var c=this._rawLocation(b);c?this._addConsoleMessageToScript(b,c):this._addPendingConsoleMessage(b)}},_rawLocation:function(a){var b=a.stackTrace?a.stackTrace[0].lineNumber-1:a.line-1,c=a.stackTrace&&a.stackTrace[0].columnNumber?a.stackTrace[0].columnNumber-1:0;return WebInspector.debuggerModel.createRawLocationByURL(a.url,b,c)},_addConsoleMessageToScript:function(a,b){this._presentationConsoleMessages.push(new WebInspector.PresentationConsoleMessage(a,b))},_addPendingConsoleMessage:function(a){a.url&&(this._pendingConsoleMessages[a.url]||(this._pendingConsoleMessages[a.url]=[]),this._pendingConsoleMessages[a.url].push(a))},_parsedScriptSource:function(a){var b=a.data,c=this._pendingConsoleMessages[b.sourceURL];if(c){for(var d=[],e=0;e<c.length;e++){var f=c[e],g=this._rawLocation(f);b.scriptId===g.scriptId?this._addConsoleMessageToScript(f,g):d.push(f)}d.length?this._pendingConsoleMessages[b.sourceURL]=d:delete this._pendingConsoleMessages[b.sourceURL]}},_consoleCleared:function(){this._pendingConsoleMessages={};for(var a=0;a<this._presentationConsoleMessages.length;++a)this._presentationConsoleMessages[a].dispose();this._presentationConsoleMessages=[];for(var b=this._workspace.uiSourceCodes(),a=0;a<b.length;++a)b[a].consoleMessagesCleared()},_debuggerReset:function(){this._pendingConsoleMessages={},this._presentationConsoleMessages=[]}},WebInspector.PresentationConsoleMessage=function(a,b){this.originalMessage=a,this._liveLocation=WebInspector.debuggerModel.createLiveLocation(b,this._updateLocation.bind(this))},WebInspector.PresentationConsoleMessage.prototype={_updateLocation:function(a){this._uiLocation&&this._uiLocation.uiSourceCode.consoleMessageRemoved(this),this._uiLocation=a,this._uiLocation.uiSourceCode.consoleMessageAdded(this)},get lineNumber(){return this._uiLocation.lineNumber},dispose:function(){this._liveLocation.dispose()}},WebInspector.FileSystemProjectDelegate=function(a,b){this._fileSystem=a,this._normalizedFileSystemPath=this._fileSystem.path(),WebInspector.isWin()&&(this._normalizedFileSystemPath=this._normalizedFileSystemPath.replace(/\\/g,"/")),this._fileSystemURL="file://"+this._normalizedFileSystemPath+"/",this._workspace=b,this._searchCallbacks={},this._indexingCallbacks={},this._indexingProgresses={}},WebInspector.FileSystemProjectDelegate._scriptExtensions=["js","java","coffee","ts","dart"].keySet(),WebInspector.FileSystemProjectDelegate._styleSheetExtensions=["css","scss","sass","less"].keySet(),WebInspector.FileSystemProjectDelegate._documentExtensions=["htm","html","asp","aspx","phtml","jsp"].keySet(),WebInspector.FileSystemProjectDelegate.projectId=function(a){return"filesystem:"+a},WebInspector.FileSystemProjectDelegate._lastRequestId=0,WebInspector.FileSystemProjectDelegate.prototype={id:function(){return WebInspector.FileSystemProjectDelegate.projectId(this._fileSystem.path())},type:function(){return WebInspector.projectTypes.FileSystem},fileSystemPath:function(){return this._fileSystem.path()},displayName:function(){return this._normalizedFileSystemPath.substr(this._normalizedFileSystemPath.lastIndexOf("/")+1)},_filePathForPath:function(a){return"/"+a},requestFileContent:function(a,b){var c=this._filePathForPath(a);this._fileSystem.requestFileContent(c,b)},requestMetadata:function(a,b){var c=this._filePathForPath(a);this._fileSystem.requestMetadata(c,b)},canSetFileContent:function(){return!0},setFileContent:function(a,b,c){var d=this._filePathForPath(a);this._fileSystem.setFileContent(d,b,c.bind(this,""))},canRename:function(){return!0},rename:function(a,b,c){function d(a,b){if(!a)return void c(!1,b);var d=b;console.assert(d);var f=e.lastIndexOf("/"),g=e.substring(0,f);e=g+"/"+d;var h=this._workspace.urlForPath(this._fileSystem.path(),e),i=this._extensionForPath(d),j=this._fileSystemURL+e,k=this._contentTypeForExtension(i);c(!0,d,h,j,k)}var e=this._filePathForPath(a);this._fileSystem.renameFile(e,b,d.bind(this))},searchInFileContent:function(a,b,c,d,e){function f(a){var f=[];null!==a&&(f=WebInspector.ContentProvider.performSearchInContent(a,b,c,d)),e(f)}var g=this._filePathForPath(a);this._fileSystem.requestFileContent(g,f)},findFilesMatchingSearchRequest:function(a,b,c,d,e,f){function g(){if(!k.length)return void i.call(null,j);var a=k.shift();this._searchInPath(d?"":a,e,h.bind(this))}function h(a){a=a.sort(),e.worked(1),j=j?j.intersectOrdered(a,String.naturalOrderComparator):a,g.call(this)}function i(a){function d(a){for(var b=0;b<g.length;++b)if(!a.match(g[b]))return!1;return!0}for(var g=[],h=0;h<b.length;++h)g.push(new RegExp(b[h],c?"":"i"));a=a.filter(d),e.done(),f(a)}var j=null,k=a.slice();k.length||k.push(""),e.setTotalWork(k.length),g.call(this)},_searchInPath:function(a,b,c){function d(a){function d(a){var b=a.substr(this._fileSystem.path().length+1);return WebInspector.isWin()&&(b=b.replace(/\\/g,"/")),b}a=a.map(d.bind(this)),b.worked(1),c(a)}var e=++WebInspector.FileSystemProjectDelegate._lastRequestId;this._searchCallbacks[e]=d.bind(this),InspectorFrontendHost.searchInPath(e,this._fileSystem.path(),a)},searchCompleted:function(a,b){if(this._searchCallbacks[a]){var c=this._searchCallbacks[a];delete this._searchCallbacks[a],c(b)}},indexContent:function(a,b){var c=++WebInspector.FileSystemProjectDelegate._lastRequestId;this._indexingCallbacks[c]=b,this._indexingProgresses[c]=a,a.setTotalWork(1),a.addEventListener(WebInspector.Progress.Events.Canceled,this._indexingCanceled.bind(this,c)),InspectorFrontendHost.indexPath(c,this._fileSystem.path())},_indexingCanceled:function(a){this._indexingProgresses[a]&&(InspectorFrontendHost.stopIndexing(a),delete this._indexingProgresses[a],delete this._indexingCallbacks[a])},indexingTotalWorkCalculated:function(a,b){if(this._indexingProgresses[a]){var c=this._indexingProgresses[a];c.setTotalWork(b)}},indexingWorked:function(a,b){if(this._indexingProgresses[a]){var c=this._indexingProgresses[a];c.worked(b)}},indexingDone:function(a){if(this._indexingProgresses[a]){var b=this._indexingProgresses[a],c=this._indexingCallbacks[a];delete this._indexingProgresses[a],delete this._indexingCallbacks[a],b.done(),c.call()}},_extensionForPath:function(a){var b=a.lastIndexOf(".");return-1===b?"":a.substring(b+1).toLowerCase()},_contentTypeForExtension:function(a){return WebInspector.FileSystemProjectDelegate._scriptExtensions[a]?WebInspector.resourceTypes.Script:WebInspector.FileSystemProjectDelegate._styleSheetExtensions[a]?WebInspector.resourceTypes.Stylesheet:WebInspector.FileSystemProjectDelegate._documentExtensions[a]?WebInspector.resourceTypes.Document:WebInspector.resourceTypes.Other},populate:function(){this._fileSystem.requestFilesRecursive("",this._addFile.bind(this))},refresh:function(a){this._fileSystem.requestFilesRecursive(a,this._addFile.bind(this))},excludeFolder:function(a){WebInspector.isolatedFileSystemManager.mapping().addExcludedFolder(this._fileSystem.path(),a)},createFile:function(a,b,c,d){function e(a){return a?(g=a,c?void this._fileSystem.setFileContent(a,c,f.bind(this)):void f.call(this)):void d(null)}function f(){this._addFile(g),d(g)}this._fileSystem.createFile(a,b,e.bind(this));var g},deleteFile:function(a){this._fileSystem.deleteFile(a),this._removeFile(a)},remove:function(){WebInspector.isolatedFileSystemManager.removeFileSystem(this._fileSystem.path())},_addFile:function(a){a||console.assert(!1);var b=a.lastIndexOf("/"),c=a.substring(0,b),d=a.substring(b+1),e=this._workspace.urlForPath(this._fileSystem.path(),a),f=this._extensionForPath(d),g=this._contentTypeForExtension(f),h=new WebInspector.FileDescriptor(c,d,this._fileSystemURL+a,e,g,!0);this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.FileAdded,h)},_removeFile:function(a){this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.FileRemoved,a)},reset:function(){this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.Reset,null)},__proto__:WebInspector.Object.prototype},WebInspector.fileSystemProjectDelegate,WebInspector.FileSystemWorkspaceProvider=function(a,b){this._isolatedFileSystemManager=a,this._workspace=b,this._isolatedFileSystemManager.addEventListener(WebInspector.IsolatedFileSystemManager.Events.FileSystemAdded,this._fileSystemAdded,this),this._isolatedFileSystemManager.addEventListener(WebInspector.IsolatedFileSystemManager.Events.FileSystemRemoved,this._fileSystemRemoved,this),this._projectDelegates={}},WebInspector.FileSystemWorkspaceProvider.prototype={_fileSystemAdded:function(a){var b=a.data,c=(WebInspector.FileSystemProjectDelegate.projectId(b.path()),new WebInspector.FileSystemProjectDelegate(b,this._workspace));
this._projectDelegates[c.id()]=c,console.assert(!this._workspace.project(c.id())),this._workspace.addProject(c),c.populate()},_fileSystemRemoved:function(a){var b=a.data,c=WebInspector.FileSystemProjectDelegate.projectId(b.path());this._workspace.removeProject(c),delete this._projectDelegates[c]},fileSystemPath:function(a){var b=this._projectDelegates[a.project().id()];return b.fileSystemPath()},delegate:function(a){var b=WebInspector.FileSystemProjectDelegate.projectId(a);return this._projectDelegates[b]}},WebInspector.fileSystemWorkspaceProvider,WebInspector.FileSystemMapping=function(){WebInspector.Object.call(this),this._fileSystemMappingSetting=WebInspector.settings.createSetting("fileSystemMapping",{}),this._excludedFoldersSetting=WebInspector.settings.createSetting("workspaceExcludedFolders",{});var a=["/\\.git/","/\\.sass-cache/","/\\.hg/","/\\.idea/","/\\.svn/","/\\.cache/","/\\.project/"],b=["/Thumbs.db$","/ehthumbs.db$","/Desktop.ini$","/\\$RECYCLE.BIN/"],c=["/\\.DS_Store$","/\\.Trashes$","/\\.Spotlight-V100$","/\\.AppleDouble$","/\\.LSOverride$","/Icon$","/\\._.*$"],d=["/.*~$"],e=a;e=e.concat(WebInspector.isWin()?b:WebInspector.isMac()?c:d);var f=e.join("|");WebInspector.settings.workspaceFolderExcludePattern=WebInspector.settings.createRegExpSetting("workspaceFolderExcludePattern",f,WebInspector.isWin()?"i":""),this._fileSystemMappings={},this._excludedFolders={},this._loadFromSettings()},WebInspector.FileSystemMapping.Events={FileMappingAdded:"FileMappingAdded",FileMappingRemoved:"FileMappingRemoved",ExcludedFolderAdded:"ExcludedFolderAdded",ExcludedFolderRemoved:"ExcludedFolderRemoved"},WebInspector.FileSystemMapping.prototype={_loadFromSettings:function(){var a=this._fileSystemMappingSetting.get();this._fileSystemMappings={};for(var b in a){var c=a[b];this._fileSystemMappings[b]=[];for(var d=this._fileSystemMappings[b],e=0;e<c.length;++e){var f=c[e],g=new WebInspector.FileSystemMapping.Entry(f.fileSystemPath,f.urlPrefix,f.pathPrefix);d.push(g)}}var h=this._excludedFoldersSetting.get();this._excludedFolders={};for(var b in h){var i=h[b];this._excludedFolders[b]=[];for(var j=this._excludedFolders[b],e=0;e<i.length;++e){var f=i[e],g=new WebInspector.FileSystemMapping.ExcludedFolderEntry(f.fileSystemPath,f.path);j.push(g)}}this._rebuildIndexes()},_saveToSettings:function(){var a=this._fileSystemMappings;this._fileSystemMappingSetting.set(a);var b=this._excludedFolders;this._excludedFoldersSetting.set(b),this._rebuildIndexes()},_rebuildIndexes:function(){this._mappingForURLPrefix={},this._urlPrefixes=[];for(var a in this._fileSystemMappings)for(var b=this._fileSystemMappings[a],c=0;c<b.length;++c){var d=b[c];this._mappingForURLPrefix[d.urlPrefix]=d,this._urlPrefixes.push(d.urlPrefix)}this._urlPrefixes.sort()},addFileSystem:function(a){this._fileSystemMappings[a]||(this._fileSystemMappings[a]=[],this._saveToSettings())},removeFileSystem:function(a){this._fileSystemMappings[a]&&(delete this._fileSystemMappings[a],delete this._excludedFolders[a],this._saveToSettings())},addFileMapping:function(a,b,c){var d=new WebInspector.FileSystemMapping.Entry(a,b,c);this._fileSystemMappings[a].push(d),this._saveToSettings(),this.dispatchEventToListeners(WebInspector.FileSystemMapping.Events.FileMappingAdded,d)},removeFileMapping:function(a,b,c){var d=this._mappingEntryForPathPrefix(a,c);d&&(this._fileSystemMappings[a].remove(d),this._saveToSettings(),this.dispatchEventToListeners(WebInspector.FileSystemMapping.Events.FileMappingRemoved,d))},addExcludedFolder:function(a,b){this._excludedFolders[a]||(this._excludedFolders[a]=[]);var c=new WebInspector.FileSystemMapping.ExcludedFolderEntry(a,b);this._excludedFolders[a].push(c),this._saveToSettings(),this.dispatchEventToListeners(WebInspector.FileSystemMapping.Events.ExcludedFolderAdded,c)},removeExcludedFolder:function(a,b){var c=this._excludedFolderEntryForPath(a,b);c&&(this._excludedFolders[a].remove(c),this._saveToSettings(),this.dispatchEventToListeners(WebInspector.FileSystemMapping.Events.ExcludedFolderRemoved,c))},fileSystemPaths:function(){return Object.keys(this._fileSystemMappings)},_mappingEntryForURL:function(a){for(var b=this._urlPrefixes.length-1;b>=0;--b){var c=this._urlPrefixes[b];if(a.startsWith(c))return this._mappingForURLPrefix[c]}return null},_excludedFolderEntryForPath:function(a,b){var c=this._excludedFolders[a];if(!c)return null;for(var d=0;d<c.length;++d)if(c[d].path===b)return c[d];return null},_mappingEntryForPath:function(a,b){var c=this._fileSystemMappings[a];if(!c)return null;for(var d=null,e=0;e<c.length;++e){var f=c[e].pathPrefix;d&&d.pathPrefix.length>f.length||b.startsWith(f.substr(1))&&(d=c[e])}return d},_mappingEntryForPathPrefix:function(a,b){for(var c=this._fileSystemMappings[a],d=0;d<c.length;++d)if(b===c[d].pathPrefix)return c[d];return null},isFileExcluded:function(a,b){for(var c=this._excludedFolders[a]||[],d=0;d<c.length;++d){var e=c[d];if(e.path===b)return!0}var f=WebInspector.settings.workspaceFolderExcludePattern.asRegExp();return f&&f.test(b)},excludedFolders:function(a){var b=this._excludedFolders[a];return b?b.slice():[]},mappingEntries:function(a){return this._fileSystemMappings[a].slice()},hasMappingForURL:function(a){return!!this._mappingEntryForURL(a)},fileForURL:function(a){var b=this._mappingEntryForURL(a);if(!b)return null;var c={};return c.fileSystemPath=b.fileSystemPath,c.filePath=b.pathPrefix.substr(1)+a.substr(b.urlPrefix.length),c},urlForPath:function(a,b){var c=this._mappingEntryForPath(a,b);return c?c.urlPrefix+b.substring(c.pathPrefix.length-1):""},removeMappingForURL:function(a){var b=this._mappingEntryForURL(a);b&&(this._fileSystemMappings[b.fileSystemPath].remove(b),this._saveToSettings())},addMappingForResource:function(a,b,c){for(var d=0,e="/"+c,f=0;f<e.length;++f){var g=e[e.length-1-f],h=a[a.length-1-f];if(g!==h)break;"/"===g&&(d=f)}var i=e.substr(0,e.length-d),j=a.substr(0,a.length-d);this.addFileMapping(b,j,i)},__proto__:WebInspector.Object.prototype},WebInspector.FileSystemMapping.Entry=function(a,b,c){this.fileSystemPath=a,this.urlPrefix=b,this.pathPrefix=c},WebInspector.FileSystemMapping.ExcludedFolderEntry=function(a,b){this.fileSystemPath=a,this.path=b},WebInspector.IsolatedFileSystem=function(a,b,c,d){this._manager=a,this._path=b,this._name=c,this._rootURL=d},WebInspector.IsolatedFileSystem.errorMessage=function(a){var b;switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:b="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:b="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:b="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:b="INVALID_STATE_ERR";break;default:b=WebInspector.UIString("Unknown Error")}return WebInspector.UIString("File system error: %s",b)},WebInspector.IsolatedFileSystem.prototype={path:function(){return this._path},name:function(){return this._name},rootURL:function(){return this._rootURL},_requestFileSystem:function(a){this._manager.requestDOMFileSystem(this._path,a)},requestFilesRecursive:function(a,b){function c(b){e=b,console.assert(e),this._requestEntries(e,a,d.bind(this))}function d(a){for(var c=0;c<a.length;++c){var f=a[c];if(f.isDirectory){if(this._manager.mapping().isFileExcluded(this._path,f.fullPath+"/"))continue;this._requestEntries(e,f.fullPath,d.bind(this))}else{if(this._manager.mapping().isFileExcluded(this._path,f.fullPath))continue;b(f.fullPath.substr(1))}}}this._requestFileSystem(c.bind(this));var e},createFile:function(a,b,c){function d(b){var c=b;console.assert(c),c.root.getDirectory(a,null,e.bind(this),f.bind(this))}function e(d){function f(a){c(a.fullPath.substr(1))}function h(b){if(b.code===FileError.INVALID_MODIFICATION_ERR)return void e.call(this,d);var f=WebInspector.IsolatedFileSystem.errorMessage(b);console.error(f+" when testing if file exists '"+(this._path+"/"+a+"/"+i)+"'"),c(null)}var i=b;g>1&&(i+=g),++g,d.getFile(i,{create:!0,exclusive:!0},f,h.bind(this))}function f(b){var d=WebInspector.IsolatedFileSystem.errorMessage(b),e=this._path+"/"+a;h&&(e+="/"+h),console.error(d+" when getting content for file '"+e+"'"),c(null)}this._requestFileSystem(d.bind(this));var g=1;b||(b="NewFile");var h},deleteFile:function(a){function b(b){var d=b;console.assert(d),d.root.getFile(a,null,c.bind(this),e.bind(this))}function c(a){a.remove(d,e.bind(this))}function d(){}function e(b){var c=WebInspector.IsolatedFileSystem.errorMessage(b);console.error(c+" when deleting file '"+(this._path+"/"+a)+"'")}this._requestFileSystem(b.bind(this))},requestMetadata:function(a,b){function c(b){var c=b;console.assert(c),c.root.getFile(a,null,d,f)}function d(a){a.getMetadata(e,f)}function e(a){b(a.modificationTime,a.size)}function f(){b(null,null)}this._requestFileSystem(c)},requestFileContent:function(a,b){function c(b){var c=b;console.assert(c),c.root.getFile(a,null,d.bind(this),g.bind(this))}function d(a){a.file(e,g.bind(this))}function e(a){var b=new FileReader;b.onloadend=f,b.readAsText(a)}function f(){b(this.result)}function g(c){if(c.code===FileError.NOT_FOUND_ERR)return void b(null);var d=WebInspector.IsolatedFileSystem.errorMessage(c);console.error(d+" when getting content for file '"+(this._path+"/"+a)+"'"),b(null)}this._requestFileSystem(c.bind(this))},setFileContent:function(a,b,c){function d(b){var c=b;console.assert(c),c.root.getFile(a,{create:!0},e.bind(this),h.bind(this))}function e(a){a.createWriter(f.bind(this),h.bind(this))}function f(a){function c(){a.onwriteend=g;var c=new Blob([b],{type:"text/plain"});a.write(c)}a.onerror=h.bind(this),a.onwriteend=c,a.truncate(0)}function g(){c()}function h(b){var d=WebInspector.IsolatedFileSystem.errorMessage(b);console.error(d+" when setting content for file '"+(this._path+"/"+a)+"'"),c()}this._requestFileSystem(d.bind(this))},renameFile:function(a,b,c){function d(b){var c=b;console.assert(c),c.root.getFile(a,null,e.bind(this),j.bind(this))}function e(a){return a.name===b?void c(!1):(k=a,void k.getParent(f.bind(this),j.bind(this)))}function f(a){l=a,l.getFile(b,null,g,h.bind(this))}function g(){c(!1)}function h(a){return a.code!==FileError.NOT_FOUND_ERR?void c(!1):void k.moveTo(l,b,i,j.bind(this))}function i(a){c(!0,a.name)}function j(d){var e=WebInspector.IsolatedFileSystem.errorMessage(d);console.error(e+" when renaming file '"+(this._path+"/"+a)+"' to '"+b+"'"),c(!1)}if(b=b?b.trim():b,!b||-1!==b.indexOf("/"))return void c(!1);var k,l;this._requestFileSystem(d.bind(this))},_readDirectory:function(a,b){function c(a){a.length?(g=g.concat(d(a)),f.readEntries(c,e)):b(g.sort())}function d(a){return Array.prototype.slice.call(a||[],0)}function e(c){var d=WebInspector.IsolatedFileSystem.errorMessage(c);console.error(d+" when reading directory '"+a.fullPath+"'"),b([])}var f=a.createReader(),g=[];f.readEntries(c,e)},_requestEntries:function(a,b,c){function d(a){this._readDirectory(a,c)}function e(a){var d=WebInspector.IsolatedFileSystem.errorMessage(a);console.error(d+" when requesting entry '"+b+"'"),c([])}a.root.getDirectory(b,null,d.bind(this),e)}},WebInspector.IsolatedFileSystemManager=function(){this._fileSystems={},this._pendingFileSystemRequests={},this._fileSystemMapping=new WebInspector.FileSystemMapping,this._requestFileSystems()},WebInspector.IsolatedFileSystemManager.FileSystem,WebInspector.IsolatedFileSystemManager.Events={FileSystemAdded:"FileSystemAdded",FileSystemRemoved:"FileSystemRemoved"},WebInspector.IsolatedFileSystemManager.prototype={mapping:function(){return this._fileSystemMapping},_requestFileSystems:function(){console.assert(!this._loaded),InspectorFrontendHost.requestFileSystems()},addFileSystem:function(){InspectorFrontendHost.addFileSystem()},removeFileSystem:function(a){InspectorFrontendHost.removeFileSystem(a)},_fileSystemsLoaded:function(a){for(var b={},c=0;c<a.length;++c)this._innerAddFileSystem(a[c]),b[a[c].fileSystemPath]=!0;for(var d=this._fileSystemMapping.fileSystemPaths(),c=0;c<d.length;++c){var e=d[c];b[e]||this._fileSystemRemoved(e)}this._loaded=!0,this._processPendingFileSystemRequests()},_innerAddFileSystem:function(a){var b=a.fileSystemPath;this._fileSystemMapping.addFileSystem(b);var c=new WebInspector.IsolatedFileSystem(this,b,a.fileSystemName,a.rootURL);this._fileSystems[b]=c,this.dispatchEventToListeners(WebInspector.IsolatedFileSystemManager.Events.FileSystemAdded,c)},_processPendingFileSystemRequests:function(){for(var a in this._pendingFileSystemRequests)for(var b=this._pendingFileSystemRequests[a],c=0;c<b.length;++c)b[c](this._isolatedFileSystem(a));delete this._pendingFileSystemRequests},_fileSystemAdded:function(a,b){var c;a?WebInspector.console.showErrorMessage(a):b&&(this._innerAddFileSystem(b),c=b.fileSystemPath)},_fileSystemRemoved:function(a){this._fileSystemMapping.removeFileSystem(a);var b=this._fileSystems[a];delete this._fileSystems[a],b&&this.dispatchEventToListeners(WebInspector.IsolatedFileSystemManager.Events.FileSystemRemoved,b)},_isolatedFileSystem:function(a){var b=this._fileSystems[a];return b&&InspectorFrontendHost.isolatedFileSystem?InspectorFrontendHost.isolatedFileSystem(b.name(),b.rootURL()):null},requestDOMFileSystem:function(a,b){return this._loaded?void b(this._isolatedFileSystem(a)):(this._pendingFileSystemRequests[a]||(this._pendingFileSystemRequests[a]=this._pendingFileSystemRequests[a]||[]),void this._pendingFileSystemRequests[a].push(b))},__proto__:WebInspector.Object.prototype},WebInspector.isolatedFileSystemManager,WebInspector.IsolatedFileSystemDispatcher=function(a){this._IsolatedFileSystemManager=a},WebInspector.IsolatedFileSystemDispatcher.prototype={fileSystemsLoaded:function(a){this._IsolatedFileSystemManager._fileSystemsLoaded(a)},fileSystemRemoved:function(a){this._IsolatedFileSystemManager._fileSystemRemoved(a)},fileSystemAdded:function(a,b){this._IsolatedFileSystemManager._fileSystemAdded(a,b)}},WebInspector.isolatedFileSystemDispatcher,WebInspector.FileDescriptor=function(a,b,c,d,e,f,g){this.parentPath=a,this.name=b,this.originURL=c,this.url=d,this.contentType=e,this.isEditable=f,this.isContentScript=g||!1},WebInspector.ProjectDelegate=function(){},WebInspector.ProjectDelegate.Events={FileAdded:"FileAdded",FileRemoved:"FileRemoved",Reset:"Reset"},WebInspector.ProjectDelegate.prototype={id:function(){},type:function(){},displayName:function(){},requestMetadata:function(){},requestFileContent:function(){},canSetFileContent:function(){},setFileContent:function(){},canRename:function(){},rename:function(){},refresh:function(){},excludeFolder:function(){},createFile:function(){},deleteFile:function(){},remove:function(){},searchInFileContent:function(){},findFilesMatchingSearchRequest:function(){},indexContent:function(){}},WebInspector.Project=function(a,b){this._uiSourceCodesMap={},this._uiSourceCodesList=[],this._workspace=a,this._projectDelegate=b,this._displayName=this._projectDelegate.displayName(),this._projectDelegate.addEventListener(WebInspector.ProjectDelegate.Events.FileAdded,this._fileAdded,this),this._projectDelegate.addEventListener(WebInspector.ProjectDelegate.Events.FileRemoved,this._fileRemoved,this),this._projectDelegate.addEventListener(WebInspector.ProjectDelegate.Events.Reset,this._reset,this)},WebInspector.Project.prototype={id:function(){return this._projectDelegate.id()},type:function(){return this._projectDelegate.type()},displayName:function(){return this._displayName},isServiceProject:function(){return this._projectDelegate.type()===WebInspector.projectTypes.Debugger||this._projectDelegate.type()===WebInspector.projectTypes.Formatter||this._projectDelegate.type()===WebInspector.projectTypes.LiveEdit},_fileAdded:function(a){var b=a.data,c=b.parentPath?b.parentPath+"/"+b.name:b.name,d=this.uiSourceCode(c);d||(d=new WebInspector.UISourceCode(this,b.parentPath,b.name,b.originURL,b.url,b.contentType,b.isEditable),d.isContentScript=b.isContentScript,this._uiSourceCodesMap[c]={uiSourceCode:d,index:this._uiSourceCodesList.length},this._uiSourceCodesList.push(d),this._workspace.dispatchEventToListeners(WebInspector.Workspace.Events.UISourceCodeAdded,d))},_fileRemoved:function(a){var b=a.data;this._removeFile(b)},_removeFile:function(a){var b=this.uiSourceCode(a);if(b){var c=this._uiSourceCodesMap[a],d=this._uiSourceCodesList[this._uiSourceCodesList.length-1];this._uiSourceCodesList[c.index]=d;var e=this._uiSourceCodesMap[d.path()];e.index=c.index,this._uiSourceCodesList.splice(this._uiSourceCodesList.length-1,1),delete this._uiSourceCodesMap[a],this._workspace.dispatchEventToListeners(WebInspector.Workspace.Events.UISourceCodeRemoved,c.uiSourceCode)}},_reset:function(){this._workspace.dispatchEventToListeners(WebInspector.Workspace.Events.ProjectWillReset,this),this._uiSourceCodesMap={},this._uiSourceCodesList=[]},workspace:function(){return this._workspace},uiSourceCode:function(a){var b=this._uiSourceCodesMap[a];return b?b.uiSourceCode:null},uiSourceCodeForOriginURL:function(a){for(var b=0;b<this._uiSourceCodesList.length;++b){var c=this._uiSourceCodesList[b];if(c.originURL()===a)return c}return null},uiSourceCodes:function(){return this._uiSourceCodesList},requestMetadata:function(a,b){this._projectDelegate.requestMetadata(a.path(),b)},requestFileContent:function(a,b){this._projectDelegate.requestFileContent(a.path(),b)},canSetFileContent:function(){return this._projectDelegate.canSetFileContent()},setFileContent:function(a,b,c){function d(d){this._workspace.dispatchEventToListeners(WebInspector.Workspace.Events.UISourceCodeContentCommitted,{uiSourceCode:a,content:b}),c(d)}this._projectDelegate.setFileContent(a.path(),b,d.bind(this))},canRename:function(){return this._projectDelegate.canRename()},rename:function(a,b,c){function d(b,d,e,f,g){if(!b||!d)return void c(!1);var h=a.path(),i=a.parentPath()?a.parentPath()+"/"+d:d;this._uiSourceCodesMap[i]=this._uiSourceCodesMap[h],delete this._uiSourceCodesMap[h],c(!0,d,e,f,g)}return b===a.name()?void c(!0,a.name(),a.url,a.originURL(),a.contentType()):void this._projectDelegate.rename(a.path(),b,d.bind(this))},refresh:function(a){this._projectDelegate.refresh(a)},excludeFolder:function(a){this._projectDelegate.excludeFolder(a);for(var b=this._uiSourceCodesList.slice(),c=0;c<b.length;++c){var d=b[c];d.path().startsWith(a.substr(1))&&this._removeFile(d.path())}},createFile:function(a,b,c,d){function e(a){d(a)}this._projectDelegate.createFile(a,b,c,e)},deleteFile:function(a){this._projectDelegate.deleteFile(a)},remove:function(){this._projectDelegate.remove()},searchInFileContent:function(a,b,c,d,e){this._projectDelegate.searchInFileContent(a.path(),b,c,d,e)},findFilesMatchingSearchRequest:function(a,b,c,d,e,f){this._projectDelegate.findFilesMatchingSearchRequest(a,b,c,d,e,f)},indexContent:function(a,b){this._projectDelegate.indexContent(a,b)},dispose:function(){this._projectDelegate.reset()}},WebInspector.projectTypes={Debugger:"debugger",Formatter:"formatter",LiveEdit:"liveedit",Network:"network",Snippets:"snippets",FileSystem:"filesystem"},WebInspector.Workspace=function(a){this._fileSystemMapping=a,this._projects={},this._hasResourceContentTrackingExtensions=!1},WebInspector.Workspace.Events={UISourceCodeAdded:"UISourceCodeAdded",UISourceCodeRemoved:"UISourceCodeRemoved",UISourceCodeContentCommitted:"UISourceCodeContentCommitted",ProjectWillReset:"ProjectWillReset"},WebInspector.Workspace.prototype={unsavedSourceCodes:function(){function a(a){return a.isDirty()}return this.uiSourceCodes().filter(a)},uiSourceCode:function(a,b){var c=this._projects[a];return c?c.uiSourceCode(b):null},uiSourceCodeForOriginURL:function(a){for(var b=this.projectsForType(WebInspector.projectTypes.Network),c=0;c<b.length;++c){var d=b[c],e=d.uiSourceCodeForOriginURL(a);if(e)return e}return null},uiSourceCodesForProjectType:function(a){var b=[];for(var c in this._projects){var d=this._projects[c];d.type()===a&&(b=b.concat(d.uiSourceCodes()))}return b},addProject:function(a){var b=a.id();return this._projects[b]=new WebInspector.Project(this,a),this._projects[b]},removeProject:function(a){var b=this._projects[a];b&&(b.dispose(),delete this._projects[a])},project:function(a){return this._projects[a]},projects:function(){return Object.values(this._projects)},projectsForType:function(a){function b(b){return b.type()===a}return this.projects().filter(b)},uiSourceCodes:function(){var a=[];for(var b in this._projects){var c=this._projects[b];a=a.concat(c.uiSourceCodes())}return a},hasMappingForURL:function(a){return this._fileSystemMapping.hasMappingForURL(a)},_networkUISourceCodeForURL:function(a){var b=WebInspector.ParsedURL.splitURL(a),c=WebInspector.SimpleProjectDelegate.projectId(b[0],WebInspector.projectTypes.Network),d=this.project(c);return d?d.uiSourceCode(b.slice(1).join("/")):null},uiSourceCodeForURL:function(a){var b=this._fileSystemMapping.fileForURL(a);if(!b)return this._networkUISourceCodeForURL(a);var c=WebInspector.FileSystemProjectDelegate.projectId(b.fileSystemPath),d=this.project(c);return d?d.uiSourceCode(b.filePath):null},urlForPath:function(a,b){return this._fileSystemMapping.urlForPath(a,b)},addMapping:function(a,b,c){var d=a.url,e=b.path(),f=c.fileSystemPath(b);this._fileSystemMapping.addMappingForResource(d,f,e)},removeMapping:function(a){this._fileSystemMapping.removeMappingForURL(a.url)},setHasResourceContentTrackingExtensions:function(a){this._hasResourceContentTrackingExtensions=a},hasResourceContentTrackingExtensions:function(){return this._hasResourceContentTrackingExtensions},__proto__:WebInspector.Object.prototype},WebInspector.workspace,WebInspector.WorkspaceController=function(a){this._workspace=a,WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.InspectedURLChanged,this._inspectedURLChanged,this),window.addEventListener("focus",this._windowFocused.bind(this),!1)},WebInspector.WorkspaceController.prototype={_inspectedURLChanged:function(){WebInspector.Revision.filterOutStaleRevisions()},_windowFocused:function(){function a(){delete this._fileSystemRefreshTimeout;for(var a=this._workspace.projects(),b=0;b<a.length;++b)a[b].refresh("/")}this._fileSystemRefreshTimeout||(this._fileSystemRefreshTimeout=setTimeout(a.bind(this),1e3))}},WebInspector.ContentProviderBasedProjectDelegate=function(a){this._type=a,this._contentProviders={},this._isContentScriptMap={}},WebInspector.ContentProviderBasedProjectDelegate.prototype={id:function(){return""},type:function(){return this._type},displayName:function(){return""},requestMetadata:function(a,b){b(null,null)},requestFileContent:function(a,b){var c=this._contentProviders[a];c.requestContent(b)},canSetFileContent:function(){return!1},setFileContent:function(a,b,c){c(null)},canRename:function(){return!1},rename:function(a,b,c){function d(b,d){b&&this._updateName(a,d),c(b,d)}this.performRename(a,b,d.bind(this))},refresh:function(){},excludeFolder:function(){},createFile:function(){},deleteFile:function(){},remove:function(){},performRename:function(a,b,c){c(!1)},_updateName:function(a,b){var c=a,d=a.split("/");d[d.length-1]=b;var e=d.join("/");this._contentProviders[e]=this._contentProviders[c],delete this._contentProviders[c]},searchInFileContent:function(a,b,c,d,e){var f=this._contentProviders[a];f.searchInContent(b,c,d,e)},findFilesMatchingSearchRequest:function(a,b,c,d,e,f){function g(a){return!this._isContentScriptMap[a]}function h(a){for(var b=0;b<o.length;++b)if(!a.match(o[b]))return!1;return!0}function i(b,e){function f(){if(!h.length)return void e(!0);var a=h.shift();this._contentProviders[b].searchInContent(a,c,d,g.bind(this))}function g(a){return a.length?void f.call(this):void e(!1)}var h=a.slice();f.call(this)}function j(a,b){b&&l.push(a),e.worked(1)}function k(){f(l),e.done()}var l=[],m=Object.keys(this._contentProviders),n=m.length;if(0===n)return void setTimeout(k,0);WebInspector.settings.searchInContentScripts.get()||(m=m.filter(g.bind(this)));for(var o=[],p=0;p<b.length;++p)o.push(new RegExp(b[p],c?"":"i"));m=m.filter(h);var q=new CallbackBarrier;e.setTotalWork(m.length);for(var p=0;p<m.length;++p)i.call(this,m[p],q.createCallback(j.bind(null,m[p])));q.callWhenDone(k)},indexContent:function(a,b){function c(){a.done(),b()}setTimeout(c,0)},addContentProvider:function(a,b,c,d,e,f){var g=a?a+"/"+b:b;if(this._contentProviders[g])return g;var h=new WebInspector.FileDescriptor(a,b,c,c,d.contentType(),e,f);return this._contentProviders[g]=d,this._isContentScriptMap[g]=f||!1,this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.FileAdded,h),g},removeFile:function(a){delete this._contentProviders[a],delete this._isContentScriptMap[a],this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.FileRemoved,a)},contentProviders:function(){return this._contentProviders},reset:function(){this._contentProviders={},this._isContentScriptMap={},this.dispatchEventToListeners(WebInspector.ProjectDelegate.Events.Reset,null)},__proto__:WebInspector.Object.prototype},WebInspector.SimpleProjectDelegate=function(a,b){WebInspector.ContentProviderBasedProjectDelegate.call(this,b),this._name=a,this._lastUniqueSuffix=0},WebInspector.SimpleProjectDelegate.projectId=function(a,b){var c=b!==WebInspector.projectTypes.Network?b+":":"";return c+a},WebInspector.SimpleProjectDelegate.prototype={id:function(){return WebInspector.SimpleProjectDelegate.projectId(this._name,this.type())},displayName:function(){if("undefined"!=typeof this._displayName)return this._displayName;if(!this._name)return this._displayName=this.type()!==WebInspector.projectTypes.Snippets?WebInspector.UIString("(no domain)"):"",this._displayName;var a=new WebInspector.ParsedURL(this._name);return a.isValid?(this._displayName=a.host+(a.port?":"+a.port:""),this._displayName||(this._displayName=this._name)):this._displayName=this._name,this._displayName},addFile:function(a,b,c,d,e,f,g){return c&&(b=this._ensureUniqueName(a,b)),this.addContentProvider(a,b,d,e,f,g)},_ensureUniqueName:function(a,b){for(var c=a?a+"/"+b:b,d=c,e="",f=this.contentProviders();f[d];)e=" ("+ ++this._lastUniqueSuffix+")",d=c+e;return b+e},__proto__:WebInspector.ContentProviderBasedProjectDelegate.prototype},WebInspector.SimpleWorkspaceProvider=function(a,b){this._workspace=a,this._type=b,this._simpleProjectDelegates={}},WebInspector.SimpleWorkspaceProvider.prototype={_projectDelegate:function(a){if(this._simpleProjectDelegates[a])return this._simpleProjectDelegates[a];var b=new WebInspector.SimpleProjectDelegate(a,this._type);return this._simpleProjectDelegates[a]=b,this._workspace.addProject(b),b},addFileForURL:function(a,b,c,d){return this._innerAddFileForURL(a,b,c,!1,d)},addUniqueFileForURL:function(a,b,c,d){return this._innerAddFileForURL(a,b,c,!0,d)},_innerAddFileForURL:function(a,b,c,d,e){var f=WebInspector.ParsedURL.splitURL(a),g=f[0],h=f.slice(1,f.length-1).join("/"),i=f[f.length-1],j=this._projectDelegate(g),k=j.addFile(h,i,d,a,b,c,e),l=this._workspace.uiSourceCode(j.id(),k);return console.assert(l),l},reset:function(){for(var a in this._simpleProjectDelegates)this._simpleProjectDelegates[a].reset();this._simpleProjectDelegates={}},__proto__:WebInspector.Object.prototype},WebInspector.BreakpointManager=function(a,b,c){this._storage=new WebInspector.BreakpointManager.Storage(this,a),this._debuggerModel=b,this._workspace=c,this._breakpointForDebuggerId={},this._breakpointsForUISourceCode=new Map,this._breakpointsForPrimaryUISourceCode=new Map,this._sourceFilesWithRestoredBreakpoints={},this._debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.BreakpointResolved,this._breakpointResolved,this),this._workspace.addEventListener(WebInspector.Workspace.Events.ProjectWillReset,this._projectWillReset,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAdded,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeRemoved,this._uiSourceCodeRemoved,this)},WebInspector.BreakpointManager.Events={BreakpointAdded:"breakpoint-added",BreakpointRemoved:"breakpoint-removed"},WebInspector.BreakpointManager._sourceFileId=function(a){return a.url?a.uri():""},WebInspector.BreakpointManager._breakpointStorageId=function(a,b,c){return a?a+":"+b+":"+c:""},WebInspector.BreakpointManager.prototype={_provisionalBreakpointsForSourceFileId:function(a){var b=new StringMap;for(var c in this._breakpointForDebuggerId){var d=this._breakpointForDebuggerId[c];d._sourceFileId===a&&b.put(d._breakpointStorageId(),d)}return b},removeProvisionalBreakpointsForTest:function(){for(var a in this._breakpointForDebuggerId)this._debuggerModel.removeBreakpoint(a)},_restoreBreakpoints:function(a){var b=WebInspector.BreakpointManager._sourceFileId(a);if(b&&!this._sourceFilesWithRestoredBreakpoints[b]){this._sourceFilesWithRestoredBreakpoints[b]=!0,this._storage.mute();for(var c=this._storage.breakpointItems(a),d=this._provisionalBreakpointsForSourceFileId(b),e=0;e<c.length;++e){var f=c[e],g=WebInspector.BreakpointManager._breakpointStorageId(f.sourceFileId,f.lineNumber,f.columnNumber),h=d.get(g);h?(this._breakpointsForPrimaryUISourceCode.get(a)||this._breakpointsForPrimaryUISourceCode.put(a,[]),this._breakpointsForPrimaryUISourceCode.get(a).push(h),h._updateInDebugger()):this._innerSetBreakpoint(a,f.lineNumber,f.columnNumber,f.condition,f.enabled)}this._storage.unmute()}},_uiSourceCodeAdded:function(a){var b=a.data;this._restoreBreakpoints(b),(b.contentType()===WebInspector.resourceTypes.Script||b.contentType()===WebInspector.resourceTypes.Document)&&b.addEventListener(WebInspector.UISourceCode.Events.SourceMappingChanged,this._uiSourceCodeMappingChanged,this)},_uiSourceCodeRemoved:function(a){var b=a.data;this._removeUISourceCode(b)},_uiSourceCodeMappingChanged:function(a){var b=a.target,c=a.data.isIdentity;if(!c)for(var d=this._breakpointsForPrimaryUISourceCode.get(b)||[],e=0;e<d.length;++e)d[e]._updateInDebugger()},_removeUISourceCode:function(a){for(var b=this._breakpointsForPrimaryUISourceCode.get(a)||[],c=0;c<b.length;++c)b[c]._resetLocations();var d=WebInspector.BreakpointManager._sourceFileId(a);delete this._sourceFilesWithRestoredBreakpoints[d],a.removeEventListener(WebInspector.UISourceCode.Events.SourceMappingChanged,this._uiSourceCodeMappingChanged,this),this._breakpointsForPrimaryUISourceCode.remove(a)},setBreakpoint:function(a,b,c,d,e){return this._debuggerModel.setBreakpointsActive(!0),this._innerSetBreakpoint(a,b,c,d,e)},_innerSetBreakpoint:function(a,b,c,d,e){var f=this.findBreakpoint(a,b,c);if(f)return f._updateBreakpoint(d,e),f;var g=a.project().id(),h=a.path(),i=WebInspector.BreakpointManager._sourceFileId(a);return f=new WebInspector.BreakpointManager.Breakpoint(this,g,h,i,b,c,d,e),this._breakpointsForPrimaryUISourceCode.get(a)||this._breakpointsForPrimaryUISourceCode.put(a,[]),this._breakpointsForPrimaryUISourceCode.get(a).push(f),f},findBreakpoint:function(a,b,c){var d=this._breakpointsForUISourceCode.get(a),e=d?d.get(String(b)):null,f=e?e.get(String(c)):null;return f?f[0]:null},findBreakpointOnLine:function(a,b){var c=this._breakpointsForUISourceCode.get(a),d=c?c.get(String(b)):null;return d?d.values()[0][0]:null},breakpointsForUISourceCode:function(a){for(var b=[],c=this._breakpointsForUISourceCode.get(a),d=c?c.values():[],e=0;e<d.length;++e){var f=d[e],g=f?f.values():[];b=b.concat.apply(b,g)}return b},allBreakpoints:function(){for(var a=[],b=this._breakpointsForUISourceCode.keys(),c=0;c<b.length;++c)a=a.concat(this.breakpointsForUISourceCode(b[c]));return a},breakpointLocationsForUISourceCode:function(a){for(var b=this._breakpointsForUISourceCode.get(a),c=b?b.keys():[],d=[],e=0;e<c.length;++e)for(var f=b.get(c[e]),g=f.keys(),h=0;h<g.length;++h)for(var i=f.get(g[h]),j=parseInt(c[e],10),k=parseInt(g[h],10),l=0;l<i.length;++l){var m=i[l],n=new WebInspector.UILocation(a,j,k);d.push({breakpoint:m,uiLocation:n})}return d},allBreakpointLocations:function(){for(var a=[],b=this._breakpointsForUISourceCode.keys(),c=0;c<b.length;++c)a=a.concat(this.breakpointLocationsForUISourceCode(b[c]));return a},toggleAllBreakpoints:function(a){for(var b=this.allBreakpoints(),c=0;c<b.length;++c)b[c].setEnabled(a)
},removeAllBreakpoints:function(){for(var a=this.allBreakpoints(),b=0;b<a.length;++b)a[b].remove()},_projectWillReset:function(a){for(var b=a.data,c=b.uiSourceCodes(),d=0;d<c.length;++d)this._removeUISourceCode(c[d])},_breakpointResolved:function(a){var b=a.data.breakpointId,c=a.data.location,d=this._breakpointForDebuggerId[b];d&&d._addResolvedLocation(c)},_removeBreakpoint:function(a,b){var c=a.uiSourceCode(),d=c?this._breakpointsForPrimaryUISourceCode.get(c)||[]:[],e=d.indexOf(a);e>-1&&d.splice(e,1),b&&this._storage._removeBreakpoint(a)},_uiLocationAdded:function(a,b){var c=this._breakpointsForUISourceCode.get(b.uiSourceCode);c||(c=new StringMap,this._breakpointsForUISourceCode.put(b.uiSourceCode,c));var d=c.get(String(b.lineNumber));d||(d=new StringMap,c.put(String(b.lineNumber),d));var e=d.get(String(b.columnNumber));e||(e=[],d.put(String(b.columnNumber),e)),e.push(a),this.dispatchEventToListeners(WebInspector.BreakpointManager.Events.BreakpointAdded,{breakpoint:a,uiLocation:b})},_uiLocationRemoved:function(a,b){var c=this._breakpointsForUISourceCode.get(b.uiSourceCode);if(c){var d=c.get(String(b.lineNumber));if(d){var e=d.get(String(b.columnNumber));e&&(e.remove(a),e.length||d.remove(String(b.columnNumber)),d.size()||c.remove(String(b.lineNumber)),c.size()||this._breakpointsForUISourceCode.remove(b.uiSourceCode),this.dispatchEventToListeners(WebInspector.BreakpointManager.Events.BreakpointRemoved,{breakpoint:a,uiLocation:b}))}}},__proto__:WebInspector.Object.prototype},WebInspector.BreakpointManager.Breakpoint=function(a,b,c,d,e,f,g,h){this._breakpointManager=a,this._projectId=b,this._path=c,this._lineNumber=e,this._columnNumber=f,this._sourceFileId=d,this._liveLocations=[],this._uiLocations={},this._condition,this._enabled,this._updateBreakpoint(g,h)},WebInspector.BreakpointManager.Breakpoint.prototype={projectId:function(){return this._projectId},path:function(){return this._path},lineNumber:function(){return this._lineNumber},columnNumber:function(){return this._columnNumber},uiSourceCode:function(){return this._breakpointManager._workspace.uiSourceCode(this._projectId,this._path)},_addResolvedLocation:function(a){this._liveLocations.push(this._breakpointManager._debuggerModel.createLiveLocation(a,this._locationUpdated.bind(this,a)))},_locationUpdated:function(a,b){var c=a.scriptId+":"+a.lineNumber+":"+a.columnNumber,d=this._uiLocations[c];if(d&&this._breakpointManager._uiLocationRemoved(this,d),this._uiLocations[""]){var e=this._uiLocations[""];delete this._uiLocations[""],this._breakpointManager._uiLocationRemoved(this,e)}this._uiLocations[c]=b,this._breakpointManager._uiLocationAdded(this,b)},enabled:function(){return this._enabled},setEnabled:function(a){this._updateBreakpoint(this._condition,a)},condition:function(){return this._condition},setCondition:function(a){this._updateBreakpoint(a,this._enabled)},_updateBreakpoint:function(a,b){(this._enabled!==b||this._condition!==a)&&(this._removeFromDebugger(),this._enabled=b,this._condition=a,this._breakpointManager._storage._updateBreakpoint(this),this._fakeBreakpointAtPrimaryLocation(),this._updateInDebugger())},_updateInDebugger:function(){var a=this.uiSourceCode();if(a){var b=a&&a.scriptFile();!this._enabled||b&&b.hasDivergedFromVM()||this._setInDebugger()}},remove:function(a){var b=!a;this._resetLocations(),this._removeFromDebugger(),this._breakpointManager._removeBreakpoint(this,b)},_setInDebugger:function(){this._removeFromDebugger();var a=this._breakpointManager._workspace.uiSourceCode(this._projectId,this._path);if(a){var b=a.uiLocationToRawLocation(this._lineNumber,this._columnNumber),c=b;c?this._breakpointManager._debuggerModel.setBreakpointByScriptLocation(c,this._condition,this._didSetBreakpointInDebugger.bind(this)):a.url&&this._breakpointManager._debuggerModel.setBreakpointByURL(a.url,this._lineNumber,this._columnNumber,this._condition,this._didSetBreakpointInDebugger.bind(this))}},_didSetBreakpointInDebugger:function(a,b){if(!a)return this._resetLocations(),void this._breakpointManager._removeBreakpoint(this,!1);if(this._debuggerId=a,this._breakpointManager._breakpointForDebuggerId[a]=this,!b.length)return void this._fakeBreakpointAtPrimaryLocation();this._resetLocations();for(var c=0;c<b.length;++c){var d=this._breakpointManager._debuggerModel.scriptForId(b[c].scriptId),e=d.rawLocationToUILocation(b[c].lineNumber,b[c].columnNumber);if(this._breakpointManager.findBreakpoint(e.uiSourceCode,e.lineNumber,e.columnNumber))return void this.remove()}for(var c=0;c<b.length;++c)this._addResolvedLocation(b[c])},_removeFromDebugger:function(){this._debuggerId&&this._breakpointManager._debuggerModel.removeBreakpoint(this._debuggerId,this._didRemoveFromDebugger.bind(this))},_didRemoveFromDebugger:function(){delete this._breakpointManager._breakpointForDebuggerId[this._debuggerId],delete this._debuggerId},_resetLocations:function(){for(var a in this._uiLocations)this._breakpointManager._uiLocationRemoved(this,this._uiLocations[a]);for(var b=0;b<this._liveLocations.length;++b)this._liveLocations[b].dispose();this._liveLocations=[],this._uiLocations={}},_breakpointStorageId:function(){return WebInspector.BreakpointManager._breakpointStorageId(this._sourceFileId,this._lineNumber,this._columnNumber)},_fakeBreakpointAtPrimaryLocation:function(){this._resetLocations();var a=this._breakpointManager._workspace.uiSourceCode(this._projectId,this._path);if(a){var b=new WebInspector.UILocation(a,this._lineNumber,this._columnNumber);this._uiLocations[""]=b,this._breakpointManager._uiLocationAdded(this,b)}}},WebInspector.BreakpointManager.Storage=function(a,b){this._breakpointManager=a,this._setting=b;var c=this._setting.get();this._breakpoints={};for(var d=0;d<c.length;++d){var e=c[d];e.columnNumber=e.columnNumber||0,this._breakpoints[e.sourceFileId+":"+e.lineNumber+":"+e.columnNumber]=e}},WebInspector.BreakpointManager.Storage.prototype={mute:function(){this._muted=!0},unmute:function(){delete this._muted},breakpointItems:function(a){var b=[],c=WebInspector.BreakpointManager._sourceFileId(a);for(var d in this._breakpoints){var e=this._breakpoints[d];e.sourceFileId===c&&b.push(e)}return b},_updateBreakpoint:function(a){!this._muted&&a._breakpointStorageId()&&(this._breakpoints[a._breakpointStorageId()]=new WebInspector.BreakpointManager.Storage.Item(a),this._save())},_removeBreakpoint:function(a){this._muted||(delete this._breakpoints[a._breakpointStorageId()],this._save())},_save:function(){var a=[];for(var b in this._breakpoints)a.push(this._breakpoints[b]);this._setting.set(a)}},WebInspector.BreakpointManager.Storage.Item=function(a){this.sourceFileId=a._sourceFileId,this.lineNumber=a.lineNumber(),this.columnNumber=a.columnNumber(),this.condition=a.condition(),this.enabled=a.enabled()},WebInspector.breakpointManager,WebInspector.ConcatenatedScriptsContentProvider=function(a){this._scripts=a},WebInspector.ConcatenatedScriptsContentProvider.scriptOpenTag="<script>",WebInspector.ConcatenatedScriptsContentProvider.scriptCloseTag="</script>",WebInspector.ConcatenatedScriptsContentProvider.prototype={_sortedScripts:function(){if(this._sortedScriptsArray)return this._sortedScriptsArray;this._sortedScriptsArray=[];var a=this._scripts.slice();a.sort(function(a,b){return a.lineOffset-b.lineOffset||a.columnOffset-b.columnOffset});var b=WebInspector.ConcatenatedScriptsContentProvider.scriptOpenTag.length,c=WebInspector.ConcatenatedScriptsContentProvider.scriptCloseTag.length;this._sortedScriptsArray.push(a[0]);for(var d=1;d<a.length;++d){var e=this._sortedScriptsArray[this._sortedScriptsArray.length-1],f=e.endLine,g=e.endColumn+c+b;(f<a[d].lineOffset||f===a[d].lineOffset&&g<=a[d].columnOffset)&&this._sortedScriptsArray.push(a[d])}return this._sortedScriptsArray},contentURL:function(){return""},contentType:function(){return WebInspector.resourceTypes.Document},requestContent:function(a){function b(b){d.push(b),d.length==c.length&&a(this._concatenateScriptsContent(c,d))}for(var c=this._sortedScripts(),d=[],e=0;e<c.length;++e)c[e].requestContent(b.bind(this))},searchInContent:function(a,b,c,d){function e(){if(!i){for(var a=[],b=0;b<h.length;++b)a=a.concat(g[h[b].scriptId]);d(a)}}function f(a,b){g[a.scriptId]=[];for(var c=0;c<b.length;++c){var d=new WebInspector.ContentProvider.SearchMatch(b[c].lineNumber+a.lineOffset,b[c].lineContent);g[a.scriptId].push(d)}i--,e()}var g={},h=this._sortedScripts(),i=h.length;e();for(var j=0;j<h.length;++j)h[j].searchInContent(a,b,c,f.bind(null,h[j]))},_concatenateScriptsContent:function(a,b){for(var c="",d=0,e=0,f=WebInspector.ConcatenatedScriptsContentProvider.scriptOpenTag,g=WebInspector.ConcatenatedScriptsContentProvider.scriptCloseTag,h=0;h<a.length;++h){for(var i=a[h].lineOffset-d;i>0;--i)e=0,c+="\n";for(var j=a[h].columnOffset-e-f.length;j>0;--j)c+=" ";c+=f,c+=b[h],c+=g,d=a[h].endLine,e=a[h].endColumn+g.length}return c}},WebInspector.CompilerSourceMappingContentProvider=function(a,b){this._sourceURL=a,this._contentType=b},WebInspector.CompilerSourceMappingContentProvider.prototype={contentURL:function(){return this._sourceURL},contentType:function(){return this._contentType},requestContent:function(a){function b(b,c,d,e){return b||c>=400?(console.error("Could not load content for "+this._sourceURL+" : "+(b||"HTTP status code: "+c)),void a(null)):void a(e)}NetworkAgent.loadResourceForFrontend(WebInspector.resourceTreeModel.mainFrame.id,this._sourceURL,void 0,b.bind(this))},searchInContent:function(a,b,c,d){function e(e){return"string"!=typeof e?void d([]):void d(WebInspector.ContentProvider.performSearchInContent(e,a,b,c))}this.requestContent(e)}},WebInspector.StaticContentProvider=function(a,b){this._content=b,this._contentType=a},WebInspector.StaticContentProvider.prototype={contentURL:function(){return""},contentType:function(){return this._contentType},requestContent:function(a){a(this._content)},searchInContent:function(a,b,c,d){function e(){d(WebInspector.ContentProvider.performSearchInContent(this._content,a,b,c))}window.setTimeout(e.bind(this),0)}},WebInspector.DefaultScriptMapping=function(a,b){this._debuggerModel=a,this._projectDelegate=new WebInspector.DebuggerProjectDelegate,this._workspace=b,this._workspace.addProject(this._projectDelegate),a.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this),this._debuggerReset()},WebInspector.DefaultScriptMapping.prototype={rawLocationToUILocation:function(a){var b=a,c=this._debuggerModel.scriptForId(b.scriptId),d=this._uiSourceCodeForScriptId[c.scriptId],e=b.lineNumber,f=b.columnNumber||0;return new WebInspector.UILocation(d,e,f)},uiLocationToRawLocation:function(a,b,c){var d=this._scriptIdForUISourceCode.get(a),e=this._debuggerModel.scriptForId(d);return this._debuggerModel.createRawLocation(e,b,c)},addScript:function(a){var b=this._projectDelegate.addScript(a),c=this._workspace.uiSourceCode(this._projectDelegate.id(),b);return c?(this._uiSourceCodeForScriptId[a.scriptId]=c,this._scriptIdForUISourceCode.put(c,a.scriptId),c.setSourceMapping(this),a.pushSourceMapping(this),void a.addEventListener(WebInspector.Script.Events.ScriptEdited,this._scriptEdited.bind(this,a.scriptId))):void console.assert(c)},isIdentity:function(){return!0},_scriptEdited:function(a,b){var c=b.data;this._uiSourceCodeForScriptId[a].addRevision(c)},_debuggerReset:function(){this._uiSourceCodeForScriptId={},this._scriptIdForUISourceCode=new Map,this._projectDelegate.reset()}},WebInspector.DebuggerProjectDelegate=function(){WebInspector.ContentProviderBasedProjectDelegate.call(this,WebInspector.projectTypes.Debugger)},WebInspector.DebuggerProjectDelegate.prototype={id:function(){return"debugger:"},displayName:function(){return"debugger"},addScript:function(a){var b=a.isInlineScript()?new WebInspector.ConcatenatedScriptsContentProvider([a]):a,c=WebInspector.ParsedURL.splitURL(a.sourceURL),d=c[c.length-1];return d="VM"+a.scriptId+(d?" "+d:""),this.addContentProvider("",d,a.sourceURL,b,!1,a.isContentScript)},__proto__:WebInspector.ContentProviderBasedProjectDelegate.prototype},WebInspector.ResourceScriptMapping=function(a,b){this._debuggerModel=a,this._workspace=b,this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAddedToWorkspace,this),this._boundURLs=new StringSet,a.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this)},WebInspector.ResourceScriptMapping.prototype={rawLocationToUILocation:function(a){var b=a,c=this._debuggerModel.scriptForId(b.scriptId),d=this._workspaceUISourceCodeForScript(c);if(!d)return null;var e=d.scriptFile();return e&&(e.hasDivergedFromVM()&&!e.isMergingToVM()||e.isDivergingFromVM())?null:new WebInspector.UILocation(d,b.lineNumber,b.columnNumber||0)},uiLocationToRawLocation:function(a,b,c){var d=this._scriptsForUISourceCode(a);return console.assert(d.length),this._debuggerModel.createRawLocation(d[0],b,c)},addScript:function(a){if(!a.isAnonymousScript()){a.pushSourceMapping(this);var b=this._workspaceUISourceCodeForScript(a);b&&this._bindUISourceCodeToScripts(b,[a])}},isIdentity:function(){return!0},_uiSourceCodeAddedToWorkspace:function(a){var b=a.data;if(!b.project().isServiceProject()&&b.url){var c=this._scriptsForUISourceCode(b);c.length&&this._bindUISourceCodeToScripts(b,c)}},_hasMergedToVM:function(a){var b=this._scriptsForUISourceCode(a);if(b.length)for(var c=0;c<b.length;++c)b[c].updateLocations()},_hasDivergedFromVM:function(a){var b=this._scriptsForUISourceCode(a);if(b.length)for(var c=0;c<b.length;++c)b[c].updateLocations()},_workspaceUISourceCodeForScript:function(a){return a.isAnonymousScript()?null:this._workspace.uiSourceCodeForURL(a.sourceURL)},_scriptsForUISourceCode:function(a){return a.url?this._debuggerModel.scriptsForSourceURL(a.url):[]},_bindUISourceCodeToScripts:function(a,b){console.assert(b.length);var c=new WebInspector.ResourceScriptFile(this,a,b);a.setScriptFile(c);for(var d=0;d<b.length;++d)b[d].updateLocations();a.setSourceMapping(this),this._boundURLs.put(a.url)},_unbindUISourceCode:function(a){var b=a.scriptFile();b&&(b.dispose(),a.setScriptFile(null)),a.setSourceMapping(null)},_debuggerReset:function(){for(var a=this._boundURLs.values(),b=0;b<a.length;++b){var c=this._workspace.uiSourceCodeForURL(a[b]);c&&this._unbindUISourceCode(c)}this._boundURLs.clear()}},WebInspector.ScriptFile=function(){},WebInspector.ScriptFile.Events={DidMergeToVM:"DidMergeToVM",DidDivergeFromVM:"DidDivergeFromVM"},WebInspector.ScriptFile.prototype={hasDivergedFromVM:function(){return!1},isDivergingFromVM:function(){return!1},isMergingToVM:function(){return!1},checkMapping:function(){}},WebInspector.ResourceScriptFile=function(a,b,c){console.assert(c.length),WebInspector.ScriptFile.call(this),this._resourceScriptMapping=a,this._uiSourceCode=b,this._uiSourceCode.contentType()===WebInspector.resourceTypes.Script&&(this._script=c[0]),this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this),this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this),this._update()},WebInspector.ResourceScriptFile.prototype={_workingCopyCommitted:function(){function a(a,c){return a?(this._update(),void WebInspector.LiveEditSupport.logDetailedError(a,c,this._script)):(this._scriptSource=b,this._update(),void WebInspector.LiveEditSupport.logSuccess())}if(this._script){var b=this._uiSourceCode.workingCopy();this._resourceScriptMapping._debuggerModel.setScriptSource(this._script.scriptId,b,a.bind(this))}},_isDiverged:function(){return this._uiSourceCode.isDirty()?!0:this._script?"undefined"==typeof this._scriptSource?!1:this._uiSourceCode.workingCopy()!==this._scriptSource:!1},_workingCopyChanged:function(){this._update()},_update:function(){this._isDiverged()&&!this._hasDivergedFromVM?this._divergeFromVM():!this._isDiverged()&&this._hasDivergedFromVM&&this._mergeToVM()},_divergeFromVM:function(){this._isDivergingFromVM=!0,this._resourceScriptMapping._hasDivergedFromVM(this._uiSourceCode),delete this._isDivergingFromVM,this._hasDivergedFromVM=!0,this.dispatchEventToListeners(WebInspector.ScriptFile.Events.DidDivergeFromVM,this._uiSourceCode)},_mergeToVM:function(){delete this._hasDivergedFromVM,this._isMergingToVM=!0,this._resourceScriptMapping._hasMergedToVM(this._uiSourceCode),delete this._isMergingToVM,this.dispatchEventToListeners(WebInspector.ScriptFile.Events.DidMergeToVM,this._uiSourceCode)},hasDivergedFromVM:function(){return this._hasDivergedFromVM},isDivergingFromVM:function(){return this._isDivergingFromVM},isMergingToVM:function(){return this._isMergingToVM},checkMapping:function(){function a(a){this._scriptSource=a,this._update()}this._script&&"undefined"==typeof this._scriptSource&&this._script.requestContent(a.bind(this))},dispose:function(){this._uiSourceCode.removeEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this),this._uiSourceCode.removeEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this)},__proto__:WebInspector.Object.prototype},WebInspector.CompilerScriptMapping=function(a,b,c){this._debuggerModel=a,this._workspace=b,this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAddedToWorkspace,this),this._networkWorkspaceProvider=c,this._sourceMapForSourceMapURL={},this._pendingSourceMapLoadingCallbacks={},this._sourceMapForScriptId={},this._scriptForSourceMap=new Map,this._sourceMapForURL=new StringMap,a.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this)},WebInspector.CompilerScriptMapping.prototype={rawLocationToUILocation:function(a){var b=a,c=this._sourceMapForScriptId[b.scriptId];if(!c)return null;var d=b.lineNumber,e=b.columnNumber||0,f=c.findEntry(d,e);if(!f||2===f.length)return null;var g=f[2],h=this._workspace.uiSourceCodeForURL(g);return h?new WebInspector.UILocation(h,f[3],f[4]):null},uiLocationToRawLocation:function(a,b){if(!a.url)return null;var c=this._sourceMapForURL.get(a.url);if(!c)return null;var d=this._scriptForSourceMap.get(c);console.assert(d);var e=c.findEntryReversed(a.url,b);return this._debuggerModel.createRawLocation(d,e[0],e[1])},addScript:function(a){function b(b){if(b){if(this._scriptForSourceMap.get(b))return this._sourceMapForScriptId[a.scriptId]=b,void a.updateLocations();this._sourceMapForScriptId[a.scriptId]=b,this._scriptForSourceMap.put(b,a);for(var c=b.sources(),d=0;d<c.length;++d){var e=c[d];if(!this._sourceMapForURL.get(e)){if(this._sourceMapForURL.put(e,b),!this._workspace.hasMappingForURL(e)&&!this._workspace.uiSourceCodeForURL(e)){var f=b.sourceContentProvider(e,WebInspector.resourceTypes.Script);this._networkWorkspaceProvider.addFileForURL(e,f,!0)}var g=this._workspace.uiSourceCodeForURL(e);g?(this._bindUISourceCode(g),g.isContentScript=a.isContentScript):WebInspector.console.showErrorMessage(WebInspector.UIString("Failed to locate workspace file mapped to URL %s from source map %s",e,b.url()))}}a.updateLocations()}}a.pushSourceMapping(this),this.loadSourceMapForScript(a,b.bind(this))},isIdentity:function(){return!1},_bindUISourceCode:function(a){a.setSourceMapping(this)},_unbindUISourceCode:function(a){a.setSourceMapping(null)},_uiSourceCodeAddedToWorkspace:function(a){var b=a.data;b.url&&this._sourceMapForURL.get(b.url)&&this._bindUISourceCode(b)},loadSourceMapForScript:function(a,b){function c(a){var b=e,c=this._pendingSourceMapLoadingCallbacks[b];if(delete this._pendingSourceMapLoadingCallbacks[b],c){a&&(this._sourceMapForSourceMapURL[b]=a);for(var d=0;d<c.length;++d)c[d](a)}}if(!a.sourceMapURL)return void b(null);var d=WebInspector.ParsedURL.completeURL(WebInspector.resourceTreeModel.inspectedPageURL(),a.sourceURL);if(!d)return void b(null);var e=WebInspector.ParsedURL.completeURL(d,a.sourceMapURL);if(!e)return void b(null);var f=this._sourceMapForSourceMapURL[e];if(f)return void b(f);var g=this._pendingSourceMapLoadingCallbacks[e];return g?void g.push(b):(g=[b],this._pendingSourceMapLoadingCallbacks[e]=g,void WebInspector.SourceMap.load(e,d,c.bind(this)))},_debuggerReset:function(){function a(a){for(var b=a.sources(),c=0;c<b.length;++c){var d=b[c],e=this._workspace.uiSourceCodeForURL(d);e&&this._unbindUISourceCode(e)}}this._sourceMapForURL.values().forEach(a.bind(this)),this._sourceMapForSourceMapURL={},this._pendingSourceMapLoadingCallbacks={},this._sourceMapForScriptId={},this._scriptForSourceMap.clear(),this._sourceMapForURL.clear()}},WebInspector.LiveEditSupport=function(a){this._workspaceProvider=new WebInspector.SimpleWorkspaceProvider(a,WebInspector.projectTypes.LiveEdit),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this),this._debuggerReset()},WebInspector.LiveEditSupport.prototype={uiSourceCodeForLiveEdit:function(a){var b=a.uiLocationToRawLocation(0,0),c=b,d=WebInspector.debuggerModel.scriptForId(c.scriptId),e=d.rawLocationToUILocation(0,0);if(e.uiSourceCode!==a)return e.uiSourceCode;if(this._uiSourceCodeForScriptId[d.scriptId])return this._uiSourceCodeForScriptId[d.scriptId];console.assert(!d.isInlineScript());var f=this._workspaceProvider.addUniqueFileForURL(d.sourceURL,d,!0,d.isContentScript);return f.setScriptFile(new WebInspector.LiveEditScriptFile(a,f,d.scriptId)),this._uiSourceCodeForScriptId[d.scriptId]=f,this._scriptIdForUISourceCode.put(f,d.scriptId),f},_debuggerReset:function(){this._uiSourceCodeForScriptId={},this._scriptIdForUISourceCode=new Map,this._workspaceProvider.reset()}},WebInspector.LiveEditSupport.logDetailedError=function(a,b,c){var d=WebInspector.ConsoleMessage.MessageLevel.Warning;if(!b)return void(a&&WebInspector.console.log(WebInspector.UIString("LiveEdit failed: %s",a),d,!1));var e=b.compileError;if(e){var f=c?WebInspector.UIString(" at %s:%d:%d",c.sourceURL,e.lineNumber,e.columnNumber):"",g=WebInspector.UIString("LiveEdit compile failed: %s%s",e.message,f);WebInspector.console.log(g,WebInspector.ConsoleMessage.MessageLevel.Error,!1)}else WebInspector.console.log(WebInspector.UIString("Unknown LiveEdit error: %s; %s",JSON.stringify(b),a),d,!1)},WebInspector.LiveEditSupport.logSuccess=function(){WebInspector.console.log(WebInspector.UIString("Recompilation and update succeeded."),WebInspector.ConsoleMessage.MessageLevel.Debug,!1)},WebInspector.LiveEditScriptFile=function(a,b,c){WebInspector.ScriptFile.call(this),this._uiSourceCode=a,this._liveEditUISourceCode=b,this._scriptId=c,this._liveEditUISourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this)},WebInspector.LiveEditScriptFile.prototype={_workingCopyCommitted:function(){function a(a,b){if(a){var c=WebInspector.debuggerModel.scriptForId(this._scriptId);return void WebInspector.LiveEditSupport.logDetailedError(a,b,c)}WebInspector.LiveEditSupport.logSuccess()}var b=WebInspector.debuggerModel.scriptForId(this._scriptId);WebInspector.debuggerModel.setScriptSource(b.scriptId,this._liveEditUISourceCode.workingCopy(),a.bind(this))},hasDivergedFromVM:function(){return!0},isDivergingFromVM:function(){return!1},isMergingToVM:function(){return!1},checkMapping:function(){},__proto__:WebInspector.Object.prototype},WebInspector.liveEditSupport,WebInspector.CSSStyleSheetMapping=function(a,b,c){this._cssModel=a,this._workspace=b,this._stylesSourceMapping=new WebInspector.StylesSourceMapping(a,b),this._sassSourceMapping=new WebInspector.SASSSourceMapping(a,b,c),a.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this),a.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this)},WebInspector.CSSStyleSheetMapping.prototype={_styleSheetAdded:function(a){var b=a.data;this._stylesSourceMapping.addHeader(b),this._sassSourceMapping.addHeader(b)},_styleSheetRemoved:function(a){var b=a.data;this._stylesSourceMapping.removeHeader(b),this._sassSourceMapping.removeHeader(b)}},WebInspector.SASSSourceMapping=function(a,b,c){this.pollPeriodMs=5e3,this.pollIntervalMs=200,this._cssModel=a,this._workspace=b,this._networkWorkspaceProvider=c,this._addingRevisionCounter=0,this._reset(),WebInspector.fileManager.addEventListener(WebInspector.FileManager.EventTypes.SavedURL,this._fileSaveFinished,this),WebInspector.settings.cssSourceMapsEnabled.addChangeListener(this._toggleSourceMapSupport,this),this._cssModel.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetChanged,this._styleSheetChanged,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAdded,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeContentCommitted,this._uiSourceCodeContentCommitted,this),this._workspace.addEventListener(WebInspector.Workspace.Events.ProjectWillReset,this._reset,this)},WebInspector.SASSSourceMapping.prototype={_styleSheetChanged:function(a){var b=a.data.styleSheetId;if(this._addingRevisionCounter)return void--this._addingRevisionCounter;var c=this._cssModel.styleSheetHeaderForId(b);c&&this.removeHeader(c)},_toggleSourceMapSupport:function(a){for(var b=a.data,c=this._cssModel.styleSheetHeaders(),d=0;d<c.length;++d)b?this.addHeader(c[d]):this.removeHeader(c[d])},_fileSaveFinished:function(a){var b=a.data;this._sassFileSaved(b,!1)},_headerValue:function(a,b){a=a.toLowerCase();var c=null;for(var d in b)if(d.toLowerCase()===a){c=b[d];break}return c},_lastModified:function(a){var b=this._headerValue("last-modified",a);if(!b)return null;var c=new Date(b);return isNaN(c.getTime())?null:c},_checkLastModified:function(a,b){var c=this._lastModified(a);if(c)return c;var d=this._headerValue("etag",a)?', "ETag" response header found instead':"",e=String.sprintf('The "Last-Modified" response header is missing or invalid for %s%s. The CSS auto-reload functionality will not work correctly.',b,d);return WebInspector.console.log(e),null},_sassFileSaved:function(a,b){function c(b,c,e){if(b||c>=400)return void console.error("Could not load content for "+a+" : "+(b||"HTTP status code: "+c));var f=this._checkLastModified(e,a);f&&d.call(this,f)}function d(b){if(b){var c=Date.now(),d=c+this.pollPeriodMs,f=this._pollDataForSASSURL[a];if(f){var g=f.dataByURL;for(var h in g)clearTimeout(g[h].timer)}f={dataByURL:{},deadlineMs:d,sassTimestamp:b},this._pollDataForSASSURL[a]=f;for(var i=0;i<e.length;++i)f.dataByURL[e[i]]={previousPoll:c},this._pollCallback(e[i],a,!1)}}var e=this._cssURLsForSASSURL[a];if(e&&WebInspector.settings.cssReloadEnabled.get()){var f=this._workspace.uiSourceCodeForURL(a);console.assert(f),b?f.requestMetadata(d.bind(this)):NetworkAgent.loadResourceForFrontend(WebInspector.resourceTreeModel.mainFrame.id,a,void 0,c.bind(this))}},_pollCallback:function(a,b,c){var d,e=this._pollDataForSASSURL[b];if(e){if(c||(d=(new Date).getTime())>e.deadlineMs)return delete e.dataByURL[a],void(Object.keys(e.dataByURL).length||delete this._pollDataForSASSURL[b]);var f=this.pollIntervalMs+e.dataByURL[a].previousPoll,g=Math.max(0,f-d);e.dataByURL[a].previousPoll=d+g,e.dataByURL[a].timer=setTimeout(this._reloadCSS.bind(this,a,b,this._pollCallback.bind(this)),g)}},_reloadCSS:function(a,b,c){var d=this._workspace.uiSourceCodeForURL(a);return d?void(this._workspace.hasMappingForURL(b)?this._reloadCSSFromFileSystem(d,b,c):this._reloadCSSFromNetwork(d,b,c)):(WebInspector.console.log(WebInspector.UIString("%s resource missing. Please reload the page.",a)),void c(a,b,!0))},_reloadCSSFromNetwork:function(a,b,c){function d(d,g,h,i){if(d||g>=400)return console.error("Could not load content for "+e+" : "+(d||"HTTP status code: "+g)),void c(e,b,!0);if(!this._pollDataForSASSURL[b])return void c(e,b,!0);if(304===g)return void c(e,b,!1);var j=this._checkLastModified(h,e);return j?j.getTime()<f.sassTimestamp.getTime()?void c(e,b,!1):void this._updateCSSRevision(a,i,b,c):void c(e,b,!0)}var e=a.url,f=this._pollDataForSASSURL[b];if(!f)return void c(e,b,!0);var g={"if-modified-since":new Date(f.sassTimestamp.getTime()-1e3).toUTCString()};NetworkAgent.loadResourceForFrontend(WebInspector.resourceTreeModel.mainFrame.id,e,g,d.bind(this))},_updateCSSRevision:function(a,b,c,d){++this._addingRevisionCounter,a.addRevision(b),this._cssUISourceCodeUpdated(a.url,c,d)},_reloadCSSFromFileSystem:function(a,b,c){function d(d){function e(d){null!==d&&this._updateCSSRevision(a,d,b,c)}var f=a.url;if(!d)return void c(f,b,!1);var g=d.getTime(),h=this._pollDataForSASSURL[b];return h?g<h.sassTimestamp.getTime()?void c(f,b,!1):void a.requestOriginalContent(e.bind(this)):void c(f,b,!0)}a.requestMetadata(d.bind(this))},_cssUISourceCodeUpdated:function(a,b,c){var d=this._completeSourceMapURLForCSSURL[a];if(d){var e=this._cssModel.styleSheetIdsForURL(a);if(e){for(var f=[],g=0;g<e.length;++g)f.push(this._cssModel.styleSheetHeaderForId(e[g]));for(var g=0;g<e.length;++g)this._loadSourceMapAndBindUISourceCode(f,!0,d);c(a,b,!0)}}},addHeader:function(a){if(a.sourceMapURL&&a.sourceURL&&!a.isInline&&WebInspector.settings.cssSourceMapsEnabled.get()){var b=WebInspector.ParsedURL.completeURL(a.sourceURL,a.sourceMapURL);b&&(this._completeSourceMapURLForCSSURL[a.sourceURL]=b,this._loadSourceMapAndBindUISourceCode([a],!1,b))}},removeHeader:function(a){var b=a.sourceURL;if(b&&a.sourceMapURL&&!a.isInline&&this._completeSourceMapURLForCSSURL[b]){delete this._sourceMapByStyleSheetURL[b],delete this._completeSourceMapURLForCSSURL[b];for(var c in this._cssURLsForSASSURL){var d=this._cssURLsForSASSURL[c];d.remove(b),d.length||delete this._cssURLsForSASSURL[c]}var e=WebInspector.ParsedURL.completeURL(b,a.sourceMapURL);e&&delete this._sourceMapByURL[e],a.updateLocations()}},_loadSourceMapAndBindUISourceCode:function(a,b,c){function d(c){if(c){this._sourceMapByStyleSheetURL[e]=c;for(var d=0;d<a.length;++d)b?a[d].updateLocations():this._bindUISourceCode(a[d],c)}}console.assert(a.length);var e=a[0].sourceURL;this._loadSourceMapForStyleSheet(c,e,b,d.bind(this))},_addCSSURLforSASSURL:function(a,b){var c;this._cssURLsForSASSURL.hasOwnProperty(b)?c=this._cssURLsForSASSURL[b]:(c=[],this._cssURLsForSASSURL[b]=c),-1===c.indexOf(a)&&c.push(a)},_loadSourceMapForStyleSheet:function(a,b,c,d){function e(b){var c=this._pendingSourceMapLoadingCallbacks[a];if(delete this._pendingSourceMapLoadingCallbacks[a],c){b?this._sourceMapByURL[a]=b:delete this._sourceMapByURL[a];for(var d=0;d<c.length;++d)c[d](b)}}var f=this._sourceMapByURL[a];if(f&&!c)return void d(f);var g=this._pendingSourceMapLoadingCallbacks[a];return g?void g.push(d):(g=[d],this._pendingSourceMapLoadingCallbacks[a]=g,void WebInspector.SourceMap.load(a,b,e.bind(this)))},_bindUISourceCode:function(a,b){a.pushSourceMapping(this);for(var c=a.sourceURL,d=b.sources(),e=0;e<d.length;++e){var f=d[e];if(this._addCSSURLforSASSURL(c,f),!this._workspace.hasMappingForURL(f)&&!this._workspace.uiSourceCodeForURL(f)){var g=b.sourceContentProvider(f,WebInspector.resourceTypes.Stylesheet);this._networkWorkspaceProvider.addFileForURL(f,g,!0)}}},rawLocationToUILocation:function(a){var b,c=a,d=this._sourceMapByStyleSheetURL[c.url];if(!d)return null;if(b=d.findEntry(c.lineNumber,c.columnNumber),!b||2===b.length)return null;var e=this._workspace.uiSourceCodeForURL(b[2]);return e?new WebInspector.UILocation(e,b[3],b[4]):null},uiLocationToRawLocation:function(a,b,c){return new WebInspector.CSSLocation(a.url||"",b,c)},isIdentity:function(){return!1},_uiSourceCodeAdded:function(a){var b=a.data,c=this._cssURLsForSASSURL[b.url];if(c)for(var d=0;d<c.length;++d)for(var e=this._cssModel.styleSheetIdsForURL(c[d]),f=0;f<e.length;++f){var g=this._cssModel.styleSheetHeaderForId(e[f]);console.assert(g),g.updateLocations()}},_uiSourceCodeContentCommitted:function(a){var b=a.data.uiSourceCode;b.project().type()===WebInspector.projectTypes.FileSystem&&this._sassFileSaved(b.url,!0)},_reset:function(){this._addingRevisionCounter=0,this._completeSourceMapURLForCSSURL={},this._cssURLsForSASSURL={},this._pendingSourceMapLoadingCallbacks={},this._pollDataForSASSURL={},this._sourceMapByURL={},this._sourceMapByStyleSheetURL={}
}},WebInspector.DOMNode=function(a,b,c,d){if(this._domModel=a,this.ownerDocument=b,this._isInShadowTree=c,this.id=d.nodeId,a._idToDOMNode[this.id]=this,this._nodeType=d.nodeType,this._nodeName=d.nodeName,this._localName=d.localName,this._nodeValue=d.nodeValue,this._pseudoType=d.pseudoType,this._shadowRootType=d.shadowRootType,this._frameId=d.frameId||null,this._shadowRoots=[],this._attributes=[],this._attributesMap={},d.attributes&&this._setAttributesPayload(d.attributes),this._userProperties={},this._descendantUserPropertyCounters={},this._childNodeCount=d.childNodeCount||0,this._children=null,this.nextSibling=null,this.previousSibling=null,this.firstChild=null,this.lastChild=null,this.parentNode=null,d.shadowRoots)for(var e=0;e<d.shadowRoots.length;++e){var f=d.shadowRoots[e],g=new WebInspector.DOMNode(this._domModel,this.ownerDocument,!0,f);this._shadowRoots.push(g),g.parentNode=this}d.templateContent&&(this._templateContent=new WebInspector.DOMNode(this._domModel,this.ownerDocument,!0,d.templateContent),this._templateContent.parentNode=this),d.importedDocument&&(this._importedDocument=new WebInspector.DOMNode(this._domModel,this.ownerDocument,!0,d.importedDocument),this._importedDocument.parentNode=this),d.children&&this._setChildrenPayload(d.children),this._setPseudoElements(d.pseudoElements),d.contentDocument&&(this._contentDocument=new WebInspector.DOMDocument(a,d.contentDocument),this._children=[this._contentDocument],this._renumber()),this._nodeType===Node.ELEMENT_NODE?(this.ownerDocument&&!this.ownerDocument.documentElement&&"HTML"===this._nodeName&&(this.ownerDocument.documentElement=this),this.ownerDocument&&!this.ownerDocument.body&&"BODY"===this._nodeName&&(this.ownerDocument.body=this)):this._nodeType===Node.DOCUMENT_TYPE_NODE?(this.publicId=d.publicId,this.systemId=d.systemId,this.internalSubset=d.internalSubset):this._nodeType===Node.ATTRIBUTE_NODE&&(this.name=d.name,this.value=d.value)},WebInspector.DOMNode.PseudoElementNames={Before:"before",After:"after"},WebInspector.DOMNode.ShadowRootTypes={UserAgent:"user-agent",Author:"author"},WebInspector.DOMNode.prototype={children:function(){return this._children?this._children.slice():null},hasAttributes:function(){return this._attributes.length>0},childNodeCount:function(){return this._childNodeCount},hasShadowRoots:function(){return!!this._shadowRoots.length},shadowRoots:function(){return this._shadowRoots.slice()},templateContent:function(){return this._templateContent},importedDocument:function(){return this._importedDocument},nodeType:function(){return this._nodeType},nodeName:function(){return this._nodeName},pseudoType:function(){return this._pseudoType},hasPseudoElements:function(){return 0!==Object.keys(this._pseudoElements).length},pseudoElements:function(){return this._pseudoElements},isInShadowTree:function(){return this._isInShadowTree},ancestorUserAgentShadowRoot:function(){if(!this._isInShadowTree)return null;for(var a=this;!a.isShadowRoot();)a=a.parentNode;return a.shadowRootType()===WebInspector.DOMNode.ShadowRootTypes.UserAgent?a:null},isShadowRoot:function(){return!!this._shadowRootType},shadowRootType:function(){return this._shadowRootType||null},nodeNameInCorrectCase:function(){var a=this.shadowRootType();return a?"#shadow-root"+(a===WebInspector.DOMNode.ShadowRootTypes.UserAgent?" (user-agent)":""):this.isXMLNode()?this.nodeName():this.nodeName().toLowerCase()},setNodeName:function(a,b){DOMAgent.setNodeName(this.id,a,WebInspector.domModel._markRevision(this,b))},localName:function(){return this._localName},nodeValue:function(){return this._nodeValue},setNodeValue:function(a,b){DOMAgent.setNodeValue(this.id,a,WebInspector.domModel._markRevision(this,b))},getAttribute:function(a){var b=this._attributesMap[a];return b?b.value:void 0},setAttribute:function(a,b,c){DOMAgent.setAttributesAsText(this.id,b,a,WebInspector.domModel._markRevision(this,c))},setAttributeValue:function(a,b,c){DOMAgent.setAttributeValue(this.id,a,b,WebInspector.domModel._markRevision(this,c))},attributes:function(){return this._attributes},removeAttribute:function(a,b){function c(c){if(!c){delete this._attributesMap[a];for(var d=0;d<this._attributes.length;++d)if(this._attributes[d].name===a){this._attributes.splice(d,1);break}}WebInspector.domModel._markRevision(this,b)(c)}DOMAgent.removeAttribute(this.id,a,c.bind(this))},getChildNodes:function(a){function b(b){a&&a(b?null:this.children())}return this._children?void(a&&a(this.children())):void DOMAgent.requestChildNodes(this.id,void 0,b.bind(this))},getSubtree:function(a,b){function c(a){b&&b(a?null:this._children)}DOMAgent.requestChildNodes(this.id,a,c.bind(this))},getOuterHTML:function(a){DOMAgent.getOuterHTML(this.id,a)},setOuterHTML:function(a,b){DOMAgent.setOuterHTML(this.id,a,WebInspector.domModel._markRevision(this,b))},removeNode:function(a){DOMAgent.removeNode(this.id,WebInspector.domModel._markRevision(this,a))},copyNode:function(){function a(a,b){a||InspectorFrontendHost.copyText(b)}DOMAgent.getOuterHTML(this.id,a)},eventListeners:function(a,b){DOMAgent.getEventListenersForNode(this.id,a,b)},path:function(){function a(a){return a&&("index"in a||a.isShadowRoot()&&a.parentNode)&&a._nodeName.length}for(var b=[],c=this;a(c);){var d="number"==typeof c.index?c.index:c.shadowRootType()===WebInspector.DOMNode.ShadowRootTypes.UserAgent?"u":"a";b.push([d,c._nodeName]),c=c.parentNode}return b.reverse(),b.join(",")},isAncestor:function(a){if(!a)return!1;for(var b=a.parentNode;b;){if(this===b)return!0;b=b.parentNode}return!1},isDescendant:function(a){return null!==a&&a.isAncestor(this)},frameId:function(){for(var a=this;!a._frameId&&a.parentNode;)a=a.parentNode;return a._frameId},_setAttributesPayload:function(a){var b=!this._attributes||a.length!==2*this._attributes.length,c=this._attributesMap||{};this._attributes=[],this._attributesMap={};for(var d=0;d<a.length;d+=2){var e=a[d],f=a[d+1];this._addAttribute(e,f),b||c[e]&&c[e].value===f||(b=!0)}return b},_insertChild:function(a,b){var c=new WebInspector.DOMNode(this._domModel,this.ownerDocument,this._isInShadowTree,b);return this._children.splice(this._children.indexOf(a)+1,0,c),this._renumber(),c},_removeChild:function(a){if(a.pseudoType())delete this._pseudoElements[a.pseudoType()];else{var b=this._shadowRoots.indexOf(a);-1!==b?this._shadowRoots.splice(b,1):this._children.splice(this._children.indexOf(a),1)}a.parentNode=null,a._updateChildUserPropertyCountsOnRemoval(this),this._renumber()},_setChildrenPayload:function(a){if(!this._contentDocument){this._children=[];for(var b=0;b<a.length;++b){var c=a[b],d=new WebInspector.DOMNode(this._domModel,this.ownerDocument,this._isInShadowTree,c);this._children.push(d)}this._renumber()}},_setPseudoElements:function(a){if(this._pseudoElements={},a)for(var b=0;b<a.length;++b){var c=new WebInspector.DOMNode(this._domModel,this.ownerDocument,this._isInShadowTree,a[b]);c.parentNode=this,this._pseudoElements[c.pseudoType()]=c}},_renumber:function(){if(this._childNodeCount=this._children.length,0==this._childNodeCount)return this.firstChild=null,void(this.lastChild=null);this.firstChild=this._children[0],this.lastChild=this._children[this._childNodeCount-1];for(var a=0;a<this._childNodeCount;++a){var b=this._children[a];b.index=a,b.nextSibling=a+1<this._childNodeCount?this._children[a+1]:null,b.previousSibling=a-1>=0?this._children[a-1]:null,b.parentNode=this}},_addAttribute:function(a,b){var c={name:a,value:b,_node:this};this._attributesMap[a]=c,this._attributes.push(c)},_setAttribute:function(a,b){var c=this._attributesMap[a];c?c.value=b:this._addAttribute(a,b)},_removeAttribute:function(a){var b=this._attributesMap[a];b&&(this._attributes.remove(b),delete this._attributesMap[a])},moveTo:function(a,b,c){DOMAgent.moveTo(this.id,a.id,b?b.id:void 0,WebInspector.domModel._markRevision(this,c))},isXMLNode:function(){return!!this.ownerDocument&&!!this.ownerDocument.xmlVersion},_updateChildUserPropertyCountsOnRemoval:function(a){var b={};if(this._userProperties)for(var c in this._userProperties)b[c]=(b[c]||0)+1;if(this._descendantUserPropertyCounters)for(var c in this._descendantUserPropertyCounters){var d=this._descendantUserPropertyCounters[c];b[c]=(b[c]||0)+d}for(var c in b)a._updateDescendantUserPropertyCount(c,-b[c])},_updateDescendantUserPropertyCount:function(a,b){this._descendantUserPropertyCounters.hasOwnProperty(a)||(this._descendantUserPropertyCounters[a]=0),this._descendantUserPropertyCounters[a]+=b,this._descendantUserPropertyCounters[a]||delete this._descendantUserPropertyCounters[a],this.parentNode&&this.parentNode._updateDescendantUserPropertyCount(a,b)},setUserProperty:function(a,b){return null===b?void this.removeUserProperty(a):(this.parentNode&&!this._userProperties.hasOwnProperty(a)&&this.parentNode._updateDescendantUserPropertyCount(a,1),void(this._userProperties[a]=b))},removeUserProperty:function(a){this._userProperties.hasOwnProperty(a)&&(delete this._userProperties[a],this.parentNode&&this.parentNode._updateDescendantUserPropertyCount(a,-1))},getUserProperty:function(a){return this._userProperties&&this._userProperties[a]||null},descendantUserPropertyCount:function(a){return this._descendantUserPropertyCounters&&this._descendantUserPropertyCounters[a]?this._descendantUserPropertyCounters[a]:0},resolveURL:function(a){if(!a)return a;for(var b=this;b;b=b.parentNode)if(b.baseURL)return WebInspector.ParsedURL.completeURL(b.baseURL,a);return null}},WebInspector.DOMDocument=function(a,b){WebInspector.DOMNode.call(this,a,this,!1,b),this.documentURL=b.documentURL||"",this.baseURL=b.baseURL||"",this.xmlVersion=b.xmlVersion,this._listeners={}},WebInspector.DOMDocument.prototype={__proto__:WebInspector.DOMNode.prototype},WebInspector.DOMModel=function(){this._idToDOMNode={},this._document=null,this._attributeLoadNodeIds={},InspectorBackend.registerDOMDispatcher(new WebInspector.DOMDispatcher(this)),this._defaultHighlighter=new WebInspector.DefaultDOMNodeHighlighter,this._highlighter=this._defaultHighlighter},WebInspector.DOMModel.Events={AttrModified:"AttrModified",AttrRemoved:"AttrRemoved",CharacterDataModified:"CharacterDataModified",NodeInserted:"NodeInserted",NodeRemoved:"NodeRemoved",DocumentUpdated:"DocumentUpdated",ChildNodeCountUpdated:"ChildNodeCountUpdated",UndoRedoRequested:"UndoRedoRequested",UndoRedoCompleted:"UndoRedoCompleted"},WebInspector.DOMModel.prototype={requestDocument:function(a){function b(a,b){a||this._setDocument(b);for(var c=0;c<this._pendingDocumentRequestCallbacks.length;++c){var d=this._pendingDocumentRequestCallbacks[c];d&&d(this._document)}delete this._pendingDocumentRequestCallbacks}return this._document?void(a&&a(this._document)):this._pendingDocumentRequestCallbacks?void this._pendingDocumentRequestCallbacks.push(a):(this._pendingDocumentRequestCallbacks=[a],void DOMAgent.getDocument(b.bind(this)))},existingDocument:function(){return this._document},pushNodeToFrontend:function(a,b){this._dispatchWhenDocumentAvailable(DOMAgent.requestNode.bind(DOMAgent,a),b)},pushNodeByPathToFrontend:function(a,b){this._dispatchWhenDocumentAvailable(DOMAgent.pushNodeByPathToFrontend.bind(DOMAgent,a),b)},pushNodesByBackendIdsToFrontend:function(a,b){this._dispatchWhenDocumentAvailable(DOMAgent.pushNodesByBackendIdsToFrontend.bind(DOMAgent,a),b)},_wrapClientCallback:function(a){return a?function(b,c){a(b?null:c)}:void 0},_dispatchWhenDocumentAvailable:function(a,b){function c(){this._document?a(d):d&&d("No document")}var d=this._wrapClientCallback(b);this.requestDocument(c.bind(this))},_attributeModified:function(a,b,c){var d=this._idToDOMNode[a];d&&(d._setAttribute(b,c),this.dispatchEventToListeners(WebInspector.DOMModel.Events.AttrModified,{node:d,name:b}))},_attributeRemoved:function(a,b){var c=this._idToDOMNode[a];c&&(c._removeAttribute(b),this.dispatchEventToListeners(WebInspector.DOMModel.Events.AttrRemoved,{node:c,name:b}))},_inlineStyleInvalidated:function(a){for(var b=0;b<a.length;++b)this._attributeLoadNodeIds[a[b]]=!0;"_loadNodeAttributesTimeout"in this||(this._loadNodeAttributesTimeout=setTimeout(this._loadNodeAttributes.bind(this),20))},_loadNodeAttributes:function(){function a(a,b,c){if(!b){var d=this._idToDOMNode[a];d&&d._setAttributesPayload(c)&&this.dispatchEventToListeners(WebInspector.DOMModel.Events.AttrModified,{node:d,name:"style"})}}delete this._loadNodeAttributesTimeout;for(var b in this._attributeLoadNodeIds){var c=parseInt(b,10);DOMAgent.getAttributes(c,a.bind(this,c))}this._attributeLoadNodeIds={}},_characterDataModified:function(a,b){var c=this._idToDOMNode[a];c._nodeValue=b,this.dispatchEventToListeners(WebInspector.DOMModel.Events.CharacterDataModified,c)},nodeForId:function(a){return this._idToDOMNode[a]||null},_documentUpdated:function(){this._setDocument(null)},_setDocument:function(a){this._idToDOMNode={},this._document=a&&"nodeId"in a?new WebInspector.DOMDocument(this,a):null,this.dispatchEventToListeners(WebInspector.DOMModel.Events.DocumentUpdated,this._document)},_setDetachedRoot:function(a){"#document"===a.nodeName?new WebInspector.DOMDocument(this,a):new WebInspector.DOMNode(this,null,!1,a)},_setChildNodes:function(a,b){if(!a&&b.length)return void this._setDetachedRoot(b[0]);var c=this._idToDOMNode[a];c._setChildrenPayload(b)},_childNodeCountUpdated:function(a,b){var c=this._idToDOMNode[a];c._childNodeCount=b,this.dispatchEventToListeners(WebInspector.DOMModel.Events.ChildNodeCountUpdated,c)},_childNodeInserted:function(a,b,c){var d=this._idToDOMNode[a],e=this._idToDOMNode[b],f=d._insertChild(e,c);this._idToDOMNode[f.id]=f,this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeInserted,f)},_childNodeRemoved:function(a,b){var c=this._idToDOMNode[a],d=this._idToDOMNode[b];c._removeChild(d),this._unbind(d),this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeRemoved,{node:d,parent:c})},_shadowRootPushed:function(a,b){var c=this._idToDOMNode[a];if(c){var d=new WebInspector.DOMNode(this,c.ownerDocument,!0,b);d.parentNode=c,this._idToDOMNode[d.id]=d,c._shadowRoots.push(d),this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeInserted,d)}},_shadowRootPopped:function(a,b){var c=this._idToDOMNode[a];if(c){var d=this._idToDOMNode[b];d&&(c._removeChild(d),this._unbind(d),this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeRemoved,{node:d,parent:c}))}},_pseudoElementAdded:function(a,b){var c=this._idToDOMNode[a];if(c){var d=new WebInspector.DOMNode(this,c.ownerDocument,!1,b);d.parentNode=c,this._idToDOMNode[d.id]=d,console.assert(!c._pseudoElements[d.pseudoType()]),c._pseudoElements[d.pseudoType()]=d,this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeInserted,d)}},_pseudoElementRemoved:function(a,b){var c=this._idToDOMNode[a];if(c){var d=this._idToDOMNode[b];d&&(c._removeChild(d),this._unbind(d),this.dispatchEventToListeners(WebInspector.DOMModel.Events.NodeRemoved,{node:d,parent:c}))}},_unbind:function(a){delete this._idToDOMNode[a.id];for(var b=0;a._children&&b<a._children.length;++b)this._unbind(a._children[b]);for(var b=0;b<a._shadowRoots.length;++b)this._unbind(a._shadowRoots[b]);var c=a.pseudoElements();for(var d in c)this._unbind(c[d]);a._templateContent&&this._unbind(a._templateContent)},inspectElement:function(a){WebInspector.Revealer.reveal(this.nodeForId(a))},_inspectNodeRequested:function(a){this.inspectElement(a)},performSearch:function(a,b){function c(a,c,d){this._searchId=c,b(d)}this.cancelSearch(),DOMAgent.performSearch(a,c.bind(this))},searchResult:function(a,b){function c(a,c){return a?(console.error(a),void b(null)):void(1==c.length&&b(this.nodeForId(c[0])))}this._searchId?DOMAgent.getSearchResults(this._searchId,a,a+1,c.bind(this)):b(null)},cancelSearch:function(){this._searchId&&(DOMAgent.discardSearchResults(this._searchId),delete this._searchId)},querySelector:function(a,b,c){DOMAgent.querySelector(a,b,this._wrapClientCallback(c))},querySelectorAll:function(a,b,c){DOMAgent.querySelectorAll(a,b,this._wrapClientCallback(c))},highlightDOMNode:function(a,b,c){this._hideDOMNodeHighlightTimeout&&(clearTimeout(this._hideDOMNodeHighlightTimeout),delete this._hideDOMNodeHighlightTimeout),this._highlighter.highlightDOMNode(a||0,this._buildHighlightConfig(b),c)},hideDOMNodeHighlight:function(){this.highlightDOMNode(0)},highlightDOMNodeForTwoSeconds:function(a){this.highlightDOMNode(a),this._hideDOMNodeHighlightTimeout=setTimeout(this.hideDOMNodeHighlight.bind(this),2e3)},setInspectModeEnabled:function(a,b,c){function d(){this._highlighter.setInspectModeEnabled(a,b,this._buildHighlightConfig(),c)}this.requestDocument(d.bind(this))},_buildHighlightConfig:function(a){a=a||"all";var b={showInfo:"all"===a,showRulers:WebInspector.settings.showMetricsRulers.get()};return("all"===a||"content"===a)&&(b.contentColor=WebInspector.Color.PageHighlight.Content.toProtocolRGBA()),("all"===a||"padding"===a)&&(b.paddingColor=WebInspector.Color.PageHighlight.Padding.toProtocolRGBA()),("all"===a||"border"===a)&&(b.borderColor=WebInspector.Color.PageHighlight.Border.toProtocolRGBA()),("all"===a||"margin"===a)&&(b.marginColor=WebInspector.Color.PageHighlight.Margin.toProtocolRGBA()),"all"===a&&(b.eventTargetColor=WebInspector.Color.PageHighlight.EventTarget.toProtocolRGBA()),b},_markRevision:function(a,b){function c(a){a||this.markUndoableState(),b&&b.apply(this,arguments)}return c.bind(this)},emulateTouchEventObjects:function(a){function b(a,b){delete this._addTouchEventsScriptInjecting,a||(this._addTouchEventsScriptId=b)}const c=function(){const a=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"];for(var b=[window.__proto__,document.__proto__],c=0;c<a.length;++c)for(var d=0;d<b.length;++d)a[c]in b[d]||Object.defineProperty(b[d],a[c],{value:null,writable:!0,configurable:!0,enumerable:!0})};a&&!this._addTouchEventsScriptInjecting?(this._addTouchEventsScriptInjecting=!0,PageAgent.addScriptToEvaluateOnLoad("("+c.toString()+")()",b.bind(this))):"undefined"!=typeof this._addTouchEventsScriptId&&(PageAgent.removeScriptToEvaluateOnLoad(this._addTouchEventsScriptId),delete this._addTouchEventsScriptId),PageAgent.setTouchEmulationEnabled(a)},markUndoableState:function(){DOMAgent.markUndoableState()},undo:function(a){this.dispatchEventToListeners(WebInspector.DOMModel.Events.UndoRedoRequested),DOMAgent.undo(a)},redo:function(a){this.dispatchEventToListeners(WebInspector.DOMModel.Events.UndoRedoRequested),DOMAgent.redo(a)},setHighlighter:function(a){this._highlighter=a||this._defaultHighlighter},__proto__:WebInspector.Object.prototype},WebInspector.DOMDispatcher=function(a){this._domModel=a},WebInspector.DOMDispatcher.prototype={documentUpdated:function(){this._domModel._documentUpdated()},inspectNodeRequested:function(a){this._domModel._inspectNodeRequested(a)},attributeModified:function(a,b,c){this._domModel._attributeModified(a,b,c)},attributeRemoved:function(a,b){this._domModel._attributeRemoved(a,b)},inlineStyleInvalidated:function(a){this._domModel._inlineStyleInvalidated(a)},characterDataModified:function(a,b){this._domModel._characterDataModified(a,b)},setChildNodes:function(a,b){this._domModel._setChildNodes(a,b)},childNodeCountUpdated:function(a,b){this._domModel._childNodeCountUpdated(a,b)},childNodeInserted:function(a,b,c){this._domModel._childNodeInserted(a,b,c)},childNodeRemoved:function(a,b){this._domModel._childNodeRemoved(a,b)},shadowRootPushed:function(a,b){this._domModel._shadowRootPushed(a,b)},shadowRootPopped:function(a,b){this._domModel._shadowRootPopped(a,b)},pseudoElementAdded:function(a,b){this._domModel._pseudoElementAdded(a,b)},pseudoElementRemoved:function(a,b){this._domModel._pseudoElementRemoved(a,b)}},WebInspector.DOMNodeHighlighter=function(){},WebInspector.DOMNodeHighlighter.prototype={highlightDOMNode:function(){},setInspectModeEnabled:function(){}},WebInspector.DefaultDOMNodeHighlighter=function(){},WebInspector.DefaultDOMNodeHighlighter.prototype={highlightDOMNode:function(a,b,c){c||a?DOMAgent.highlightNode(b,c?void 0:a,c):DOMAgent.hideHighlight()},setInspectModeEnabled:function(a,b,c,d){DOMAgent.setInspectModeEnabled(a,b,c,d)}},WebInspector.domModel,WebInspector.evaluateForTestInFrontend=function(a,b){function c(){var c;try{b=b+"//# sourceURL=evaluateInWebInspector"+a+".js";var d=window.eval(b);c="undefined"==typeof d?'"<undefined>"':JSON.stringify(d)}catch(e){c=e.toString()}RuntimeAgent.evaluate("didEvaluateForTestInFrontend("+a+", "+c+")","test")}InspectorFrontendHost.isUnderTest()&&InspectorBackend.connection().runAfterPendingDispatches(c)},WebInspector.Dialog=function(a,b){this._delegate=b,this._relativeToElement=a,this._glassPane=new WebInspector.GlassPane,this._glassPane.element.tabIndex=0,this._glassPane.element.addEventListener("focus",this._onGlassPaneFocus.bind(this),!1),this._element=this._glassPane.element.createChild("div"),this._element.tabIndex=0,this._element.addEventListener("focus",this._onFocus.bind(this),!1),this._element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._closeKeys=[WebInspector.KeyboardShortcut.Keys.Enter.code,WebInspector.KeyboardShortcut.Keys.Esc.code],b.show(this._element),this._position(),this._delegate.focus()},WebInspector.Dialog.currentInstance=function(){return WebInspector.Dialog._instance},WebInspector.Dialog.show=function(a,b){WebInspector.Dialog._instance||(WebInspector.Dialog._instance=new WebInspector.Dialog(a,b))},WebInspector.Dialog.hide=function(){WebInspector.Dialog._instance&&WebInspector.Dialog._instance._hide()},WebInspector.Dialog.prototype={_hide:function(){this._isHiding||(this._isHiding=!0,this._delegate.willHide(),delete WebInspector.Dialog._instance,this._glassPane.dispose())},_onGlassPaneFocus:function(){this._hide()},_onFocus:function(){this._delegate.focus()},_position:function(){this._delegate.position(this._element,this._relativeToElement)},_onKeyDown:function(a){return a.keyCode===WebInspector.KeyboardShortcut.Keys.Tab.code?void a.preventDefault():(a.keyCode===WebInspector.KeyboardShortcut.Keys.Enter.code&&this._delegate.onEnter(),void(this._closeKeys.indexOf(a.keyCode)>=0&&(this._hide(),a.consume(!0))))}},WebInspector.DialogDelegate=function(){this.element},WebInspector.DialogDelegate.prototype={show:function(a){a.appendChild(this.element),this.element.classList.add("dialog-contents"),a.classList.add("dialog")},position:function(a,b){var c=WebInspector.Dialog._modalHostView.element,d=b.boxInWindow(window).relativeToElement(c),e=d.x+(b.offsetWidth-a.offsetWidth)/2;e=Number.constrain(e,0,c.offsetWidth-a.offsetWidth);var f=d.y+(b.offsetHeight-a.offsetHeight)/2;f=Number.constrain(f,0,c.offsetHeight-a.offsetHeight),a.style.position="absolute",a.positionAt(e,f,c)},focus:function(){},onEnter:function(){},willHide:function(){},__proto__:WebInspector.Object.prototype},WebInspector.Dialog._modalHostView=null,WebInspector.Dialog.setModalHostView=function(a){WebInspector.Dialog._modalHostView=a},WebInspector.Dialog.modalHostView=function(){return WebInspector.Dialog._modalHostView},WebInspector.Dialog.modalHostRepositioned=function(){WebInspector.Dialog._instance&&WebInspector.Dialog._instance._position()},WebInspector.GoToLineDialog=function(a){WebInspector.DialogDelegate.call(this),this.element=document.createElement("div"),this.element.className="go-to-line-dialog",this.element.createChild("label").textContent=WebInspector.UIString("Go to line: "),this._input=this.element.createChild("input"),this._input.setAttribute("type","text"),this._input.setAttribute("size",6),this._goButton=this.element.createChild("button"),this._goButton.textContent=WebInspector.UIString("Go"),this._goButton.addEventListener("click",this._onGoClick.bind(this),!1),this._sourceFrame=a},WebInspector.GoToLineDialog.install=function(a,b){var c=WebInspector.GoToLineDialog.createShortcut();a.registerShortcuts([c],WebInspector.GoToLineDialog._show.bind(null,b))},WebInspector.GoToLineDialog._show=function(a){var b=a();return b?(WebInspector.Dialog.show(b.element,new WebInspector.GoToLineDialog(b)),!0):!1},WebInspector.GoToLineDialog.createShortcut=function(){return WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Ctrl)},WebInspector.GoToLineDialog.prototype={focus:function(){WebInspector.setCurrentFocusElement(this._input),this._input.select()},_onGoClick:function(){this._applyLineNumber(),WebInspector.Dialog.hide()},_applyLineNumber:function(){var a=this._input.value,b=parseInt(a,10)-1;!isNaN(b)&&b>=0&&this._sourceFrame.revealPosition(b,0,!0)},onEnter:function(){this._applyLineNumber()},__proto__:WebInspector.DialogDelegate.prototype},WebInspector.SettingsScreen=function(a){WebInspector.HelpScreen.call(this),this.element.id="settings-screen",this._onHide=a,this._tabbedPane=new WebInspector.TabbedPane,this._tabbedPane.element.classList.add("help-window-main");var b=document.createElement("div");b.className="help-window-label",b.createTextChild(WebInspector.UIString("Settings")),this._tabbedPane.element.insertBefore(b,this._tabbedPane.element.firstChild),this._tabbedPane.element.appendChild(this._createCloseButton()),this._tabbedPane.appendTab(WebInspector.SettingsScreen.Tabs.General,WebInspector.UIString("General"),new WebInspector.GenericSettingsTab),this._tabbedPane.appendTab(WebInspector.SettingsScreen.Tabs.Workspace,WebInspector.UIString("Workspace"),new WebInspector.WorkspaceSettingsTab),WebInspector.experimentsSettings.experimentsEnabled&&this._tabbedPane.appendTab(WebInspector.SettingsScreen.Tabs.Experiments,WebInspector.UIString("Experiments"),new WebInspector.ExperimentsSettingsTab),this._tabbedPane.appendTab(WebInspector.SettingsScreen.Tabs.Shortcuts,WebInspector.UIString("Shortcuts"),WebInspector.shortcutsScreen.createShortcutsTabView()),this._tabbedPane.shrinkableTabs=!1,this._tabbedPane.verticalTabLayout=!0,this._lastSelectedTabSetting=WebInspector.settings.createSetting("lastSelectedSettingsTab",WebInspector.SettingsScreen.Tabs.General),this.selectTab(this._lastSelectedTabSetting.get()),this._tabbedPane.addEventListener(WebInspector.TabbedPane.EventTypes.TabSelected,this._tabSelected,this)},WebInspector.SettingsScreen.regexValidator=function(a){var b;try{b=new RegExp(a)}catch(c){}return b?null:WebInspector.UIString("Invalid pattern")},WebInspector.SettingsScreen.integerValidator=function(a,b,c){var d=Number(c);return isNaN(d)?WebInspector.UIString("Invalid number format"):a>d||d>b?WebInspector.UIString("Value is out of range [%d, %d]",a,b):null},WebInspector.SettingsScreen.Tabs={General:"general",Overrides:"overrides",Workspace:"workspace",Experiments:"experiments",Shortcuts:"shortcuts"},WebInspector.SettingsScreen.prototype={selectTab:function(a){this._tabbedPane.selectTab(a)},_tabSelected:function(){this._lastSelectedTabSetting.set(this._tabbedPane.selectedTabId)},wasShown:function(){this._tabbedPane.show(this.element),WebInspector.HelpScreen.prototype.wasShown.call(this)},isClosingKey:function(a){return[WebInspector.KeyboardShortcut.Keys.Enter.code,WebInspector.KeyboardShortcut.Keys.Esc.code].indexOf(a)>=0},willHide:function(){this._onHide(),WebInspector.HelpScreen.prototype.willHide.call(this)},__proto__:WebInspector.HelpScreen.prototype},WebInspector.SettingsTab=function(a,b){WebInspector.VBox.call(this),this.element.classList.add("settings-tab-container"),b&&(this.element.id=b);var c=this.element.createChild("header");c.createChild("h3").appendChild(document.createTextNode(a)),this.containerElement=this.element.createChild("div","help-container-wrapper").createChild("div","settings-tab help-content help-container")},WebInspector.SettingsTab.prototype={_appendSection:function(a){var b=this.containerElement.createChild("div","help-block");return a&&(b.createChild("div","help-section-title").textContent=a),b},_createSelectSetting:function(a,b,c){function d(){c.set(b[g.selectedIndex][1])}var e=document.createElement("p"),f=e.createChild("label");f.textContent=a;for(var g=e.createChild("select"),h=c.get(),i=0;i<b.length;++i){var j=b[i];g.add(new Option(j[0],j[1])),h===j[1]&&(g.selectedIndex=i)}return g.addEventListener("change",d,!1),e},_createInputSetting:function(a,b,c,d,e,f){function g(){b.set(c?Number(j.value):j.value)}var h=document.createElement("p"),i=h.createChild("label");i.textContent=a;var j=h.createChild("input");if(j.value=b.get(),j.type="text",c&&(j.className="numeric"),d&&(j.maxLength=d),e&&(j.style.width=e),f){var k=h.createChild("div");k.classList.add("field-error-message"),k.style.color="DarkRed",j.oninput=function(){var a=f(j.value);a||(a=""),k.textContent=a}}return j.addEventListener("blur",g,!1),h},_createCustomSetting:function(a,b){var c=document.createElement("p"),d=document.createElement("fieldset");return d.createChild("label").textContent=a,d.appendChild(b),c.appendChild(d),c},__proto__:WebInspector.VBox.prototype},WebInspector.GenericSettingsTab=function(){function a(){window.localStorage&&window.localStorage.clear(),WebInspector.reload()}WebInspector.SettingsTab.call(this,WebInspector.UIString("General"),"general-tab-content");var b=this._appendSection();b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Disable cache (while DevTools is open)"),WebInspector.settings.cacheDisabled));var c=WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Disable JavaScript"),WebInspector.settings.javaScriptDisabled);b.appendChild(c),WebInspector.settings.javaScriptDisabled.addChangeListener(this._javaScriptDisabledChanged,this),this._disableJSCheckbox=c.getElementsByTagName("input")[0];var d=this._disableJSCheckbox.parentElement.createChild("span","monospace");this._disableJSInfo=d.createChild("span","object-info-state-note hidden"),this._disableJSInfo.title=WebInspector.UIString("JavaScript is blocked on the inspected page (may be disabled in browser settings)."),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._updateScriptDisabledCheckbox,this),this._updateScriptDisabledCheckbox(),b=this._appendSection(WebInspector.UIString("Appearance"));var e=WebInspector.UIString("Split panels vertically when docked to %s",WebInspector.experimentsSettings.dockToLeft.isEnabled()?"left or right":"right");b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(e,WebInspector.settings.splitVerticallyWhenDockedToRight));var f=WebInspector.UIString("Enable %s + 1-9 shortcut to switch panels",WebInspector.isMac()?"Cmd":"Ctrl");b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(f,WebInspector.settings.shortcutPanelSwitch)),b=this._appendSection(WebInspector.UIString("Elements"));var g=this._createSelectSetting(WebInspector.UIString("Color format"),[[WebInspector.UIString("As authored"),WebInspector.Color.Format.Original],["HEX: #DAC0DE",WebInspector.Color.Format.HEX],["RGB: rgb(128, 255, 255)",WebInspector.Color.Format.RGB],["HSL: hsl(300, 80%, 90%)",WebInspector.Color.Format.HSL]],WebInspector.settings.colorFormat);b.appendChild(g),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show user agent styles"),WebInspector.settings.showUserAgentStyles)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show user agent shadow DOM"),WebInspector.settings.showUAShadowDOM)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Word wrap"),WebInspector.settings.domWordWrap)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show rulers"),WebInspector.settings.showMetricsRulers)),b=this._appendSection(WebInspector.UIString("Sources")),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Search in content scripts"),WebInspector.settings.searchInContentScripts)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Enable JavaScript source maps"),WebInspector.settings.jsSourceMapsEnabled));var h=WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Enable CSS source maps"),WebInspector.settings.cssSourceMapsEnabled);b.appendChild(h);var i=WebInspector.SettingsUI.createSettingFieldset(WebInspector.settings.cssSourceMapsEnabled),j=i.createChild("input");
i.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Auto-reload generated CSS"),WebInspector.settings.cssReloadEnabled,!1,j)),h.appendChild(i);var k=this._createSelectSetting(WebInspector.UIString("Default indentation"),[[WebInspector.UIString("2 spaces"),WebInspector.TextUtils.Indent.TwoSpaces],[WebInspector.UIString("4 spaces"),WebInspector.TextUtils.Indent.FourSpaces],[WebInspector.UIString("8 spaces"),WebInspector.TextUtils.Indent.EightSpaces],[WebInspector.UIString("Tab character"),WebInspector.TextUtils.Indent.TabCharacter]],WebInspector.settings.textEditorIndent);if(b.appendChild(k),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Detect indentation"),WebInspector.settings.textEditorAutoDetectIndent)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Autocompletion"),WebInspector.settings.textEditorAutocompletion)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Bracket matching"),WebInspector.settings.textEditorBracketMatching)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show whitespace characters"),WebInspector.settings.showWhitespacesInEditor)),WebInspector.experimentsSettings.frameworksDebuggingSupport.isEnabled()&&(h=WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Skip stepping through sources with particular names"),WebInspector.settings.skipStackFramesSwitch),i=WebInspector.SettingsUI.createSettingFieldset(WebInspector.settings.skipStackFramesSwitch),i.appendChild(this._createInputSetting(WebInspector.UIString("Pattern"),WebInspector.settings.skipStackFramesPattern,!1,1e3,"100px",WebInspector.SettingsScreen.regexValidator)),h.appendChild(i),b.appendChild(h)),WebInspector.settings.skipStackFramesSwitch.addChangeListener(this._skipStackFramesSwitchOrPatternChanged,this),WebInspector.settings.skipStackFramesPattern.addChangeListener(this._skipStackFramesSwitchOrPatternChanged,this),b=this._appendSection(WebInspector.UIString("Profiler")),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show advanced heap snapshot properties"),WebInspector.settings.showAdvancedHeapSnapshotProperties)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("High resolution CPU profiling"),WebInspector.settings.highResolutionCpuProfiling)),b=this._appendSection(WebInspector.UIString("Console")),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Log XMLHttpRequests"),WebInspector.settings.monitoringXHREnabled)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Preserve log upon navigation"),WebInspector.settings.preserveConsoleLog)),b.appendChild(WebInspector.SettingsUI.createSettingCheckbox(WebInspector.UIString("Show timestamps"),WebInspector.settings.consoleTimestampsEnabled)),WebInspector.openAnchorLocationRegistry.handlerNames.length>0){var l=new WebInspector.HandlerSelector(WebInspector.openAnchorLocationRegistry);b=this._appendSection(WebInspector.UIString("Extensions")),b.appendChild(this._createCustomSetting(WebInspector.UIString("Open links in"),l.element))}b=this._appendSection();var m=b.createChild("input","settings-tab-text-button");m.type="button",m.value=WebInspector.UIString("Restore defaults and reload"),m.addEventListener("click",a)},WebInspector.GenericSettingsTab.prototype={_updateScriptDisabledCheckbox:function(){function a(a,b){if(!a&&b){var c="forbidden"===b,d=c||"disabled"===b;this._disableJSInfo.classList.toggle("hidden",!c),this._disableJSCheckbox.checked=d,this._disableJSCheckbox.disabled=c}}PageAgent.getScriptExecutionStatus(a.bind(this))},_javaScriptDisabledChanged:function(){PageAgent.setScriptExecutionDisabled(WebInspector.settings.javaScriptDisabled.get(),this._updateScriptDisabledCheckbox.bind(this))},_skipStackFramesSwitchOrPatternChanged:function(){WebInspector.debuggerModel.applySkipStackFrameSettings()},_appendDrawerNote:function(a){var b=a.createChild("div","help-field-note");b.createTextChild("Hit "),b.createChild("span","help-key").textContent="Esc",b.createTextChild(WebInspector.UIString(" or click the")),b.appendChild(new WebInspector.StatusBarButton(WebInspector.UIString("Drawer"),"console-status-bar-item").element),b.createTextChild(WebInspector.UIString("toolbar item"))},__proto__:WebInspector.SettingsTab.prototype},WebInspector.WorkspaceSettingsTab=function(){WebInspector.SettingsTab.call(this,WebInspector.UIString("Workspace"),"workspace-tab-content"),WebInspector.isolatedFileSystemManager.addEventListener(WebInspector.IsolatedFileSystemManager.Events.FileSystemAdded,this._fileSystemAdded,this),WebInspector.isolatedFileSystemManager.addEventListener(WebInspector.IsolatedFileSystemManager.Events.FileSystemRemoved,this._fileSystemRemoved,this),this._commonSection=this._appendSection(WebInspector.UIString("Common"));var a=this._createInputSetting(WebInspector.UIString("Folder exclude pattern"),WebInspector.settings.workspaceFolderExcludePattern,!1,0,"270px",WebInspector.SettingsScreen.regexValidator);this._commonSection.appendChild(a),this._fileSystemsSection=this._appendSection(WebInspector.UIString("Folders")),this._fileSystemsListContainer=this._fileSystemsSection.createChild("p","settings-list-container"),this._addFileSystemRowElement=this._fileSystemsSection.createChild("div");var b=this._addFileSystemRowElement.createChild("input","settings-tab-text-button");b.type="button",b.value=WebInspector.UIString("Add folder…"),b.addEventListener("click",this._addFileSystemClicked.bind(this)),this._editFileSystemButton=this._addFileSystemRowElement.createChild("input","settings-tab-text-button"),this._editFileSystemButton.type="button",this._editFileSystemButton.value=WebInspector.UIString("Edit…"),this._editFileSystemButton.addEventListener("click",this._editFileSystemClicked.bind(this)),this._updateEditFileSystemButtonState(),this._reset()},WebInspector.WorkspaceSettingsTab.prototype={wasShown:function(){WebInspector.SettingsTab.prototype.wasShown.call(this),this._reset()},_reset:function(){this._resetFileSystems()},_resetFileSystems:function(){this._fileSystemsListContainer.removeChildren();var a=WebInspector.isolatedFileSystemManager.mapping().fileSystemPaths();if(delete this._fileSystemsList,!a.length){var b=this._fileSystemsListContainer.createChild("div","no-file-systems-message");return void(b.textContent=WebInspector.UIString("You have no file systems added."))}this._fileSystemsList=new WebInspector.SettingsList(["path"],this._renderFileSystem.bind(this)),this._fileSystemsList.element.classList.add("file-systems-list"),this._fileSystemsList.addEventListener(WebInspector.SettingsList.Events.Selected,this._fileSystemSelected.bind(this)),this._fileSystemsList.addEventListener(WebInspector.SettingsList.Events.Removed,this._fileSystemRemovedfromList.bind(this)),this._fileSystemsList.addEventListener(WebInspector.SettingsList.Events.DoubleClicked,this._fileSystemDoubleClicked.bind(this)),this._fileSystemsListContainer.appendChild(this._fileSystemsList.element);for(var c=0;c<a.length;++c)this._fileSystemsList.addItem(a[c]);this._updateEditFileSystemButtonState()},_updateEditFileSystemButtonState:function(){this._editFileSystemButton.disabled=!this._selectedFileSystemPath()},_fileSystemSelected:function(){this._updateEditFileSystemButtonState()},_fileSystemDoubleClicked:function(a){var b=a.data;this._editFileSystem(b)},_editFileSystemClicked:function(){this._editFileSystem(this._selectedFileSystemPath())},_editFileSystem:function(a){WebInspector.EditFileSystemDialog.show(WebInspector.inspectorView.element,a)},_createRemoveButton:function(a){var b=document.createElement("button");return b.classList.add("button"),b.classList.add("remove-item-button"),b.value=WebInspector.UIString("Remove"),a?b.addEventListener("click",a,!1):b.disabled=!0,b},_renderFileSystem:function(a,b,c){if(!c)return"";var d=c,e=a.createChild("span","list-column-text"),f=e.createChild("span","file-system-path");f.title=d;const g=55,h=30;var i=d.lastIndexOf(WebInspector.isWin()?"\\":"/"),j=d.substr(i+1),k=d.substr(0,i+1);k=k.trimMiddle(g-Math.min(h,j.length)),j=j.trimMiddle(h);var l=f.createChild("span");l.textContent=k;var m=f.createChild("span","file-system-path-name");m.textContent=j},_fileSystemRemovedfromList:function(a){var b=a.data;b&&WebInspector.isolatedFileSystemManager.removeFileSystem(b)},_addFileSystemClicked:function(){WebInspector.isolatedFileSystemManager.addFileSystem()},_fileSystemAdded:function(a){var b=a.data;this._fileSystemsList?this._fileSystemsList.addItem(b.path()):this._reset()},_fileSystemRemoved:function(a){{var b=a.data;this._selectedFileSystemPath()}this._fileSystemsList.itemForId(b.path())&&this._fileSystemsList.removeItem(b.path()),this._fileSystemsList.itemIds().length||this._reset(),this._updateEditFileSystemButtonState()},_selectedFileSystemPath:function(){return this._fileSystemsList?this._fileSystemsList.selectedId():null},__proto__:WebInspector.SettingsTab.prototype},WebInspector.ExperimentsSettingsTab=function(){WebInspector.SettingsTab.call(this,WebInspector.UIString("Experiments"),"experiments-tab-content");var a=WebInspector.experimentsSettings.experiments;if(a.length){var b=this._appendSection();b.appendChild(this._createExperimentsWarningSubsection());for(var c=0;c<a.length;++c)b.appendChild(this._createExperimentCheckbox(a[c]))}},WebInspector.ExperimentsSettingsTab.prototype={_createExperimentsWarningSubsection:function(){var a=document.createElement("div"),b=a.createChild("span","settings-experiments-warning-subsection-warning");b.textContent=WebInspector.UIString("WARNING:"),a.appendChild(document.createTextNode(" "));var c=a.createChild("span","settings-experiments-warning-subsection-message");return c.textContent=WebInspector.UIString("These experiments could be dangerous and may require restart."),a},_createExperimentCheckbox:function(a){function b(){a.setEnabled(c.checked)}var c=document.createElement("input");c.type="checkbox",c.name=a.name,c.checked=a.isEnabled(),c.addEventListener("click",b,!1);var d=document.createElement("p"),e=document.createElement("label");return e.appendChild(c),e.appendChild(document.createTextNode(WebInspector.UIString(a.title))),d.appendChild(e),d},__proto__:WebInspector.SettingsTab.prototype},WebInspector.SettingsController=function(){this._statusBarButton=new WebInspector.StatusBarButton(WebInspector.UIString("Settings"),"settings-status-bar-item"),this._statusBarButton.element.addEventListener("mouseup",this._mouseUp.bind(this),!1),this._settingsScreen},WebInspector.SettingsController.prototype={get statusBarItem(){return this._statusBarButton.element},_mouseUp:function(){this.showSettingsScreen()},_onHideSettingsScreen:function(){delete this._settingsScreenVisible},showSettingsScreen:function(a){this._settingsScreen||(this._settingsScreen=new WebInspector.SettingsScreen(this._onHideSettingsScreen.bind(this))),a&&this._settingsScreen.selectTab(a),this._settingsScreen.showModal(),this._settingsScreenVisible=!0},resize:function(){this._settingsScreen&&this._settingsScreen.isShowing()&&this._settingsScreen.doResize()}},WebInspector.SettingsController.SettingsScreenActionDelegate=function(){},WebInspector.SettingsController.SettingsScreenActionDelegate.prototype={handleAction:function(){return WebInspector.settingsController.showSettingsScreen(WebInspector.SettingsScreen.Tabs.General),!0}},WebInspector.SettingsList=function(a,b){this.element=document.createElement("div"),this.element.classList.add("settings-list"),this.element.tabIndex=-1,this._itemRenderer=b,this._listItems={},this._ids=[],this._columns=a},WebInspector.SettingsList.Events={Selected:"Selected",Removed:"Removed",DoubleClicked:"DoubleClicked"},WebInspector.SettingsList.prototype={addItem:function(a,b){function c(b){j.disabled=!0,this.removeItem(a),this.dispatchEventToListeners(WebInspector.SettingsList.Events.Removed,a),b.consume()}var d=document.createElement("div");d._id=a,d.classList.add("settings-list-item"),void 0!==typeof b?this.element.insertBefore(d,this._listItems[b]):this.element.appendChild(d);var e=d.createChild("div","settings-list-item-contents"),f=e.createChild("div","settings-list-item-columns");d.columnElements={};for(var g=0;g<this._columns.length;++g){var h=f.createChild("div","list-column"),i=this._columns[g];d.columnElements[i]=h,this._itemRenderer(h,i,a)}var j=this._createRemoveButton(c.bind(this));return e.addEventListener("click",this.selectItem.bind(this,a),!1),e.addEventListener("dblclick",this._onDoubleClick.bind(this,a),!1),e.appendChild(j),this._listItems[a]=d,void 0!==typeof b?this._ids.splice(this._ids.indexOf(b),0,a):this._ids.push(a),d},removeItem:function(a){this._listItems[a].remove(),delete this._listItems[a],this._ids.remove(a),a===this._selectedId&&(delete this._selectedId,this._ids.length&&this.selectItem(this._ids[0]))},itemIds:function(){return this._ids.slice()},columns:function(){return this._columns.slice()},selectedId:function(){return this._selectedId},selectedItem:function(){return this._selectedId?this._listItems[this._selectedId]:null},itemForId:function(a){return this._listItems[a]},_onDoubleClick:function(a){this.dispatchEventToListeners(WebInspector.SettingsList.Events.DoubleClicked,a)},selectItem:function(a,b){"undefined"!=typeof this._selectedId&&this._listItems[this._selectedId].classList.remove("selected"),this._selectedId=a,"undefined"!=typeof this._selectedId&&this._listItems[this._selectedId].classList.add("selected"),this.dispatchEventToListeners(WebInspector.SettingsList.Events.Selected,a),b&&b.consume()},_createRemoveButton:function(a){var b=document.createElement("button");return b.classList.add("remove-item-button"),b.value=WebInspector.UIString("Remove"),b.addEventListener("click",a,!1),b},__proto__:WebInspector.Object.prototype},WebInspector.EditableSettingsList=function(a,b,c,d){WebInspector.SettingsList.call(this,a,this._renderColumn.bind(this)),this._validateHandler=c,this._editHandler=d,this._valuesProvider=b,this._addInputElements={},this._editInputElements={},this._textElements={},this._addMappingItem=this.addItem(null),this._addMappingItem.classList.add("item-editing"),this._addMappingItem.classList.add("add-list-item")},WebInspector.EditableSettingsList.prototype={addItem:function(a,b){var c=WebInspector.SettingsList.prototype.addItem.call(this,a,b);return c.classList.add("editable"),c},_renderColumn:function(a,b,c){function d(a){if(c!==this._editingId){a.consume(),console.assert(!this._editingId),this._editingId=g;var b=this.itemForId(g);b.classList.add("item-editing");var d=a.target.inputElement||this._editInputElements[g][this.columns()[0]];d.focus(),d.select()}}a.classList.add("settings-list-column-"+b);var e=WebInspector.UIString("url"===b?"URL prefix":"Folder path");if(null===c){var f=a.createChild("input","list-column-editor");return f.placeholder=e,f.addEventListener("blur",this._onAddMappingInputBlur.bind(this)),f.addEventListener("input",this._validateEdit.bind(this,c)),void(this._addInputElements[b]=f)}var g=c;this._editInputElements[c]||(this._editInputElements[c]={}),this._textElements[c]||(this._textElements[c]={});var h=this._valuesProvider(c,b),i=a.createChild("span","list-column-text");i.textContent=h,i.title=h,a.addEventListener("click",d.bind(this),!1),this._textElements[c][b]=i;var f=a.createChild("input","list-column-editor");f.value=h,f.addEventListener("blur",this._editMappingBlur.bind(this,c)),f.addEventListener("input",this._validateEdit.bind(this,c)),a.inputElement=f,this._editInputElements[c][b]=f},_data:function(a){for(var b=this._inputElements(a),c={},d=this.columns(),e=0;e<d.length;++e)c[d[e]]=b[d[e]].value;return c},_inputElements:function(a){return a?this._editInputElements[a]||null:this._addInputElements},_validateEdit:function(a){for(var b=this._validateHandler(a,this._data(a)),c=this._hasChanges(a),d=this.columns(),e=0;e<d.length;++e){var f=d[e],g=this._inputElements(a)[f];c&&-1!==b.indexOf(f)?g.classList.add("editable-item-error"):g.classList.remove("editable-item-error")}return!b.length},_hasChanges:function(a){for(var b=!1,c=this.columns(),d=0;d<c.length;++d){var e=c[d],f=a?this._textElements[a][e].textContent:"",g=this._inputElements(a)[e].value;if(f!==g){b=!0;break}}return b},_editMappingBlur:function(a,b){var c=Object.values(this._editInputElements[a]);if(-1===c.indexOf(b.relatedTarget)){var d=this.itemForId(a);if(d.classList.remove("item-editing"),delete this._editingId,this._hasChanges(a))if(this._validateEdit(a))this._editHandler(a,this._data(a));else for(var e=this.columns(),f=0;f<e.length;++f){var g=e[f],h=this._editInputElements[a][g];h.value=this._textElements[a][g].textContent,h.classList.remove("editable-item-error")}}},_onAddMappingInputBlur:function(a){var b=Object.values(this._addInputElements);if(-1===b.indexOf(a.relatedTarget)&&this._hasChanges(null)&&this._validateEdit(null)){this._editHandler(null,this._data(null));for(var c=this.columns(),d=0;d<c.length;++d){var e=c[d],f=this._addInputElements[e];f.value=""}}},__proto__:WebInspector.SettingsList.prototype},WebInspector.settingsController,WebInspector.EditFileSystemDialog=function(a){WebInspector.DialogDelegate.call(this),this._fileSystemPath=a,this.element=document.createElement("div"),this.element.className="edit-file-system-dialog";var b=this.element.createChild("div","header"),c=b.createChild("span");c.textContent=WebInspector.UIString("Edit file system");var d=b.createChild("div","close-button-gray done-button");d.addEventListener("click",this._onDoneClick.bind(this),!1);var e=this.element.createChild("div","contents");WebInspector.isolatedFileSystemManager.mapping().addEventListener(WebInspector.FileSystemMapping.Events.FileMappingAdded,this._fileMappingAdded,this),WebInspector.isolatedFileSystemManager.mapping().addEventListener(WebInspector.FileSystemMapping.Events.FileMappingRemoved,this._fileMappingRemoved,this),WebInspector.isolatedFileSystemManager.mapping().addEventListener(WebInspector.FileSystemMapping.Events.ExcludedFolderAdded,this._excludedFolderAdded,this),WebInspector.isolatedFileSystemManager.mapping().addEventListener(WebInspector.FileSystemMapping.Events.ExcludedFolderRemoved,this._excludedFolderRemoved,this);var f=e.createChild("div","block-header");f.textContent=WebInspector.UIString("Mappings"),this._fileMappingsSection=e.createChild("div","section file-mappings-section"),this._fileMappingsListContainer=this._fileMappingsSection.createChild("div","settings-list-container");var g=WebInspector.isolatedFileSystemManager.mapping().mappingEntries(this._fileSystemPath);this._fileMappingsList=new WebInspector.EditableSettingsList(["url","path"],this._fileMappingValuesProvider.bind(this),this._fileMappingValidate.bind(this),this._fileMappingEdit.bind(this)),this._fileMappingsList.addEventListener(WebInspector.SettingsList.Events.Removed,this._fileMappingRemovedfromList.bind(this)),this._fileMappingsList.element.classList.add("file-mappings-list"),this._fileMappingsListContainer.appendChild(this._fileMappingsList.element),this._entries={};for(var h=0;h<g.length;++h)this._addMappingRow(g[h]);f=e.createChild("div","block-header"),f.textContent=WebInspector.UIString("Excluded folders"),this._excludedFolderListSection=e.createChild("div","section excluded-folders-section"),this._excludedFolderListContainer=this._excludedFolderListSection.createChild("div","settings-list-container");var i=WebInspector.isolatedFileSystemManager.mapping().excludedFolders(a);this._excludedFolderList=new WebInspector.EditableSettingsList(["path"],this._excludedFolderValueProvider.bind(this),this._excludedFolderValidate.bind(this),this._excludedFolderEdit.bind(this)),this._excludedFolderList.addEventListener(WebInspector.SettingsList.Events.Removed,this._excludedFolderRemovedfromList.bind(this)),this._excludedFolderList.element.classList.add("excluded-folders-list"),this._excludedFolderListContainer.appendChild(this._excludedFolderList.element),this._excludedFolderEntries=new StringMap;for(var h=0;h<i.length;++h)this._addExcludedFolderRow(i[h]);this.element.tabIndex=0},WebInspector.EditFileSystemDialog.show=function(a,b){WebInspector.Dialog.show(a,new WebInspector.EditFileSystemDialog(b));var c=document.getElementById("glass-pane");c.classList.add("settings-glass-pane")},WebInspector.EditFileSystemDialog.prototype={show:function(a){a.appendChild(this.element),this.element.classList.add("dialog-contents"),a.classList.add("settings-dialog"),a.classList.add("settings-tab"),this._dialogElement=a},_resize:function(){if(this._dialogElement&&this._relativeToElement){const a=200,b=150;var c=this._relativeToElement.offsetHeight-10;c=Math.max(b,c);var d=Math.min(540,this._relativeToElement.offsetWidth-10);d=Math.max(a,d),this._dialogElement.style.maxHeight=c+"px",this._dialogElement.style.width=d+"px",WebInspector.DialogDelegate.prototype.position(this._dialogElement,this._relativeToElement)}},position:function(a,b){this._relativeToElement=b,this._resize()},willHide:function(){},_fileMappingAdded:function(a){var b=a.data;this._addMappingRow(b)},_fileMappingRemoved:function(a){var b=a.data;this._fileSystemPath===b.fileSystemPath&&(delete this._entries[b.urlPrefix],this._fileMappingsList.itemForId(b.urlPrefix)&&this._fileMappingsList.removeItem(b.urlPrefix),this._resize())},_fileMappingValuesProvider:function(a,b){if(!a)return"";var c=this._entries[a];switch(b){case"url":return c.urlPrefix;case"path":return c.pathPrefix;default:console.assert("Should not be reached.")}return""},_fileMappingValidate:function(a,b){var c=a?this._entries[a].pathPrefix:null;return this._validateMapping(b.url,a,b.path,c)},_fileMappingEdit:function(a,b){if(a){var c=a,d=this._entries[a].pathPrefix,e=this._entries[a].fileSystemPath;WebInspector.isolatedFileSystemManager.mapping().removeFileMapping(e,c,d)}this._addFileMapping(b.url,b.path)},_validateMapping:function(a,b,c,d){var e=[];return this._checkURLPrefix(a,b)||e.push("url"),this._checkPathPrefix(c,d)||e.push("path"),e},_fileMappingRemovedfromList:function(a){var b=a.data;if(b){var c=this._entries[b];WebInspector.isolatedFileSystemManager.mapping().removeFileMapping(c.fileSystemPath,c.urlPrefix,c.pathPrefix)}},_addFileMapping:function(a,b){var c=this._normalizePrefix(a),d=this._normalizePrefix(b);return WebInspector.isolatedFileSystemManager.mapping().addFileMapping(this._fileSystemPath,c,d),this._fileMappingsList.selectItem(c),!0},_normalizePrefix:function(a){return a?a+("/"===a[a.length-1]?"":"/"):""},_addMappingRow:function(a){var b=a.fileSystemPath,c=a.urlPrefix;if(this._fileSystemPath&&this._fileSystemPath===b){this._entries[c]=a;{this._fileMappingsList.addItem(c,null)}this._resize()}},_excludedFolderAdded:function(a){var b=a.data;this._addExcludedFolderRow(b)},_excludedFolderRemoved:function(a){var b=a.data,c=b.fileSystemPath;c&&this._fileSystemPath===c&&(delete this._excludedFolderEntries[b.path],this._excludedFolderList.itemForId(b.path)&&this._excludedFolderList.removeItem(b.path))},_excludedFolderValueProvider:function(a){return a},_excludedFolderValidate:function(a,b){var c=(this._fileSystemPath,[]);return this._validateExcludedFolder(b.path,a)||c.push("path"),c},_validateExcludedFolder:function(a,b){return!(!a||a!==b&&this._excludedFolderEntries.contains(a))},_excludedFolderEdit:function(a,b){var c=this._fileSystemPath;a&&WebInspector.isolatedFileSystemManager.mapping().removeExcludedFolder(c,a);var d=b.path;WebInspector.isolatedFileSystemManager.mapping().addExcludedFolder(c,d)},_excludedFolderRemovedfromList:function(a){var b=a.data;b&&WebInspector.isolatedFileSystemManager.mapping().removeExcludedFolder(this._fileSystemPath,b)},_addExcludedFolderRow:function(a){var b=a.fileSystemPath;if(b&&this._fileSystemPath===b){var c=a.path;this._excludedFolderEntries.put(c,a),this._excludedFolderList.addItem(c,null),this._resize()}},_checkURLPrefix:function(a,b){var c=this._normalizePrefix(a);return!(!c||c!==b&&this._entries[c])},_checkPathPrefix:function(a,b){var c=this._normalizePrefix(a);if(!c)return!1;if(c===b)return!0;for(var d in this._entries){var e=this._entries[d];if(d&&e.pathPrefix===c)return!1}return!0},focus:function(){WebInspector.setCurrentFocusElement(this.element)},_onDoneClick:function(){WebInspector.Dialog.hide()},onEnter:function(){},__proto__:WebInspector.DialogDelegate.prototype},WebInspector.ShortcutsScreen=function(){this._sections={}},WebInspector.ShortcutsScreen.prototype={section:function(a){var b=this._sections[a];return b||(this._sections[a]=b=new WebInspector.ShortcutsSection(a)),b},createShortcutsTabView:function(){function a(a,b){return a.order-b.order}var b=[];for(var c in this._sections)b.push(this._sections[c]);b.sort(a);var d=new WebInspector.View;d.element.className="settings-tab-container",d.element.createChild("header").createChild("h3").appendChild(document.createTextNode(WebInspector.UIString("Shortcuts")));var e=d.element.createChild("div","help-container-wrapper"),f=e.createChild("div");f.className="help-content help-container";for(var g=0;g<b.length;++g)b[g].renderSection(f);var h=e.createChild("p","help-footnote"),i=h.createChild("a");return i.href="https://developers.google.com/chrome-developer-tools/docs/shortcuts",i.target="_blank",i.createTextChild(WebInspector.UIString("Full list of keyboard shortcuts and gestures")),d}},WebInspector.shortcutsScreen,WebInspector.ShortcutsSection=function(a){this.name=a,this._lines=[],this.order=++WebInspector.ShortcutsSection._sequenceNumber},WebInspector.ShortcutsSection._sequenceNumber=0,WebInspector.ShortcutsSection.prototype={addKey:function(a,b){this._addLine(this._renderKey(a),b)},addRelatedKeys:function(a,b){this._addLine(this._renderSequence(a,"/"),b)},addAlternateKeys:function(a,b){this._addLine(this._renderSequence(a,WebInspector.UIString("or")),b)},_addLine:function(a,b){this._lines.push({key:a,text:b})},renderSection:function(a){var b=a.createChild("div","help-block"),c=b.createChild("div","help-line");c.createChild("div","help-key-cell"),c.createChild("div","help-section-title help-cell").textContent=this.name;for(var d=0;d<this._lines.length;++d){var e=b.createChild("div","help-line"),f=e.createChild("div","help-key-cell");f.appendChild(this._lines[d].key),f.appendChild(this._createSpan("help-key-delimiter",":")),e.createChild("div","help-cell").textContent=this._lines[d].text}},_renderSequence:function(a,b){var c=this._createSpan("help-key-delimiter",b);return this._joinNodes(a.map(this._renderKey.bind(this)),c)},_renderKey:function(a){var b=a.name,c=this._createSpan("help-combine-keys","+");return this._joinNodes(b.split(" + ").map(this._createSpan.bind(this,"help-key")),c)},_createSpan:function(a,b){var c=document.createElement("span");return c.className=a,c.textContent=b,c},_joinNodes:function(a,b){for(var c=document.createDocumentFragment(),d=0;d<a.length;++d)d>0&&c.appendChild(b.cloneNode(!0)),c.appendChild(a[d]);return c}},WebInspector.ShortcutsScreen.registerShortcuts=function(){var a=WebInspector.shortcutsScreen.section(WebInspector.UIString("Elements Panel")),b=WebInspector.ShortcutsScreen.ElementsPanelShortcuts.NavigateUp.concat(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.NavigateDown);a.addRelatedKeys(b,WebInspector.UIString("Navigate elements"));var c=WebInspector.ShortcutsScreen.ElementsPanelShortcuts.Expand.concat(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.Collapse);a.addRelatedKeys(c,WebInspector.UIString("Expand/collapse")),a.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.EditAttribute,WebInspector.UIString("Edit attribute")),a.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.HideElement,WebInspector.UIString("Hide element")),a.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.ToggleEditAsHTML,WebInspector.UIString("Toggle edit as HTML"));var d=WebInspector.shortcutsScreen.section(WebInspector.UIString("Styles Pane")),e=WebInspector.ShortcutsScreen.ElementsPanelShortcuts.NextProperty.concat(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.PreviousProperty);d.addRelatedKeys(e,WebInspector.UIString("Next/previous property")),d.addRelatedKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.IncrementValue,WebInspector.UIString("Increment value")),d.addRelatedKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.DecrementValue,WebInspector.UIString("Decrement value")),d.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy10,WebInspector.UIString("Increment by %f",10)),d.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy10,WebInspector.UIString("Decrement by %f",10)),d.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy100,WebInspector.UIString("Increment by %f",100)),d.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy100,WebInspector.UIString("Decrement by %f",100)),d.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy01,WebInspector.UIString("Increment by %f",.1)),d.addAlternateKeys(WebInspector.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy01,WebInspector.UIString("Decrement by %f",.1));var f=WebInspector.shortcutsScreen.section(WebInspector.UIString("Sources Panel"));f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.PauseContinue,WebInspector.UIString("Pause/Continue")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.StepOver,WebInspector.UIString("Step over")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.StepInto,WebInspector.UIString("Step into")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.StepOut,WebInspector.UIString("Step out"));var g=WebInspector.ShortcutsScreen.SourcesPanelShortcuts.NextCallFrame.concat(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.PrevCallFrame);f.addRelatedKeys(g,WebInspector.UIString("Next/previous call frame")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.EvaluateSelectionInConsole,WebInspector.UIString("Evaluate selection in console")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.AddSelectionToWatch,WebInspector.UIString("Add selection to watch")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.GoToMember,WebInspector.UIString("Go to member")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.GoToLine,WebInspector.UIString("Go to line")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.ToggleBreakpoint,WebInspector.UIString("Toggle breakpoint")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.ToggleComment,WebInspector.UIString("Toggle comment")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.CloseEditorTab,WebInspector.UIString("Close editor tab")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.IncreaseCSSUnitByOne,WebInspector.UIString("Increment CSS unit by 1")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.DecreaseCSSUnitByOne,WebInspector.UIString("Decrement CSS unit by 1")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.IncreaseCSSUnitByTen,WebInspector.UIString("Increment CSS unit by 10")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.DecreaseCSSUnitByTen,WebInspector.UIString("Decrement CSS unit by 10")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.JumpToPreviousLocation,WebInspector.UIString("Jump to previous editing location")),f.addAlternateKeys(WebInspector.ShortcutsScreen.SourcesPanelShortcuts.JumpToNextLocation,WebInspector.UIString("Jump to next editing location")),f=WebInspector.shortcutsScreen.section(WebInspector.UIString("Timeline Panel")),f.addAlternateKeys(WebInspector.ShortcutsScreen.TimelinePanelShortcuts.StartStopRecording,WebInspector.UIString("Start/stop recording")),f.addAlternateKeys(WebInspector.ShortcutsScreen.TimelinePanelShortcuts.SaveToFile,WebInspector.UIString("Save timeline data")),f.addAlternateKeys(WebInspector.ShortcutsScreen.TimelinePanelShortcuts.LoadFromFile,WebInspector.UIString("Load timeline data")),f=WebInspector.shortcutsScreen.section(WebInspector.UIString("Profiles Panel")),f.addAlternateKeys(WebInspector.ShortcutsScreen.ProfilesPanelShortcuts.StartStopRecording,WebInspector.UIString("Start/stop recording"))
},WebInspector.ShortcutsScreen.ElementsPanelShortcuts={NavigateUp:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Up)],NavigateDown:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Down)],Expand:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Right)],Collapse:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Left)],EditAttribute:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Enter)],HideElement:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.H)],ToggleEditAsHTML:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F2)],NextProperty:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Tab)],PreviousProperty:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Tab,WebInspector.KeyboardShortcut.Modifiers.Shift)],IncrementValue:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Up)],DecrementValue:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Down)],IncrementBy10:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageUp),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Up,WebInspector.KeyboardShortcut.Modifiers.Shift)],DecrementBy10:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageDown),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Down,WebInspector.KeyboardShortcut.Modifiers.Shift)],IncrementBy100:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageUp,WebInspector.KeyboardShortcut.Modifiers.Shift)],DecrementBy100:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageDown,WebInspector.KeyboardShortcut.Modifiers.Shift)],IncrementBy01:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageUp,WebInspector.KeyboardShortcut.Modifiers.Alt)],DecrementBy01:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageDown,WebInspector.KeyboardShortcut.Modifiers.Alt)]},WebInspector.ShortcutsScreen.SourcesPanelShortcuts={IncreaseCSSUnitByOne:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Up,WebInspector.KeyboardShortcut.Modifiers.Alt)],DecreaseCSSUnitByOne:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Down,WebInspector.KeyboardShortcut.Modifiers.Alt)],IncreaseCSSUnitByTen:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageUp,WebInspector.KeyboardShortcut.Modifiers.Alt)],DecreaseCSSUnitByTen:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.PageDown,WebInspector.KeyboardShortcut.Modifiers.Alt)],RunSnippet:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Enter,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],PauseContinue:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F8),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Backslash,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],StepOver:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F10),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.SingleQuote,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],StepInto:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F11),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Semicolon,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],StepOut:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F11,WebInspector.KeyboardShortcut.Modifiers.Shift),WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Semicolon,WebInspector.KeyboardShortcut.Modifiers.Shift|WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],EvaluateSelectionInConsole:[WebInspector.KeyboardShortcut.makeDescriptor("e",WebInspector.KeyboardShortcut.Modifiers.Shift|WebInspector.KeyboardShortcut.Modifiers.Ctrl)],AddSelectionToWatch:[WebInspector.KeyboardShortcut.makeDescriptor("a",WebInspector.KeyboardShortcut.Modifiers.Shift|WebInspector.KeyboardShortcut.Modifiers.Ctrl)],GoToMember:[WebInspector.KeyboardShortcut.makeDescriptor("o",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta|WebInspector.KeyboardShortcut.Modifiers.Shift)],GoToLine:[WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Ctrl)],ToggleBreakpoint:[WebInspector.KeyboardShortcut.makeDescriptor("b",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],NextCallFrame:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Period,WebInspector.KeyboardShortcut.Modifiers.Ctrl)],PrevCallFrame:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Comma,WebInspector.KeyboardShortcut.Modifiers.Ctrl)],ToggleComment:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Slash,WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],JumpToPreviousLocation:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Minus,WebInspector.KeyboardShortcut.Modifiers.Alt)],JumpToNextLocation:[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Plus,WebInspector.KeyboardShortcut.Modifiers.Alt)],CloseEditorTab:[WebInspector.KeyboardShortcut.makeDescriptor("w",WebInspector.KeyboardShortcut.Modifiers.Alt)],Save:[WebInspector.KeyboardShortcut.makeDescriptor("s",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)]},WebInspector.ShortcutsScreen.TimelinePanelShortcuts={StartStopRecording:[WebInspector.KeyboardShortcut.makeDescriptor("e",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],SaveToFile:[WebInspector.KeyboardShortcut.makeDescriptor("s",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],LoadFromFile:[WebInspector.KeyboardShortcut.makeDescriptor("o",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)]},WebInspector.ShortcutsScreen.ProfilesPanelShortcuts={StartStopRecording:[WebInspector.KeyboardShortcut.makeDescriptor("e",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)]},WebInspector.HAREntry=function(a){this._request=a},WebInspector.HAREntry.prototype={build:function(){var a={startedDateTime:new Date(1e3*this._request.startTime),time:this._request.timing?WebInspector.HAREntry._toMilliseconds(this._request.duration):0,request:this._buildRequest(),response:this._buildResponse(),cache:{},timings:this._buildTimings()};this._request.connectionId&&(a.connection=String(this._request.connectionId));var b=WebInspector.networkLog.pageLoadForRequest(this._request);return b&&(a.pageref="page_"+b.id),a},_buildRequest:function(){var a=this._request.requestHeadersText(),b={method:this._request.requestMethod,url:this._buildRequestURL(this._request.url),httpVersion:this._request.requestHttpVersion(),headers:this._request.requestHeaders(),queryString:this._buildParameters(this._request.queryParameters||[]),cookies:this._buildCookies(this._request.requestCookies||[]),headersSize:a?a.length:-1,bodySize:this.requestBodySize};return this._request.requestFormData&&(b.postData=this._buildPostData()),b},_buildResponse:function(){var a=this._request.responseHeadersText;return{status:this._request.statusCode,statusText:this._request.statusText,httpVersion:this._request.responseHttpVersion,headers:this._request.responseHeaders,cookies:this._buildCookies(this._request.responseCookies||[]),content:this._buildContent(),redirectURL:this._request.responseHeaderValue("Location")||"",headersSize:a?a.length:-1,bodySize:this.responseBodySize,_error:this._request.localizedFailDescription}},_buildContent:function(){var a={size:this._request.resourceSize,mimeType:this._request.mimeType||"x-unknown"},b=this.responseCompression;return"number"==typeof b&&(a.compression=b),a},_buildTimings:function(){function a(a){for(var b=0;b<a.length;++b)if(a[b]>=0)return a[b];console.assert(!1,"Incomplete requet timing information.")}var b=this._request.timing;if(!b)return{blocked:-1,dns:-1,connect:-1,send:0,wait:0,receive:0,ssl:-1};var c=a([b.dnsStart,b.connectStart,b.sendStart]),d=-1;b.dnsStart>=0&&(d=a([b.connectStart,b.sendStart])-b.dnsStart);var e=-1;b.connectStart>=0&&(e=b.sendStart-b.connectStart);var f=b.sendEnd-b.sendStart,g=b.receiveHeadersEnd-b.sendEnd,h=WebInspector.HAREntry._toMilliseconds(this._request.duration)-b.receiveHeadersEnd,i=-1;return b.sslStart>=0&&b.sslEnd>=0&&(i=b.sslEnd-b.sslStart),{blocked:c,dns:d,connect:e,send:f,wait:g,receive:h,ssl:i}},_buildPostData:function(){var a={mimeType:this._request.requestContentType(),text:this._request.requestFormData};return this._request.formParameters&&(a.params=this._buildParameters(this._request.formParameters)),a},_buildParameters:function(a){return a.slice()},_buildRequestURL:function(a){return a.split("#",2)[0]},_buildCookies:function(a){return a.map(this._buildCookie.bind(this))},_buildCookie:function(a){return{name:a.name(),value:a.value(),path:a.path(),domain:a.domain(),expires:a.expiresDate(new Date(1e3*this._request.startTime)),httpOnly:a.httpOnly(),secure:a.secure()}},get requestBodySize(){return this._request.requestFormData?this._request.requestFormData.length:0},get responseBodySize(){return this._request.cached||304===this._request.statusCode?0:this._request.responseHeadersText?this._request.transferSize-this._request.responseHeadersText.length:-1},get responseCompression(){return!this._request.cached&&304!==this._request.statusCode&&206!==this._request.statusCode&&this._request.responseHeadersText?this._request.resourceSize-this.responseBodySize:void 0}},WebInspector.HAREntry._toMilliseconds=function(a){return-1===a?-1:1e3*a},WebInspector.HARLog=function(a){this._requests=a},WebInspector.HARLog.prototype={build:function(){return{version:"1.2",creator:this._creator(),pages:this._buildPages(),entries:this._requests.map(this._convertResource.bind(this))}},_creator:function(){var a=/AppleWebKit\/([^ ]+)/.exec(window.navigator.userAgent);return{name:"WebInspector",version:a?a[1]:"n/a"}},_buildPages:function(){for(var a={},b=[],c=0;c<this._requests.length;++c){var d=WebInspector.networkLog.pageLoadForRequest(this._requests[c]);d&&!a[d.id]&&(a[d.id]=!0,b.push(this._convertPage(d)))}return b},_convertPage:function(a){return{startedDateTime:new Date(1e3*a.startTime),id:"page_"+a.id,title:a.url,pageTimings:{onContentLoad:this._pageEventTime(a,a.contentLoadTime),onLoad:this._pageEventTime(a,a.loadTime)}}},_convertResource:function(a){return new WebInspector.HAREntry(a).build()},_pageEventTime:function(a,b){var c=a.startTime;return-1===b||-1===c?-1:WebInspector.HAREntry._toMilliseconds(b-c)}},WebInspector.HARWriter=function(){},WebInspector.HARWriter.prototype={write:function(a,b,c){this._stream=a,this._harLog=new WebInspector.HARLog(b).build(),this._pendingRequests=1;for(var d=this._harLog.entries,e=0;e<d.length;++e){var f=b[e].content;"undefined"==typeof f&&b[e].finished?(++this._pendingRequests,b[e].requestContent(this._onContentAvailable.bind(this,d[e]))):null!==f&&(d[e].response.content.text=f)}var g=new WebInspector.CompositeProgress(c);this._writeProgress=g.createSubProgress(),--this._pendingRequests?(this._requestsProgress=g.createSubProgress(),this._requestsProgress.setTitle(WebInspector.UIString("Collecting contentâ€¦")),this._requestsProgress.setTotalWork(this._pendingRequests)):this._beginWrite()},_onContentAvailable:function(a,b){null!==b&&(a.response.content.text=b),this._requestsProgress&&this._requestsProgress.worked(),--this._pendingRequests||(this._requestsProgress.done(),this._beginWrite())},_beginWrite:function(){const a=2;this._text=JSON.stringify({log:this._harLog},null,a),this._writeProgress.setTitle(WebInspector.UIString("Writing fileâ€¦")),this._writeProgress.setTotalWork(this._text.length),this._bytesWritten=0,this._writeNextChunk(this._stream)},_writeNextChunk:function(a,b){if(this._bytesWritten>=this._text.length||b)return a.close(),void this._writeProgress.done();const c=1e5;var d=this._text.substring(this._bytesWritten,this._bytesWritten+c);this._bytesWritten+=d.length,a.write(d,this._writeNextChunk.bind(this)),this._writeProgress.setWorked(this._bytesWritten)}},WebInspector.CookieParser=function(){},WebInspector.CookieParser.KeyValue=function(a,b,c){this.key=a,this.value=b,this.position=c},WebInspector.CookieParser.prototype={cookies:function(){return this._cookies},parseCookie:function(a){if(!this._initialize(a))return null;for(var b=this._extractKeyValue();b;b=this._extractKeyValue())"$"===b.key.charAt(0)&&this._lastCookie?this._lastCookie.addAttribute(b.key.slice(1),b.value):"$version"!==b.key.toLowerCase()&&"string"==typeof b.value&&this._addCookie(b,WebInspector.Cookie.Type.Request),this._advanceAndCheckCookieDelimiter();return this._flushCookie(),this._cookies},parseSetCookie:function(a){if(!this._initialize(a))return null;for(var b=this._extractKeyValue();b;b=this._extractKeyValue())this._lastCookie?this._lastCookie.addAttribute(b.key,b.value):this._addCookie(b,WebInspector.Cookie.Type.Response),this._advanceAndCheckCookieDelimiter()&&this._flushCookie();return this._flushCookie(),this._cookies},_initialize:function(a){return this._input=a,"string"!=typeof a?!1:(this._cookies=[],this._lastCookie=null,this._originalInputLength=this._input.length,!0)},_flushCookie:function(){this._lastCookie&&this._lastCookie.setSize(this._originalInputLength-this._input.length-this._lastCookiePosition),this._lastCookie=null},_extractKeyValue:function(){if(!this._input||!this._input.length)return null;var a=/^[ \t]*([^\s=;]+)[ \t]*(?:=[ \t]*([^;\n]*))?/.exec(this._input);if(!a)return console.log("Failed parsing cookie header before: "+this._input),null;var b=new WebInspector.CookieParser.KeyValue(a[1],a[2]&&a[2].trim(),this._originalInputLength-this._input.length);return this._input=this._input.slice(a[0].length),b},_advanceAndCheckCookieDelimiter:function(){var a=/^\s*[\n;]\s*/.exec(this._input);return a?(this._input=this._input.slice(a[0].length),null!==a[0].match("\n")):!1},_addCookie:function(a,b){this._lastCookie&&this._lastCookie.setSize(a.position-this._lastCookiePosition),this._lastCookie="string"==typeof a.value?new WebInspector.Cookie(a.key,a.value,b):new WebInspector.Cookie("",a.key,b),this._lastCookiePosition=a.position,this._cookies.push(this._lastCookie)}},WebInspector.CookieParser.parseCookie=function(a){return(new WebInspector.CookieParser).parseCookie(a)},WebInspector.CookieParser.parseSetCookie=function(a){return(new WebInspector.CookieParser).parseSetCookie(a)},WebInspector.Cookie=function(a,b,c){this._name=a,this._value=b,this._type=c,this._attributes={}},WebInspector.Cookie.prototype={name:function(){return this._name},value:function(){return this._value},type:function(){return this._type},httpOnly:function(){return"httponly"in this._attributes},secure:function(){return"secure"in this._attributes},session:function(){return!("expires"in this._attributes||"max-age"in this._attributes)},path:function(){return this._attributes.path},port:function(){return this._attributes.port},domain:function(){return this._attributes.domain},expires:function(){return this._attributes.expires},maxAge:function(){return this._attributes["max-age"]},size:function(){return this._size},setSize:function(a){this._size=a},expiresDate:function(a){if(this.maxAge()){var b=null===a?new Date:a;return new Date(b.getTime()+1e3*this.maxAge())}return this.expires()?new Date(this.expires()):null},attributes:function(){return this._attributes},addAttribute:function(a,b){this._attributes[a.toLowerCase()]=b},remove:function(a){PageAgent.deleteCookie(this.name(),(this.secure()?"https://":"http://")+this.domain()+this.path(),a)}},WebInspector.Cookie.Type={Request:0,Response:1},WebInspector.Cookies={},WebInspector.Cookies.getCookiesAsync=function(a){function b(b,c){b||a(c.map(WebInspector.Cookies.buildCookieProtocolObject))}PageAgent.getCookies(b)},WebInspector.Cookies.buildCookieProtocolObject=function(a){var b=new WebInspector.Cookie(a.name,a.value,null);return b.addAttribute("domain",a.domain),b.addAttribute("path",a.path),b.addAttribute("port",a.port),a.expires&&b.addAttribute("expires",a.expires),a.httpOnly&&b.addAttribute("httpOnly"),a.secure&&b.addAttribute("secure"),b.setSize(a.size),b},WebInspector.Cookies.cookieMatchesResourceURL=function(a,b){var c=b.asParsedURL();return c&&WebInspector.Cookies.cookieDomainMatchesResourceDomain(a.domain(),c.host)?!(!c.path.startsWith(a.path())||a.port()&&c.port!=a.port()||a.secure()&&"https"!==c.scheme):!1},WebInspector.Cookies.cookieDomainMatchesResourceDomain=function(a,b){return"."!==a.charAt(0)?b===a:!!b.match(new RegExp("^([^\\.]+\\.)*"+a.substring(1).escapeForRegExp()+"$","i"))},WebInspector.SearchableView=function(a){WebInspector.VBox.call(this),this._searchProvider=a,this.element.addEventListener("keydown",this._onKeyDown.bind(this),!1),this._footerElementContainer=this.element.createChild("div","search-bar status-bar hidden"),this._footerElementContainer.style.order=100,this._footerElement=this._footerElementContainer.createChild("table","toolbar-search"),this._footerElement.cellSpacing=0,this._firstRowElement=this._footerElement.createChild("tr"),this._secondRowElement=this._footerElement.createChild("tr","hidden");var b=this._firstRowElement.createChild("td");this._searchControlElement=b.createChild("span","toolbar-search-control"),this._searchInputElement=this._searchControlElement.createChild("input","search-replace"),this._searchInputElement.id="search-input-field",this._searchInputElement.placeholder=WebInspector.UIString("Find"),this._matchesElement=this._searchControlElement.createChild("label","search-results-matches"),this._matchesElement.setAttribute("for","search-input-field"),this._searchNavigationElement=this._searchControlElement.createChild("div","toolbar-search-navigation-controls"),this._searchNavigationPrevElement=this._searchNavigationElement.createChild("div","toolbar-search-navigation toolbar-search-navigation-prev"),this._searchNavigationPrevElement.addEventListener("click",this._onPrevButtonSearch.bind(this),!1),this._searchNavigationPrevElement.title=WebInspector.UIString("Search Previous"),this._searchNavigationNextElement=this._searchNavigationElement.createChild("div","toolbar-search-navigation toolbar-search-navigation-next"),this._searchNavigationNextElement.addEventListener("click",this._onNextButtonSearch.bind(this),!1),this._searchNavigationNextElement.title=WebInspector.UIString("Search Next"),this._searchInputElement.addEventListener("mousedown",this._onSearchFieldManualFocus.bind(this),!1),this._searchInputElement.addEventListener("keydown",this._onSearchKeyDown.bind(this),!0),this._searchInputElement.addEventListener("input",this._onInput.bind(this),!1),this._replaceInputElement=this._secondRowElement.createChild("td").createChild("input","search-replace toolbar-replace-control"),this._replaceInputElement.addEventListener("keydown",this._onReplaceKeyDown.bind(this),!0),this._replaceInputElement.placeholder=WebInspector.UIString("Replace"),this._findButtonElement=this._firstRowElement.createChild("td").createChild("button","hidden"),this._findButtonElement.textContent=WebInspector.UIString("Find"),this._findButtonElement.tabIndex=-1,this._findButtonElement.addEventListener("click",this._onNextButtonSearch.bind(this),!1),this._replaceButtonElement=this._secondRowElement.createChild("td").createChild("button"),this._replaceButtonElement.textContent=WebInspector.UIString("Replace"),this._replaceButtonElement.disabled=!0,this._replaceButtonElement.tabIndex=-1,this._replaceButtonElement.addEventListener("click",this._replace.bind(this),!1),this._prevButtonElement=this._firstRowElement.createChild("td").createChild("button","hidden"),this._prevButtonElement.textContent=WebInspector.UIString("Previous"),this._prevButtonElement.disabled=!0,this._prevButtonElement.tabIndex=-1,this._prevButtonElement.addEventListener("click",this._onPrevButtonSearch.bind(this),!1),this._replaceAllButtonElement=this._secondRowElement.createChild("td").createChild("button"),this._replaceAllButtonElement.textContent=WebInspector.UIString("Replace All"),this._replaceAllButtonElement.addEventListener("click",this._replaceAll.bind(this),!1),this._replaceElement=this._firstRowElement.createChild("td").createChild("span"),this._replaceCheckboxElement=this._replaceElement.createChild("input"),this._replaceCheckboxElement.type="checkbox",this._replaceCheckboxElement.id="search-replace-trigger",this._replaceCheckboxElement.addEventListener("change",this._updateSecondRowVisibility.bind(this),!1),this._replaceLabelElement=this._replaceElement.createChild("label"),this._replaceLabelElement.textContent=WebInspector.UIString("Replace"),this._replaceLabelElement.setAttribute("for","search-replace-trigger");var c=this._firstRowElement.createChild("td").createChild("button");c.textContent=WebInspector.UIString("Cancel"),c.tabIndex=-1,c.addEventListener("click",this.closeSearch.bind(this),!1),this._minimalSearchQuerySize=3,this._registerShortcuts()},WebInspector.SearchableView.findShortcuts=function(){return WebInspector.SearchableView._findShortcuts?WebInspector.SearchableView._findShortcuts:(WebInspector.SearchableView._findShortcuts=[WebInspector.KeyboardShortcut.makeDescriptor("f",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)],WebInspector.isMac()||WebInspector.SearchableView._findShortcuts.push(WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.F3)),WebInspector.SearchableView._findShortcuts)},WebInspector.SearchableView.cancelSearchShortcuts=function(){return WebInspector.SearchableView._cancelSearchShortcuts?WebInspector.SearchableView._cancelSearchShortcuts:(WebInspector.SearchableView._cancelSearchShortcuts=[WebInspector.KeyboardShortcut.makeDescriptor(WebInspector.KeyboardShortcut.Keys.Esc)],WebInspector.SearchableView._cancelSearchShortcuts)},WebInspector.SearchableView.findNextShortcut=function(){return WebInspector.SearchableView._findNextShortcut?WebInspector.SearchableView._findNextShortcut:(WebInspector.SearchableView._findNextShortcut=[],WebInspector.isMac()&&WebInspector.SearchableView._findNextShortcut.push(WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Meta)),WebInspector.SearchableView._findNextShortcut)},WebInspector.SearchableView.findPreviousShortcuts=function(){return WebInspector.SearchableView._findPreviousShortcuts?WebInspector.SearchableView._findPreviousShortcuts:(WebInspector.SearchableView._findPreviousShortcuts=[],WebInspector.isMac()&&WebInspector.SearchableView._findPreviousShortcuts.push(WebInspector.KeyboardShortcut.makeDescriptor("g",WebInspector.KeyboardShortcut.Modifiers.Meta|WebInspector.KeyboardShortcut.Modifiers.Shift)),WebInspector.SearchableView._findPreviousShortcuts)},WebInspector.SearchableView.prototype={_onKeyDown:function(a){var b=WebInspector.KeyboardShortcut.makeKeyFromEvent(a),c=this._shortcuts[b];c&&c(a)&&a.consume(!0)},_registerShortcuts:function(){function a(a,b){for(var c=0;c<a.length;++c)this._shortcuts[a[c].key]=b}this._shortcuts={},a.call(this,WebInspector.SearchableView.findShortcuts(),this.handleFindShortcut.bind(this)),a.call(this,WebInspector.SearchableView.cancelSearchShortcuts(),this.handleCancelSearchShortcut.bind(this)),a.call(this,WebInspector.SearchableView.findNextShortcut(),this.handleFindNextShortcut.bind(this)),a.call(this,WebInspector.SearchableView.findPreviousShortcuts(),this.handleFindPreviousShortcut.bind(this))},setMinimalSearchQuerySize:function(a){this._minimalSearchQuerySize=a},setReplaceable:function(a){this._replaceable=a},updateSearchMatchesCount:function(a){this._searchProvider.currentSearchMatches=a,this._updateSearchMatchesCountAndCurrentMatchIndex(this._searchProvider.currentQuery?a:0,-1)},updateCurrentMatchIndex:function(a){this._updateSearchMatchesCountAndCurrentMatchIndex(this._searchProvider.currentSearchMatches,a)},isSearchVisible:function(){return this._searchIsVisible},closeSearch:function(){this.cancelSearch(),WebInspector.currentFocusElement().isDescendant(this._footerElementContainer)&&WebInspector.setCurrentFocusElement(WebInspector.previousFocusElement())},_toggleSearchBar:function(a){this._footerElementContainer.classList.toggle("hidden",!a),this.doResize()},cancelSearch:function(){this._searchIsVisible&&(this.resetSearch(),delete this._searchIsVisible,this._toggleSearchBar(!1))},resetSearch:function(){this._clearSearch(),this._updateReplaceVisibility(),this._matchesElement.textContent=""},handleFindNextShortcut:function(){return this._searchIsVisible?(this._searchProvider.jumpToNextSearchResult(),!0):!1},handleFindPreviousShortcut:function(){return this._searchIsVisible?(this._searchProvider.jumpToPreviousSearchResult(),!0):!1},handleFindShortcut:function(){return this.showSearchField(),!0},handleCancelSearchShortcut:function(){return this._searchIsVisible?(this.closeSearch(),!0):!1},_updateSearchNavigationButtonState:function(a){this._replaceButtonElement.disabled=!a,this._prevButtonElement.disabled=!a,a?(this._searchNavigationPrevElement.classList.add("enabled"),this._searchNavigationNextElement.classList.add("enabled")):(this._searchNavigationPrevElement.classList.remove("enabled"),this._searchNavigationNextElement.classList.remove("enabled"))},_updateSearchMatchesCountAndCurrentMatchIndex:function(a,b){this._matchesElement.textContent=this._currentQuery?0===a||b>=0?WebInspector.UIString("%d of %d",b+1,a):1===a?WebInspector.UIString("1 match"):WebInspector.UIString("%d matches",a):"",this._updateSearchNavigationButtonState(a>0)},showSearchField:function(){if(this._searchIsVisible&&this.cancelSearch(),this._toggleSearchBar(!0),this._updateReplaceVisibility(),WebInspector.currentFocusElement()!==this._searchInputElement){var a=window.getSelection();if(a.rangeCount){var b=a.toString().replace(/\r?\n.*/,"");b&&(this._searchInputElement.value=b)}}this._performSearch(!1,!1),this._searchInputElement.focus(),this._searchInputElement.select(),this._searchIsVisible=!0},_updateReplaceVisibility:function(){this._replaceElement.classList.toggle("hidden",!this._replaceable),this._replaceable||(this._replaceCheckboxElement.checked=!1,this._updateSecondRowVisibility())},_onSearchFieldManualFocus:function(a){WebInspector.setCurrentFocusElement(a.target)},_onSearchKeyDown:function(a){isEnterKey(a)&&(this._currentQuery?this._jumpToNextSearchResult(a.shiftKey):this._performSearch(!0,!0))},_onReplaceKeyDown:function(a){isEnterKey(a)&&this._replace()},_jumpToNextSearchResult:function(a){this._currentQuery&&this._searchNavigationPrevElement.classList.contains("enabled")&&(a?this._searchProvider.jumpToPreviousSearchResult():this._searchProvider.jumpToNextSearchResult())},_onNextButtonSearch:function(){this._searchNavigationNextElement.classList.contains("enabled")&&(this._jumpToNextSearchResult(),this._searchInputElement.focus())},_onPrevButtonSearch:function(){this._searchNavigationPrevElement.classList.contains("enabled")&&(this._jumpToNextSearchResult(!0),this._searchInputElement.focus())},_clearSearch:function(){delete this._currentQuery,this._searchProvider.currentQuery&&(delete this._searchProvider.currentQuery,this._searchProvider.searchCanceled()),this._updateSearchMatchesCountAndCurrentMatchIndex(0,-1)},_performSearch:function(a,b){var c=this._searchInputElement.value;return!c||!a&&c.length<this._minimalSearchQuerySize&&!this._currentQuery?void this._clearSearch():(this._currentQuery=c,this._searchProvider.currentQuery=c,void this._searchProvider.performSearch(c,b))},_updateSecondRowVisibility:function(){var a=this._replaceCheckboxElement.checked;this._footerElementContainer.classList.toggle("replaceable",a),this._footerElement.classList.toggle("toolbar-search-replace",a),this._secondRowElement.classList.toggle("hidden",!a),this._prevButtonElement.classList.toggle("hidden",!a),this._findButtonElement.classList.toggle("hidden",!a),this._replaceCheckboxElement.tabIndex=a?-1:0,a?this._replaceInputElement.focus():this._searchInputElement.focus(),this.doResize()},_replace:function(){this._searchProvider.replaceSelectionWith(this._replaceInputElement.value),delete this._currentQuery,this._performSearch(!0,!0)},_replaceAll:function(){this._searchProvider.replaceAllWith(this._searchInputElement.value,this._replaceInputElement.value)},_onInput:function(){this._onValueChanged()},_onValueChanged:function(){this._performSearch(!1,!0)},__proto__:WebInspector.VBox.prototype},WebInspector.Searchable=function(){},WebInspector.Searchable.prototype={searchCanceled:function(){},performSearch:function(){},jumpToNextSearchResult:function(){},jumpToPreviousSearchResult:function(){}},WebInspector.Replaceable=function(){},WebInspector.Replaceable.prototype={replaceSelectionWith:function(){},replaceAllWith:function(){}},WebInspector.FilterBar=function(){this._filtersShown=!1,this._element=document.createElement("div"),this._element.className="hbox",this._filterButton=new WebInspector.StatusBarButton(WebInspector.UIString("Filter"),"filters-toggle",3),this._filterButton.element.addEventListener("click",this._handleFilterButtonClick.bind(this),!1),this._filters=[]},WebInspector.FilterBar.Events={FiltersToggled:"FiltersToggled"},WebInspector.FilterBar.FilterBarState={Inactive:"inactive",Active:"active",Shown:"shown"},WebInspector.FilterBar.prototype={setName:function(a){this._stateSetting=WebInspector.settings.createSetting("filterBar-"+a+"-toggled",!1),this._setState(this._stateSetting.get())},filterButton:function(){return this._filterButton},filtersElement:function(){return this._element},filtersToggled:function(){return this._filtersShown},addFilter:function(a){this._filters.push(a),this._element.appendChild(a.element()),a.addEventListener(WebInspector.FilterUI.Events.FilterChanged,this._filterChanged,this),this._updateFilterButton()},_filterChanged:function(){this._updateFilterButton()},_filterBarState:function(){if(this._filtersShown)return WebInspector.FilterBar.FilterBarState.Shown;for(var a=0;a<this._filters.length;++a)if(this._filters[a].isActive())return WebInspector.FilterBar.FilterBarState.Active;return WebInspector.FilterBar.FilterBarState.Inactive},_updateFilterButton:function(){this._filterButton.state=this._filterBarState()},_handleFilterButtonClick:function(){this._setState(!this._filtersShown)},_setState:function(a){if(this._filtersShown!==a&&(this._filtersShown=a,this._stateSetting&&this._stateSetting.set(a),this._updateFilterButton(),this.dispatchEventToListeners(WebInspector.FilterBar.Events.FiltersToggled,this._filtersShown),this._filtersShown))for(var b=0;b<this._filters.length;++b)if(this._filters[b]instanceof WebInspector.TextFilterUI){var c=this._filters[b];c.focus()}},clear:function(){this._element.removeChildren(),this._filters=[],this._updateFilterButton()},__proto__:WebInspector.Object.prototype},WebInspector.FilterUI=function(){},WebInspector.FilterUI.Events={FilterChanged:"FilterChanged"},WebInspector.FilterUI.prototype={isActive:function(){},element:function(){}},WebInspector.TextFilterUI=function(a){this._supportRegex=!!a,this._regex=null,this._filterElement=document.createElement("div"),this._filterElement.className="filter-text-filter",this._filterInputElement=this._filterElement.createChild("input","search-replace toolbar-replace-control"),this._filterInputElement.placeholder=WebInspector.UIString("Filter"),this._filterInputElement.id="filter-input-field",this._filterInputElement.addEventListener("mousedown",this._onFilterFieldManualFocus.bind(this),!1),this._filterInputElement.addEventListener("input",this._onInput.bind(this),!1),this._filterInputElement.addEventListener("change",this._onChange.bind(this),!1),this._filterInputElement.addEventListener("keydown",this._onInputKeyDown.bind(this),!0),this._filterInputElement.addEventListener("blur",this._onBlur.bind(this),!0),this._suggestionBuilder=null,this._suggestBox=new WebInspector.SuggestBox(this,this._filterElement),this._supportRegex&&(this._filterElement.classList.add("supports-regex"),this._regexCheckBox=this._filterElement.createChild("input"),this._regexCheckBox.type="checkbox",this._regexCheckBox.id="text-filter-regex",this._regexCheckBox.addEventListener("change",this._onInput.bind(this),!1),this._regexLabel=this._filterElement.createChild("label"),this._regexLabel.htmlFor="text-filter-regex",this._regexLabel.textContent=WebInspector.UIString("Regex"))
},WebInspector.TextFilterUI.prototype={isActive:function(){return!!this._filterInputElement.value},element:function(){return this._filterElement},value:function(){return this._filterInputElement.value},setValue:function(a){this._filterInputElement.value=a,this._valueChanged(!1)},regex:function(){return this._regex},_onFilterFieldManualFocus:function(a){WebInspector.setCurrentFocusElement(a.target)},_onBlur:function(){this._cancelSuggestion()},_cancelSuggestion:function(){this._suggestionBuilder&&this._suggestBox.visible&&(this._suggestionBuilder.unapplySuggestion(this._filterInputElement),this._suggestBox.hide())},_onInput:function(){this._valueChanged(!0)},_onChange:function(){this._valueChanged(!1)},focus:function(){this._filterInputElement.focus()},setSuggestionBuilder:function(a){this._cancelSuggestion(),this._suggestionBuilder=a},_updateSuggestions:function(){if(this._suggestionBuilder){var a=this._suggestionBuilder.buildSuggestions(this._filterInputElement);a&&a.length?(this._suppressSuggestion?delete this._suppressSuggestion:this._suggestionBuilder.applySuggestion(this._filterInputElement,a[0],!0),this._suggestBox.updateSuggestions(null,a,0,!0,"")):this._suggestBox.hide()}},_valueChanged:function(a){a?this._updateSuggestions():this._suggestBox.hide();var b=this.value();if(this._regex=null,this._filterInputElement.classList.remove("filter-text-invalid"),b)if(this._supportRegex&&this._regexCheckBox.checked)try{this._regex=new RegExp(b,"i")}catch(c){this._filterInputElement.classList.add("filter-text-invalid")}else this._regex=createPlainTextSearchRegex(b,"i");this._dispatchFilterChanged()},_dispatchFilterChanged:function(){this.dispatchEventToListeners(WebInspector.FilterUI.Events.FilterChanged,null)},_onInputKeyDown:function(a){var b=!1;return"U+0008"===a.keyIdentifier?this._suppressSuggestion=!0:this._suggestBox.visible()&&("U+001B"===a.keyIdentifier?(this._cancelSuggestion(),b=!0):"U+0009"===a.keyIdentifier?(this._suggestBox.acceptSuggestion(),this._valueChanged(!0),b=!0):b=this._suggestBox.keyPressed(a)),b&&a.consume(!0),b},applySuggestion:function(a,b){this._suggestionBuilder&&(this._suggestionBuilder.applySuggestion(this._filterInputElement,a,!!b),b&&this._dispatchFilterChanged())},acceptSuggestion:function(){this._filterInputElement.scrollLeft=this._filterInputElement.scrollWidth,this._valueChanged(!0)},__proto__:WebInspector.Object.prototype},WebInspector.TextFilterUI.SuggestionBuilder=function(){},WebInspector.TextFilterUI.SuggestionBuilder.prototype={buildSuggestions:function(){},applySuggestion:function(){},unapplySuggestion:function(){}},WebInspector.NamedBitSetFilterUI=function(a,b){this._filtersElement=document.createElement("div"),this._filtersElement.className="filter-bitset-filter status-bar-item",this._filtersElement.title=WebInspector.UIString("Use %s Click to select multiple types.",WebInspector.KeyboardShortcut.shortcutToString("",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta)),this._allowedTypes={},this._typeFilterElements={},this._addBit(WebInspector.NamedBitSetFilterUI.ALL_TYPES,WebInspector.UIString("All")),this._filtersElement.createChild("div","filter-bitset-filter-divider");for(var c=0;c<a.length;++c)this._addBit(a[c].name,a[c].label);b?(this._setting=b,b.addChangeListener(this._settingChanged.bind(this)),this._settingChanged()):this._toggleTypeFilter(WebInspector.NamedBitSetFilterUI.ALL_TYPES,!1)},WebInspector.NamedBitSetFilterUI.Item,WebInspector.NamedBitSetFilterUI.ALL_TYPES="all",WebInspector.NamedBitSetFilterUI.prototype={isActive:function(){return!this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES]},element:function(){return this._filtersElement},accept:function(a){return!!this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES]||!!this._allowedTypes[a]},_settingChanged:function(){var a=this._setting.get();this._allowedTypes={};for(var b in this._typeFilterElements)a[b]&&(this._allowedTypes[b]=!0);this._update()},_update:function(){(0===Object.keys(this._allowedTypes).length||this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES])&&(this._allowedTypes={},this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES]=!0);for(var a in this._typeFilterElements)this._typeFilterElements[a].classList.toggle("selected",this._allowedTypes[a]);this.dispatchEventToListeners(WebInspector.FilterUI.Events.FilterChanged,null)},_addBit:function(a,b){var c=this._filtersElement.createChild("li",a);c.typeName=a,c.createTextChild(b),c.addEventListener("click",this._onTypeFilterClicked.bind(this),!1),this._typeFilterElements[a]=c},_onTypeFilterClicked:function(a){var b;b=WebInspector.isMac()?a.metaKey&&!a.ctrlKey&&!a.altKey&&!a.shiftKey:a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey,this._toggleTypeFilter(a.target.typeName,b)},_toggleTypeFilter:function(a,b){b&&a!==WebInspector.NamedBitSetFilterUI.ALL_TYPES?this._allowedTypes[WebInspector.NamedBitSetFilterUI.ALL_TYPES]=!1:this._allowedTypes={},this._allowedTypes[a]=!this._allowedTypes[a],this._setting?this._setting.set(this._allowedTypes):this._update()},__proto__:WebInspector.Object.prototype},WebInspector.ComboBoxFilterUI=function(a){this._filterElement=document.createElement("div"),this._filterElement.className="filter-combobox-filter",this._options=a,this._filterComboBox=new WebInspector.StatusBarComboBox(this._filterChanged.bind(this));for(var b=0;b<a.length;++b){var c=a[b],d=document.createElement("option");d.text=c.label,d.title=c.title,this._filterComboBox.addOption(d),this._filterComboBox.element.title=this._filterComboBox.selectedOption().title}this._filterElement.appendChild(this._filterComboBox.element)},WebInspector.ComboBoxFilterUI.prototype={isActive:function(){return 0!==this._filterComboBox.selectedIndex()},element:function(){return this._filterElement},value:function(){var a=this._options[this._filterComboBox.selectedIndex()];return a.value},setSelectedIndex:function(a){this._filterComboBox.setSelectedIndex(a)},selectedIndex:function(){return this._filterComboBox.selectedIndex()},_filterChanged:function(){var a=this._options[this._filterComboBox.selectedIndex()];this._filterComboBox.element.title=a.title,this.dispatchEventToListeners(WebInspector.FilterUI.Events.FilterChanged,null)},__proto__:WebInspector.Object.prototype},WebInspector.CheckboxFilterUI=function(a,b,c,d){this._filterElement=document.createElement("div"),this._filterElement.classList.add("filter-checkbox-filter","filter-checkbox-filter-"+a),this._activeWhenChecked=!!c,this._createCheckbox(b),d?(this._setting=d,d.addChangeListener(this._settingChanged.bind(this)),this._settingChanged()):(this._checked=!this._activeWhenChecked,this._update())},WebInspector.CheckboxFilterUI.prototype={isActive:function(){return this._activeWhenChecked===this._checked},element:function(){return this._filterElement},checked:function(){return this._checked},setState:function(a){this._checked=a,this._update()},_update:function(){this._checkElement.classList.toggle("checkbox-filter-checkbox-checked",this._checked),this.dispatchEventToListeners(WebInspector.FilterUI.Events.FilterChanged,null)},_settingChanged:function(){this._checked=this._setting.get(),this._update()},_onClick:function(){this._checked=!this._checked,this._setting?this._setting.set(this._checked):this._update()},_createCheckbox:function(a){var b=this._filterElement.createChild("label"),c=b.createChild("div","checkbox-filter-checkbox");this._checkElement=c.createChild("div","checkbox-filter-checkbox-check"),this._filterElement.addEventListener("click",this._onClick.bind(this),!1);var d=b.createChild("span","type");d.textContent=a},__proto__:WebInspector.Object.prototype},WebInspector.FilterSuggestionBuilder=function(a){this._keys=a,this._valueSets={},this._valueLists={}},WebInspector.FilterSuggestionBuilder.prototype={buildSuggestions:function(a){var b=a.value,c=a.selectionEnd;if(c!=b.length)return null;var d=a.selectionStart;b=b.substring(0,d);var e=b.lastIndexOf(" ")+1,f=b.substring(e);if(!f)return[];var g=f.indexOf(":"),h=[];if(-1===g)for(var i=0;i<this._keys.length;++i)this._keys[i].startsWith(f)&&h.push(this._keys[i]+":");else for(var j=f.substring(0,g),k=f.substring(g+1),l=this._values(j),m=0;m<l.length;++m)l[m].startsWith(k)&&l[m]!==k&&h.push(j+":"+l[m]);return h},applySuggestion:function(a,b,c){var d=a.value,e=a.selectionStart;d=d.substring(0,e);var f=d.lastIndexOf(" ")+1;d=d.substring(0,f)+b,a.value=d,c||(e=d.length),a.setSelectionRange(e,d.length)},unapplySuggestion:function(a){var b=a.selectionStart,c=a.selectionEnd,d=a.value;b!==c&&c===d.length&&(a.value=d.substring(0,b))},_values:function(a){var b=this._valueLists[a];return b?(b.sort(),b):[]},addItem:function(a,b){if(b){var c=this._valueSets[a],d=this._valueLists[a];c||(c={},this._valueSets[a]=c,d=[],this._valueLists[a]=d),c[b]||(c[b]=!0,d.push(b))}},parseQuery:function(a){for(var b,c={},d=[],e=0,f=0;;){var g=a.indexOf(":",e);if(-1==g){b=a.substring(f),b&&d.push(b);break}var h=a.lastIndexOf(" ",g),i=a.substring(h+1,g);if(-1!=this._keys.indexOf(i)){b=h>f?a.substring(f,h):"",b&&d.push(b);var j=a.indexOf(" ",g+1);if(-1==j){c[i]=a.substring(g+1);break}c[i]=a.substring(g+1,j),e=j+1,f=e}else e=g+1}return{text:d,filters:c}}},WebInspector.InspectElementModeController=function(){this.toggleSearchButton=new WebInspector.StatusBarButton(WebInspector.UIString("Select an element in the page to inspect it."),"node-search-status-bar-item"),this.toggleSearchButton.addEventListener("click",this.toggleSearch,this),this._shortcut=WebInspector.InspectElementModeController.createShortcut()},WebInspector.InspectElementModeController.createShortcut=function(){return WebInspector.KeyboardShortcut.makeDescriptor("c",WebInspector.KeyboardShortcut.Modifiers.CtrlOrMeta|WebInspector.KeyboardShortcut.Modifiers.Shift)},WebInspector.InspectElementModeController.prototype={enabled:function(){return this.toggleSearchButton.toggled},disable:function(){this.enabled()&&this.toggleSearch()},toggleSearch:function(){function a(a){a||(this.toggleSearchButton.toggled=b)}var b=!this.enabled();WebInspector.domModel.setInspectModeEnabled(b,WebInspector.settings.showUAShadowDOM.get(),a.bind(this))},handleShortcut:function(a){return WebInspector.KeyboardShortcut.makeKeyFromEvent(a)!==this._shortcut.key?!1:(this.toggleSearch(),a.consume(!0),!0)}},WebInspector.inspectElementModeController,WebInspector.WorkerManager=function(a,b){this._reset(),a.registerWorkerDispatcher(new WebInspector.WorkerDispatcher(this)),b&&(WorkerAgent.enable(),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._mainFrameNavigated,this))},WebInspector.WorkerManager.Events={WorkerAdded:"WorkerAdded",WorkerRemoved:"WorkerRemoved",WorkersCleared:"WorkersCleared",WorkerSelectionChanged:"WorkerSelectionChanged",WorkerDisconnected:"WorkerDisconnected",MessageFromWorker:"MessageFromWorker"},WebInspector.WorkerManager.MainThreadId=0,WebInspector.WorkerManager.prototype={_reset:function(){this._threadUrlByThreadId={},this._threadUrlByThreadId[WebInspector.WorkerManager.MainThreadId]=WebInspector.UIString("Thread: Main"),this._threadsList=[WebInspector.WorkerManager.MainThreadId],this._selectedThreadId=WebInspector.WorkerManager.MainThreadId},_workerCreated:function(a,b,c){this._threadsList.push(a),this._threadUrlByThreadId[a]=b,this.dispatchEventToListeners(WebInspector.WorkerManager.Events.WorkerAdded,{workerId:a,url:b,inspectorConnected:c})},_workerTerminated:function(a){this._threadsList.remove(a),delete this._threadUrlByThreadId[a],this.dispatchEventToListeners(WebInspector.WorkerManager.Events.WorkerRemoved,a)},_dispatchMessageFromWorker:function(a,b){this.dispatchEventToListeners(WebInspector.WorkerManager.Events.MessageFromWorker,{workerId:a,message:b})},_disconnectedFromWorker:function(){this.dispatchEventToListeners(WebInspector.WorkerManager.Events.WorkerDisconnected)},_mainFrameNavigated:function(){this._reset(),this.dispatchEventToListeners(WebInspector.WorkerManager.Events.WorkersCleared)},threadsList:function(){return this._threadsList},threadUrl:function(a){return this._threadUrlByThreadId[a]},setSelectedThreadId:function(a){this._selectedThreadId=a},selectedThreadId:function(){return this._selectedThreadId},__proto__:WebInspector.Object.prototype},WebInspector.WorkerDispatcher=function(a){this._workerManager=a},WebInspector.WorkerDispatcher.prototype={workerCreated:function(a,b,c){this._workerManager._workerCreated(a,b,c)},workerTerminated:function(a){this._workerManager._workerTerminated(a)},dispatchMessageFromWorker:function(a,b){this._workerManager._dispatchMessageFromWorker(a,b)},disconnectedFromWorker:function(){this._workerManager._disconnectedFromWorker()}},WebInspector.workerManager,WebInspector.ExternalWorkerConnection=function(a,b){InspectorBackendClass.Connection.call(this),this._workerId=a,window.addEventListener("message",this._processMessage.bind(this),!0),b(this)},WebInspector.ExternalWorkerConnection.prototype={_processMessage:function(a){if(a){var b=a.data;this.dispatch(b)}},sendMessage:function(a){window.opener.postMessage({workerId:this._workerId,command:"sendMessageToBackend",message:a},"*")},__proto__:InspectorBackendClass.Connection.prototype},WebInspector.WorkerFrontendManager=function(){this._workerIdToWindow={},WebInspector.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkerAdded,this._workerAdded,this),WebInspector.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkerRemoved,this._workerRemoved,this),WebInspector.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkersCleared,this._workersCleared,this),WebInspector.workerManager.addEventListener(WebInspector.WorkerManager.Events.MessageFromWorker,this._sendMessageToWorkerInspector,this),window.addEventListener("message",this._handleMessage.bind(this),!0)},WebInspector.WorkerFrontendManager.prototype={_workerAdded:function(a){var b=a.data;b.inspectorConnected&&this._openInspectorWindow(b.workerId,!0)},_workerRemoved:function(a){var b=a.data;this.closeWorkerInspector(b.workerId)},_workersCleared:function(){for(var a in this._workerIdToWindow)this.closeWorkerInspector(a)},_handleMessage:function(a){var b=a.data,c=b.workerId;c=parseInt(c,10);var d=b.command,e=b.message;"sendMessageToBackend"==d&&WorkerAgent.sendMessageToWorker(c,e)},_sendMessageToWorkerInspector:function(a){var b=a.data,c=this._workerIdToWindow[b.workerId];c&&c.postMessage(b.message,"*")},openWorkerInspector:function(a){var b=this._workerIdToWindow[a];return b?void b.focus():(this._openInspectorWindow(a,!1),void WorkerAgent.connectToWorker(a))},_openInspectorWindow:function(a,b){var c=window.location.search,d=window.location.hash,e=window.location.href;e=e.replace(d,""),e+=(c?"&dedicatedWorkerId=":"?dedicatedWorkerId=")+a,b&&(e+="&workerPaused=true"),e=e.replace("docked=true&",""),e=e.replace("can_dock=true&",""),e+=d;var f=WebInspector.settings.workerInspectorWidth.get(),g=WebInspector.settings.workerInspectorHeight.get(),h=window.open(e,void 0,"location=0,width="+f+",height="+g);h.addEventListener("resize",this._onWorkerInspectorResize.bind(this,h),!1),this._workerIdToWindow[a]=h,h.addEventListener("beforeunload",this._workerInspectorClosing.bind(this,a),!0),window.addEventListener("unload",this._pageInspectorClosing.bind(this),!0)},closeWorkerInspector:function(a){var b=this._workerIdToWindow[a];b&&b.close()},_onWorkerInspectorResize:function(a){var b=a.document;WebInspector.settings.workerInspectorWidth.set(b.width),WebInspector.settings.workerInspectorHeight.set(b.height)},_workerInspectorClosing:function(a,b){"about:blank"!==b.target.location.href&&(this._ignoreWorkerInspectorClosing||(delete this._workerIdToWindow[a],WorkerAgent.disconnectFromWorker(a)))},_pageInspectorClosing:function(){this._ignoreWorkerInspectorClosing=!0;for(var a in this._workerIdToWindow)this._workerIdToWindow[a].close(),WorkerAgent.disconnectFromWorker(parseInt(a,10))}},WebInspector.workerFrontendManager=null,WebInspector.WorkerTargetManager=function(a,b){this._mainTarget=a,this._targetManager=b,a.workerManager.addEventListener(WebInspector.WorkerManager.Events.WorkerAdded,this._onWorkerAdded,this)},WebInspector.WorkerTargetManager.prototype={_onWorkerAdded:function(a){function b(a){this._targetManager.createTarget(a,c)}function c(a){a.runtimeModel.addWorkerContextList(d.url)}var d=a.data;new WebInspector.WorkerConnection(this._mainTarget,d.workerId,b.bind(this))}},WebInspector.WorkerConnection=function(a,b,c){InspectorBackendClass.Connection.call(this),this._workerId=b,this._workerAgent=a.workerAgent(),this._workerAgent.connectToWorker(b,c.bind(null,this)),a.workerManager.addEventListener(WebInspector.WorkerManager.Events.MessageFromWorker,this._dispatchMessageFromWorker,this)},WebInspector.WorkerConnection.prototype={_dispatchMessageFromWorker:function(a){var b=a.data;b.workerId===this._workerId&&this.dispatch(b.message)},sendMessage:function(a){this._workerAgent.sendMessageToWorker(this._workerId,a)},__proto__:InspectorBackendClass.Connection.prototype},WebInspector.UserMetrics=function(){for(var a in WebInspector.UserMetrics._ActionCodes){var b=WebInspector.UserMetrics._ActionCodes[a];this[a]=new WebInspector.UserMetrics._Recorder(b)}},WebInspector.UserMetrics._ActionCodes={WindowDocked:1,WindowUndocked:2,ScriptsBreakpointSet:3,TimelineStarted:4,ProfilesCPUProfileTaken:5,ProfilesHeapProfileTaken:6,AuditsStarted:7,ConsoleEvaluated:8},WebInspector.UserMetrics._PanelCodes={elements:1,resources:2,network:3,scripts:4,timeline:5,profiles:6,audits:7,console:8},WebInspector.UserMetrics.UserAction="UserAction",WebInspector.UserMetrics.UserActionNames={ForcedElementState:"forcedElementState",FileSaved:"fileSaved",RevertRevision:"revertRevision",ApplyOriginalContent:"applyOriginalContent",TogglePrettyPrint:"togglePrettyPrint",SetBreakpoint:"setBreakpoint",OpenSourceLink:"openSourceLink",NetworkSort:"networkSort",NetworkRequestSelected:"networkRequestSelected",NetworkRequestTabSelected:"networkRequestTabSelected",HeapSnapshotFilterChanged:"heapSnapshotFilterChanged"},WebInspector.UserMetrics.prototype={panelShown:function(a){InspectorFrontendHost.recordPanelShown(WebInspector.UserMetrics._PanelCodes[a]||0)}},WebInspector.UserMetrics._Recorder=function(a){this._actionCode=a},WebInspector.UserMetrics._Recorder.prototype={record:function(){InspectorFrontendHost.recordActionTaken(this._actionCode)}},WebInspector.userMetrics=new WebInspector.UserMetrics,WebInspector.RuntimeModel=function(a){a.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameAdded,this._frameAdded,this),a.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameNavigated,this._frameNavigated,this),a.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameDetached,this._frameDetached,this),a.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.CachedResourcesLoaded,this._didLoadCachedResources,this),this._target=a,this._debuggerModel=a.debuggerModel,this._agent=a.runtimeAgent(),this._contextListById={}},WebInspector.RuntimeModel.Events={ExecutionContextListAdded:"ExecutionContextListAdded",ExecutionContextListRemoved:"ExecutionContextListRemoved"},WebInspector.RuntimeModel.prototype={addWorkerContextList:function(a){console.assert(this._target.isWorkerTarget(),"Worker context list was added in a non-worker target");var b=new WebInspector.WorkerExecutionContextList("worker",a);this._addContextList(b);var c=new WebInspector.ExecutionContext(void 0,a,!0);b._addExecutionContext(c)},setCurrentExecutionContext:function(a){this._currentExecutionContext=a},currentExecutionContext:function(){return this._currentExecutionContext},contextLists:function(){return Object.values(this._contextListById)},contextListByFrame:function(a){return this._contextListById[a.id]},_frameAdded:function(a){console.assert(!this._target.isWorkerTarget(),"Frame was added in a worker target.t");var b=a.data,c=new WebInspector.FrameExecutionContextList(b);this._addContextList(c)},_addContextList:function(a){this._contextListById[a.id()]=a,this.dispatchEventToListeners(WebInspector.RuntimeModel.Events.ExecutionContextListAdded,a)},_frameNavigated:function(a){console.assert(!this._target.isWorkerTarget(),"Frame was navigated in worker's target");var b=a.data,c=this._contextListById[b.id];c&&c._frameNavigated(b)},_frameDetached:function(a){console.assert(!this._target.isWorkerTarget(),"Frame was detached in worker's target");var b=a.data,c=this._contextListById[b.id];c&&(this.dispatchEventToListeners(WebInspector.RuntimeModel.Events.ExecutionContextListRemoved,c),delete this._contextListById[b.id])},_didLoadCachedResources:function(){this._target.registerRuntimeDispatcher(new WebInspector.RuntimeDispatcher(this)),this._agent.enable()},_executionContextCreated:function(a){var b=this._contextListById[a.frameId];console.assert(b),b._addExecutionContext(new WebInspector.ExecutionContext(a.id,a.name,a.isPageContext))},evaluate:function(a,b,c,d,e,f,g){function h(a,b,c){return a?void g(null,!1):void(e?g(null,!!c,c?null:b):g(WebInspector.RemoteObject.fromPayload(b,this._target),!!c))}return this._debuggerModel.selectedCallFrame()?void this._debuggerModel.evaluateOnSelectedCallFrame(a,b,c,d,e,f,g):(a||(a="this"),void this._agent.evaluate(a,b,c,d,this._currentExecutionContext?this._currentExecutionContext.id:void 0,e,f,h.bind(this)))},completionsForTextPrompt:function(a,b,c,d){var e=b.startContainer.rangeOfWord(b.startOffset," =:[({;,!+-*/&|^<>",a,"backward"),f=e.toString(),g=b.toString();this._completionsForExpression(f,g,c,d)},_completionsForExpression:function(a,b,c,d){function e(a,b){function c(a){var b;b="string"===a?new String(""):"number"===a?new Number(0):"boolean"===a?new Boolean(!1):this;for(var c={},d=b;d;d=d.__proto__)try{for(var e=Object.getOwnPropertyNames(d),f=0;f<e.length;++f)c[e[f]]=!0}catch(g){}return c}return!a||b?void d([]):void("object"===a.type||"function"===a.type?a.callFunctionJSON(c,void 0,g.bind(this)):("string"===a.type||"number"===a.type||"boolean"===a.type)&&this.evaluate("("+c+')("'+a.type+'")',"completion",!1,!0,!0,!1,f.bind(this)))}function f(a,b,c){c&&!b?g.call(this,c.value):d([])}function g(c){if(this._agent.releaseObjectGroup("completion"),!c)return void d([]);var e=!i&&!j;if(e){const f=["dir","dirxml","keys","values","profile","profileEnd","monitorEvents","unmonitorEvents","inspect","copy","clear","getEventListeners","debug","undebug","monitor","unmonitor","table","$","$$","$x"];for(var g=0;g<f.length;++g)c[f[g]]=!0}this._reportCompletions(d,i,j,a,b,Object.keys(c))}var h=a.length-1,i="."===a[h],j="["===a[h];return(i||j)&&(a=a.substr(0,h)),a&&parseInt(a,10)==a?void d([]):b||a||c?void(!a&&this._debuggerModel.selectedCallFrame()?this._debuggerModel.getSelectedCallFrameVariables(g.bind(this)):this.evaluate(a,"completion",!0,!0,!1,!1,e.bind(this))):void d([])},_reportCompletions:function(a,b,c,d,e,f){if(c)if(e.length&&"'"===e[0])var g="'";else var g='"';var h=[];if(!d){const i=["break","case","catch","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with"];f=f.concat(i)}f.sort();for(var j=0;j<f.length;++j){var k=f[j];(!b||/^[a-zA-Z_$\u008F-\uFFFF][a-zA-Z0-9_$\u008F-\uFFFF]*$/.test(k))&&(c&&(/^[0-9]+$/.test(k)||(k=g+k.escapeCharacters(g+"\\")+g),k+="]"),k.length<e.length||(!e.length||k.startsWith(e))&&h.push(k))}a(h)},__proto__:WebInspector.Object.prototype},WebInspector.runtimeModel,WebInspector.RuntimeDispatcher=function(a){this._runtimeModel=a},WebInspector.RuntimeDispatcher.prototype={executionContextCreated:function(a){this._runtimeModel._executionContextCreated(a)}},WebInspector.ExecutionContext=function(a,b,c){this.id=a,this.name=c&&!b?"<page context>":b,this.isMainWorldContext=c},WebInspector.ExecutionContext.comparator=function(a,b){return a.isMainWorldContext?-1:b.isMainWorldContext?1:a.name.localeCompare(b.name)},WebInspector.ExecutionContextList=function(){this._executionContexts=[]},WebInspector.ExecutionContextList.EventTypes={Reset:"Reset",ContextAdded:"ContextAdded"},WebInspector.ExecutionContextList.prototype={_reset:function(){this._executionContexts=[],this.dispatchEventToListeners(WebInspector.ExecutionContextList.EventTypes.Reset,this)},_addExecutionContext:function(a){var b=insertionIndexForObjectInListSortedByFunction(a,this._executionContexts,WebInspector.ExecutionContext.comparator);this._executionContexts.splice(b,0,a),this.dispatchEventToListeners(WebInspector.ExecutionContextList.EventTypes.ContextAdded,this)},executionContexts:function(){return this._executionContexts},mainWorldContext:function(){return this._executionContexts[0]},contextBySecurityOrigin:function(a){for(var b=0;b<this._executionContexts.length;++b){var c=this._executionContexts[b];if(!c.isMainWorldContext&&c.name===a)return c}return null},id:function(){throw"Not implemented"},url:function(){throw"Not implemented"},displayName:function(){throw"Not implemented"},__proto__:WebInspector.Object.prototype},WebInspector.FrameExecutionContextList=function(a){WebInspector.ExecutionContextList.call(this),this._frame=a},WebInspector.FrameExecutionContextList.prototype={_frameNavigated:function(a){this._frame=a,this._reset()},id:function(){return this._frame.id},url:function(){return this._frame.url},displayName:function(){return this._frame.displayName()},__proto__:WebInspector.ExecutionContextList.prototype},WebInspector.WorkerExecutionContextList=function(a,b){WebInspector.ExecutionContextList.call(this),this._url=b,this._id=a},WebInspector.WorkerExecutionContextList.prototype={id:function(){return this._id},url:function(){return this._url},displayName:function(){return this._url},__proto__:WebInspector.ExecutionContextList.prototype},WebInspector.HandlerRegistry=function(a){WebInspector.Object.call(this),this._handlers={},this._setting=a,this._activeHandler=this._setting.get(),WebInspector.moduleManager.registerModule("handler-registry")},WebInspector.HandlerRegistry.prototype={get handlerNames(){return Object.getOwnPropertyNames(this._handlers)},get activeHandler(){return this._activeHandler},set activeHandler(a){this._activeHandler=a,this._setting.set(a)},dispatch:function(a){return this.dispatchToHandler(this._activeHandler,a)},dispatchToHandler:function(a,b){var c=this._handlers[a],d=c&&c(b);return!!d},registerHandler:function(a,b){this._handlers[a]=b,this.dispatchEventToListeners(WebInspector.HandlerRegistry.EventTypes.HandlersUpdated)},unregisterHandler:function(a){delete this._handlers[a],this.dispatchEventToListeners(WebInspector.HandlerRegistry.EventTypes.HandlersUpdated)},_openInNewTab:function(a){InspectorFrontendHost.openInNewTab(a)},_appendContentProviderItems:function(a,b){function c(a,b){var c=e.contentURL();WebInspector.fileManager.save(c,b,a),WebInspector.fileManager.close(c)}function d(a){if(e instanceof WebInspector.UISourceCode){var b=e;return void b.saveToFileSystem(a)}e.requestContent(c.bind(null,a))}if(b instanceof WebInspector.UISourceCode||b instanceof WebInspector.Resource||b instanceof WebInspector.NetworkRequest){var e=b;if(e.contentURL()){a.appendItem(WebInspector.openLinkExternallyLabel(),this._openInNewTab.bind(this,e.contentURL()));for(var f=1;f<this.handlerNames.length;++f){var g=this.handlerNames[f];a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open using %s":"Open Using %s",g),this.dispatchToHandler.bind(this,g,{url:e.contentURL()}))}if(a.appendItem(WebInspector.copyLinkAddressLabel(),InspectorFrontendHost.copyText.bind(InspectorFrontendHost,e.contentURL())),e.contentURL()){var h=e.contentType();(h===WebInspector.resourceTypes.Document||h===WebInspector.resourceTypes.Stylesheet||h===WebInspector.resourceTypes.Script)&&(a.appendSeparator(),a.appendItem(WebInspector.UIString("Save"),d.bind(null,!1)),a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Save as...":"Save As..."),d.bind(null,!0)))}}}},_appendHrefItems:function(a,b){function c(a){var b=WebInspector.resourceForURL(a);b?WebInspector.Revealer.reveal(b):InspectorFrontendHost.openInNewTab(a)}if(b instanceof Node){var d=b,e=d.enclosingNodeOrSelfWithClass("webkit-html-resource-link")||d.enclosingNodeOrSelfWithClass("webkit-html-external-link");if(e){var f=e.href;f&&(a.appendItem(WebInspector.openLinkExternallyLabel(),this._openInNewTab.bind(this,f)),WebInspector.resourceForURL(f)&&a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Open link in Resources panel":"Open Link in Resources Panel"),c.bind(null,f)),a.appendItem(WebInspector.copyLinkAddressLabel(),InspectorFrontendHost.copyText.bind(InspectorFrontendHost,f)))}}},__proto__:WebInspector.Object.prototype},WebInspector.HandlerRegistry.EventTypes={HandlersUpdated:"HandlersUpdated"},WebInspector.HandlerSelector=function(a){this._handlerRegistry=a,this.element=document.createElement("select"),this.element.addEventListener("change",this._onChange.bind(this),!1),this._update(),this._handlerRegistry.addEventListener(WebInspector.HandlerRegistry.EventTypes.HandlersUpdated,this._update.bind(this))},WebInspector.HandlerSelector.prototype={_update:function(){this.element.removeChildren();for(var a=this._handlerRegistry.handlerNames,b=this._handlerRegistry.activeHandler,c=0;c<a.length;++c){var d=document.createElement("option");d.textContent=a[c],d.selected=b===a[c],this.element.appendChild(d)}this.element.disabled=a.length<=1},_onChange:function(a){var b=a.target.value;this._handlerRegistry.activeHandler=b}},WebInspector.HandlerRegistry.ContextMenuProvider=function(){},WebInspector.HandlerRegistry.ContextMenuProvider.prototype={appendApplicableItems:function(a,b,c){WebInspector.openAnchorLocationRegistry._appendContentProviderItems(b,c),WebInspector.openAnchorLocationRegistry._appendHrefItems(b,c)}},WebInspector.HandlerRegistry.LinkHandler=function(){},WebInspector.HandlerRegistry.LinkHandler.prototype={handleLink:function(a,b){return WebInspector.openAnchorLocationRegistry.dispatch({url:a,lineNumber:b})}},WebInspector.openAnchorLocationRegistry,WebInspector.SnippetStorage=function(a,b){this._snippets={},this._lastSnippetIdentifierSetting=WebInspector.settings.createSetting(a+"Snippets_lastIdentifier",0),this._snippetsSetting=WebInspector.settings.createSetting(a+"Snippets",[]),this._namePrefix=b,this._loadSettings()},WebInspector.SnippetStorage.prototype={get namePrefix(){return this._namePrefix},_saveSettings:function(){var a=[];for(var b in this._snippets)a.push(this._snippets[b].serializeToObject());this._snippetsSetting.set(a)},snippets:function(){var a=[];for(var b in this._snippets)a.push(this._snippets[b]);return a},snippetForId:function(a){return this._snippets[a]},snippetForName:function(a){for(var b=Object.values(this._snippets),c=0;c<b.length;++c)if(b[c].name===a)return b[c];return null},_loadSettings:function(){for(var a=this._snippetsSetting.get(),b=0;b<a.length;++b)this._snippetAdded(WebInspector.Snippet.fromObject(this,a[b]))},deleteSnippet:function(a){delete this._snippets[a.id],this._saveSettings()},createSnippet:function(){var a=this._lastSnippetIdentifierSetting.get()+1,b=String(a);this._lastSnippetIdentifierSetting.set(a);var c=new WebInspector.Snippet(this,b);return this._snippetAdded(c),this._saveSettings(),c},_snippetAdded:function(a){this._snippets[a.id]=a},reset:function(){this._lastSnippetIdentifierSetting.set(0),this._snippetsSetting.set([]),this._snippets={}},__proto__:WebInspector.Object.prototype},WebInspector.Snippet=function(a,b,c,d){this._storage=a,this._id=b,this._name=c||a.namePrefix+b,this._content=d||""},WebInspector.Snippet.fromObject=function(a,b){return new WebInspector.Snippet(a,b.id,b.name,b.content)},WebInspector.Snippet.prototype={get id(){return this._id},get name(){return this._name},set name(a){this._name!==a&&(this._name=a,this._storage._saveSettings())},get content(){return this._content},set content(a){this._content!==a&&(this._content=a,this._storage._saveSettings())
},serializeToObject:function(){var a={};return a.id=this.id,a.name=this.name,a.content=this.content,a},__proto__:WebInspector.Object.prototype},WebInspector.ScriptSnippetModel=function(a){this._workspace=a,this._uiSourceCodeForScriptId={},this._scriptForUISourceCode=new Map,this._uiSourceCodeForSnippetId={},this._snippetIdForUISourceCode=new Map,this._snippetStorage=new WebInspector.SnippetStorage("script","Script snippet #"),this._lastSnippetEvaluationIndexSetting=WebInspector.settings.createSetting("lastSnippetEvaluationIndex",0),this._snippetScriptMapping=new WebInspector.SnippetScriptMapping(this),this._projectDelegate=new WebInspector.SnippetsProjectDelegate(this),this._project=this._workspace.addProject(this._projectDelegate),this.reset(),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this)},WebInspector.ScriptSnippetModel.prototype={get scriptMapping(){return this._snippetScriptMapping},project:function(){return this._project},_loadSnippets:function(){for(var a=this._snippetStorage.snippets(),b=0;b<a.length;++b)this._addScriptSnippet(a[b])},createScriptSnippet:function(a){var b=this._snippetStorage.createSnippet();return b.content=a,this._addScriptSnippet(b)},_addScriptSnippet:function(a){var b=this._projectDelegate.addSnippet(a.name,new WebInspector.SnippetContentProvider(a)),c=this._workspace.uiSourceCode(this._projectDelegate.id(),b);if(!c)return console.assert(c),"";var d=new WebInspector.SnippetScriptFile(this,c);return c.setScriptFile(d),this._snippetIdForUISourceCode.put(c,a.id),c.setSourceMapping(this._snippetScriptMapping),this._uiSourceCodeForSnippetId[a.id]=c,b},deleteScriptSnippet:function(a){var b=this._workspace.uiSourceCode(this._projectDelegate.id(),a);if(b){var c=this._snippetIdForUISourceCode.get(b)||"",d=this._snippetStorage.snippetForId(c);this._snippetStorage.deleteSnippet(d),this._removeBreakpoints(b),this._releaseSnippetScript(b),delete this._uiSourceCodeForSnippetId[d.id],this._snippetIdForUISourceCode.remove(b),this._projectDelegate.removeFile(d.name)}},renameScriptSnippet:function(a,b,c){if(b=b.trim(),!b||-1!==b.indexOf("/")||a===b||this._snippetStorage.snippetForName(b))return void c(!1);var d=this._snippetStorage.snippetForName(a);console.assert(d,"Snippet '"+a+"' was not found.");var e=this._uiSourceCodeForSnippetId[d.id];console.assert(e,"No uiSourceCode was found for snippet '"+a+"'.");var f=this._removeBreakpoints(e);d.name=b,this._restoreBreakpoints(e,f),c(!0,b)},_setScriptSnippetContent:function(a,b){var c=this._snippetStorage.snippetForName(a);c.content=b},_scriptSnippetEdited:function(a){var b=this._scriptForUISourceCode.get(a);if(b){var c=this._removeBreakpoints(a);this._releaseSnippetScript(a),this._restoreBreakpoints(a,c);var d=b.rawLocationToUILocation(0,0).uiSourceCode;d&&this._restoreBreakpoints(d,c)}},_nextEvaluationIndex:function(){var a=this._lastSnippetEvaluationIndexSetting.get()+1;return this._lastSnippetEvaluationIndexSetting.set(a),a},evaluateScriptSnippet:function(a){function b(b,c,d){if(a&&a._evaluationIndex===e){if(b)return void console.error(b);if(!c){var f=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.JS,WebInspector.ConsoleMessage.MessageLevel.Error,d||"");return void WebInspector.console.addMessage(f)}var g=this._removeBreakpoints(a);this._restoreBreakpoints(a,g),this._runScript(c)}}var c=this._removeBreakpoints(a);this._releaseSnippetScript(a),this._restoreBreakpoints(a,c);var d=this._snippetIdForUISourceCode.get(a)||"",e=this._nextEvaluationIndex(d);a._evaluationIndex=e;var f=this._evaluationSourceURL(a),g=a.workingCopy();WebInspector.console.show(),DebuggerAgent.compileScript(g,f,b.bind(this))},_runScript:function(a){function b(a,b,c){return a?void console.error(a):void this._printRunScriptResult(b,c)}var c=WebInspector.runtimeModel.currentExecutionContext();DebuggerAgent.runScript(a,c?c.id:void 0,"console",!1,b.bind(this))},_printRunScriptResult:function(a,b){var c=b?WebInspector.ConsoleMessage.MessageLevel.Error:WebInspector.ConsoleMessage.MessageLevel.Log,d=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.JS,c,"",void 0,void 0,void 0,void 0,void 0,[a]);WebInspector.console.addMessage(d)},_rawLocationToUILocation:function(a){var b=this._uiSourceCodeForScriptId[a.scriptId];return b?new WebInspector.UILocation(b,a.lineNumber,a.columnNumber||0):null},_uiLocationToRawLocation:function(a,b,c){var d=this._scriptForUISourceCode.get(a);return d?WebInspector.debuggerModel.createRawLocation(d,b,c):null},_addScript:function(a){var b=this._snippetIdForSourceURL(a.sourceURL);if(b){var c=this._uiSourceCodeForSnippetId[b];c&&this._evaluationSourceURL(c)===a.sourceURL&&(console.assert(!this._scriptForUISourceCode.get(c)),this._uiSourceCodeForScriptId[a.scriptId]=c,this._scriptForUISourceCode.put(c,a),c.scriptFile().setHasDivergedFromVM(!1),a.pushSourceMapping(this._snippetScriptMapping))}},_removeBreakpoints:function(a){for(var b=WebInspector.breakpointManager.breakpointLocationsForUISourceCode(a),c=0;c<b.length;++c)b[c].breakpoint.remove();return b},_restoreBreakpoints:function(a,b){for(var c=0;c<b.length;++c){var d=b[c].uiLocation,e=b[c].breakpoint;WebInspector.breakpointManager.setBreakpoint(a,d.lineNumber,d.columnNumber,e.condition(),e.enabled())}},_releaseSnippetScript:function(a){var b=this._scriptForUISourceCode.get(a);return b?(a.scriptFile().setIsDivergingFromVM(!0),a.scriptFile().setHasDivergedFromVM(!0),delete this._uiSourceCodeForScriptId[b.scriptId],this._scriptForUISourceCode.remove(a),delete a._evaluationIndex,void a.scriptFile().setIsDivergingFromVM(!1)):null},_debuggerReset:function(){for(var a in this._uiSourceCodeForSnippetId){var b=this._uiSourceCodeForSnippetId[a];this._releaseSnippetScript(b)}},_evaluationSourceURL:function(a){var b="_"+a._evaluationIndex,c=this._snippetIdForUISourceCode.get(a);return WebInspector.Script.snippetSourceURLPrefix+c+b},_snippetIdForSourceURL:function(a){var b=WebInspector.Script.snippetSourceURLPrefix;if(!a.startsWith(b))return null;var c=a.substring(b.length).split("_"),d=c[0];return d},reset:function(){this._uiSourceCodeForScriptId={},this._scriptForUISourceCode=new Map,this._uiSourceCodeForSnippetId={},this._snippetIdForUISourceCode=new Map,this._projectDelegate.reset(),this._loadSnippets()},__proto__:WebInspector.Object.prototype},WebInspector.SnippetScriptFile=function(a,b){WebInspector.ScriptFile.call(this),this._scriptSnippetModel=a,this._uiSourceCode=b,this._hasDivergedFromVM=!0,this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this)},WebInspector.SnippetScriptFile.prototype={hasDivergedFromVM:function(){return this._hasDivergedFromVM},setHasDivergedFromVM:function(a){this._hasDivergedFromVM=a},isDivergingFromVM:function(){return this._isDivergingFromVM},checkMapping:function(){},isMergingToVM:function(){return!1},setIsDivergingFromVM:function(a){this._isDivergingFromVM=a},_workingCopyChanged:function(){this._scriptSnippetModel._scriptSnippetEdited(this._uiSourceCode)},__proto__:WebInspector.Object.prototype},WebInspector.SnippetScriptMapping=function(a){this._scriptSnippetModel=a},WebInspector.SnippetScriptMapping.prototype={rawLocationToUILocation:function(a){var b=a;return this._scriptSnippetModel._rawLocationToUILocation(b)},uiLocationToRawLocation:function(a,b,c){return this._scriptSnippetModel._uiLocationToRawLocation(a,b,c)},snippetIdForSourceURL:function(a){return this._scriptSnippetModel._snippetIdForSourceURL(a)},addScript:function(a){this._scriptSnippetModel._addScript(a)},isIdentity:function(){return!1}},WebInspector.SnippetContentProvider=function(a){this._snippet=a},WebInspector.SnippetContentProvider.prototype={contentURL:function(){return""},contentType:function(){return WebInspector.resourceTypes.Script},requestContent:function(a){a(this._snippet.content)},searchInContent:function(a,b,c,d){function e(){d(WebInspector.ContentProvider.performSearchInContent(this._snippet.content,a,b,c))}window.setTimeout(e.bind(this),0)}},WebInspector.SnippetsProjectDelegate=function(a){WebInspector.ContentProviderBasedProjectDelegate.call(this,WebInspector.projectTypes.Snippets),this._model=a},WebInspector.SnippetsProjectDelegate.prototype={id:function(){return WebInspector.projectTypes.Snippets+":"},addSnippet:function(a,b){return this.addContentProvider("",a,a,b,!0,!1)},canSetFileContent:function(){return!0},setFileContent:function(a,b,c){this._model._setScriptSnippetContent(a,b),c("")},canRename:function(){return!0},performRename:function(a,b,c){this._model.renameScriptSnippet(a,b,c)},createFile:function(a,b,c,d){var e=this._model.createScriptSnippet(c);d(e)},deleteFile:function(a){this._model.deleteScriptSnippet(a)},__proto__:WebInspector.ContentProviderBasedProjectDelegate.prototype},WebInspector.scriptSnippetModel,WebInspector.Progress=function(){},WebInspector.Progress.Events={Canceled:"Canceled"},WebInspector.Progress.prototype={setTotalWork:function(){},setTitle:function(){},setWorked:function(){},worked:function(){},done:function(){},isCanceled:function(){return!1},addEventListener:function(){}},WebInspector.CompositeProgress=function(a){this._parent=a,this._children=[],this._childrenDone=0,this._parent.setTotalWork(1),this._parent.setWorked(0),a.addEventListener(WebInspector.Progress.Events.Canceled,this._parentCanceled.bind(this))},WebInspector.CompositeProgress.prototype={_childDone:function(){++this._childrenDone===this._children.length&&this._parent.done()},_parentCanceled:function(){this.dispatchEventToListeners(WebInspector.Progress.Events.Canceled);for(var a=0;a<this._children.length;++a)this._children[a].dispatchEventToListeners(WebInspector.Progress.Events.Canceled)},createSubProgress:function(a){var b=new WebInspector.SubProgress(this,a);return this._children.push(b),b},_update:function(){for(var a=0,b=0,c=0;c<this._children.length;++c){var d=this._children[c];d._totalWork&&(b+=d._weight*d._worked/d._totalWork),a+=d._weight}this._parent.setWorked(b/a)},__proto__:WebInspector.Object.prototype},WebInspector.SubProgress=function(a,b){this._composite=a,this._weight=b||1,this._worked=0},WebInspector.SubProgress.prototype={isCanceled:function(){return this._composite._parent.isCanceled()},setTitle:function(a){this._composite._parent.setTitle(a)},done:function(){this.setWorked(this._totalWork),this._composite._childDone()},setTotalWork:function(a){this._totalWork=a,this._composite._update()},setWorked:function(a,b){this._worked=a,"undefined"!=typeof b&&this.setTitle(b),this._composite._update()},worked:function(a){this.setWorked(this._worked+(a||1))},__proto__:WebInspector.Object.prototype},WebInspector.ProgressIndicator=function(){this.element=document.createElement("div"),this.element.className="progress-bar-container",this._labelElement=this.element.createChild("span"),this._progressElement=this.element.createChild("progress"),this._stopButton=new WebInspector.StatusBarButton(WebInspector.UIString("Cancel"),"progress-bar-stop-button"),this._stopButton.addEventListener("click",this.cancel,this),this.element.appendChild(this._stopButton.element),this._isCanceled=!1,this._worked=0},WebInspector.ProgressIndicator.Events={Done:"Done"},WebInspector.ProgressIndicator.prototype={show:function(a){a.appendChild(this.element)},hide:function(){var a=this.element.parentElement;a&&a.removeChild(this.element)},done:function(){this._isDone||(this._isDone=!0,this.hide(),this.dispatchEventToListeners(WebInspector.ProgressIndicator.Events.Done))},cancel:function(){this._isCanceled=!0,this.dispatchEventToListeners(WebInspector.Progress.Events.Canceled)},isCanceled:function(){return this._isCanceled},setTitle:function(a){this._labelElement.textContent=a},setTotalWork:function(a){this._progressElement.max=a},setWorked:function(a,b){this._worked=a,this._progressElement.value=a,b&&this.setTitle(b)},worked:function(a){this.setWorked(this._worked+(a||1))},__proto__:WebInspector.Object.prototype},WebInspector.StylesSourceMapping=function(a,b){this._cssModel=a,this._workspace=b,this._workspace.addEventListener(WebInspector.Workspace.Events.ProjectWillReset,this._projectWillReset,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAddedToWorkspace,this),this._workspace.addEventListener(WebInspector.Workspace.Events.UISourceCodeRemoved,this._uiSourceCodeRemoved,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameCreatedOrNavigated,this._mainFrameCreatedOrNavigated,this),this._cssModel.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetChanged,this._styleSheetChanged,this),this._initialize()},WebInspector.StylesSourceMapping.MinorChangeUpdateTimeoutMs=1e3,WebInspector.StylesSourceMapping.prototype={rawLocationToUILocation:function(a){var b=a,c=this._workspace.uiSourceCodeForURL(b.url);return c?new WebInspector.UILocation(c,b.lineNumber,b.columnNumber):null},uiLocationToRawLocation:function(a,b,c){return new WebInspector.CSSLocation(a.url||"",b,c)},isIdentity:function(){return!0},addHeader:function(a){var b=a.resourceURL();if(b){a.pushSourceMapping(this);var c=this._urlToHeadersByFrameId[b];c||(c=new StringMap,this._urlToHeadersByFrameId[b]=c);var d=c.get(a.frameId);d||(d=new StringMap,c.put(a.frameId,d)),d.put(a.id,a);var e=this._workspace.uiSourceCodeForURL(b);e&&this._bindUISourceCode(e,a)}},removeHeader:function(a){var b=a.resourceURL();if(b){var c=this._urlToHeadersByFrameId[b];console.assert(c);var d=c.get(a.frameId);if(console.assert(d),d.remove(a.id),!d.size()&&(c.remove(a.frameId),!c.size())){delete this._urlToHeadersByFrameId[b];var e=this._workspace.uiSourceCodeForURL(b);e&&this._unbindUISourceCode(e)}}},_unbindUISourceCode:function(a){var b=this._styleFiles.get(a);b&&(b.dispose(),this._styleFiles.remove(a))},_uiSourceCodeAddedToWorkspace:function(a){var b=a.data,c=b.url;c&&this._urlToHeadersByFrameId[c]&&this._bindUISourceCode(b,this._urlToHeadersByFrameId[c].values()[0].values()[0])},_bindUISourceCode:function(a,b){if(!this._styleFiles.get(a)&&!b.isInline){{a.url}this._styleFiles.put(a,new WebInspector.StyleFile(a,this)),b.updateLocations()}},_projectWillReset:function(a){for(var b=a.data,c=b.uiSourceCodes(),d=0;d<c.length;++d)this._unbindUISourceCode(c[d])},_uiSourceCodeRemoved:function(a){var b=a.data;this._unbindUISourceCode(b)},_initialize:function(){this._urlToHeadersByFrameId={},this._styleFiles=new Map},_mainFrameCreatedOrNavigated:function(){for(var a in this._urlToHeadersByFrameId){var b=this._workspace.uiSourceCodeForURL(a);b&&this._unbindUISourceCode(b)}this._initialize()},_setStyleContent:function(a,b,c,d){function e(a){d(a),delete this._isSettingContent}var f=this._cssModel.styleSheetIdsForURL(a.url);return f.length?(this._isSettingContent=!0,void this._cssModel.setStyleSheetText(f[0],b,c,e.bind(this))):void d("No stylesheet found: "+a.url)},_styleSheetChanged:function(a){return this._isSettingContent?void 0:a.data.majorChange?void this._updateStyleSheetText(a.data.styleSheetId):void this._updateStyleSheetTextSoon(a.data.styleSheetId)},_updateStyleSheetTextSoon:function(a){this._updateStyleSheetTextTimer&&clearTimeout(this._updateStyleSheetTextTimer),this._updateStyleSheetTextTimer=setTimeout(this._updateStyleSheetText.bind(this,a),WebInspector.StylesSourceMapping.MinorChangeUpdateTimeoutMs)},_updateStyleSheetText:function(a){function b(a,b){var c=this._styleFiles.get(a);c&&c.addRevision(b||"")}this._updateStyleSheetTextTimer&&(clearTimeout(this._updateStyleSheetTextTimer),delete this._updateStyleSheetTextTimer);var c=this._cssModel.styleSheetHeaderForId(a);if(c){var d=c.resourceURL();if(d){var e=this._workspace.uiSourceCodeForURL(d);e&&c.requestContent(b.bind(this,e))}}}},WebInspector.StyleFile=function(a,b){this._uiSourceCode=a,this._mapping=b,this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this),this._uiSourceCode.addEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this)},WebInspector.StyleFile.updateTimeout=200,WebInspector.StyleFile.prototype={_workingCopyCommitted:function(){this._isAddingRevision||this._commitIncrementalEdit(!0)},_workingCopyChanged:function(){this._isAddingRevision||(WebInspector.StyleFile.updateTimeout>=0?this._incrementalUpdateTimer=setTimeout(this._commitIncrementalEdit.bind(this,!1),WebInspector.StyleFile.updateTimeout):this._commitIncrementalEdit(!1))},_commitIncrementalEdit:function(a){this._clearIncrementalUpdateTimer(),this._mapping._setStyleContent(this._uiSourceCode,this._uiSourceCode.workingCopy(),a,this._styleContentSet.bind(this))},_styleContentSet:function(a){a&&WebInspector.console.showErrorMessage(a)},_clearIncrementalUpdateTimer:function(){this._incrementalUpdateTimer&&(clearTimeout(this._incrementalUpdateTimer),delete this._incrementalUpdateTimer)},addRevision:function(a){this._isAddingRevision=!0,this._uiSourceCode.addRevision(a),delete this._isAddingRevision},dispose:function(){this._uiSourceCode.removeEventListener(WebInspector.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this),this._uiSourceCode.removeEventListener(WebInspector.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this)}},WebInspector.NetworkUISourceCodeProvider=function(a,b){this._networkWorkspaceProvider=a,this._workspace=b,WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.ResourceAdded,this._resourceAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._mainFrameNavigated,this),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.ParsedScriptSource,this._parsedScriptSource,this),WebInspector.cssModel.addEventListener(WebInspector.CSSStyleModel.Events.StyleSheetAdded,this._styleSheetAdded,this),this._processedURLs={}},WebInspector.NetworkUISourceCodeProvider.prototype={_populate:function(){function a(b){for(var c=0;c<b.childFrames.length;++c)a.call(this,b.childFrames[c]);for(var d=b.resources(),c=0;c<d.length;++c)this._resourceAdded({data:d[c]})}a.call(this,WebInspector.resourceTreeModel.mainFrame)},_parsedScriptSource:function(a){var b=a.data;if(b.sourceURL&&!b.isInlineScript()&&!b.isSnippet()){if(b.isContentScript&&!b.hasSourceURL){var c=new WebInspector.ParsedURL(b.sourceURL);if(!c.isValid)return}this._addFile(b.sourceURL,b,b.isContentScript)}},_styleSheetAdded:function(a){var b=a.data;(b.hasSourceURL&&!b.isInline||"inspector"===b.origin)&&this._addFile(b.resourceURL(),b,!1)},_resourceAdded:function(a){var b=a.data;this._addFile(b.url,new WebInspector.NetworkUISourceCodeProvider.FallbackResource(b))},_mainFrameNavigated:function(){this._reset()},_addFile:function(a,b,c){if(!this._workspace.hasMappingForURL(a)){var d=b.contentType();if((d===WebInspector.resourceTypes.Stylesheet||d===WebInspector.resourceTypes.Document||d===WebInspector.resourceTypes.Script)&&!this._processedURLs[a]){this._processedURLs[a]=!0;var e=d!==WebInspector.resourceTypes.Document;this._networkWorkspaceProvider.addFileForURL(a,b,e,c)}}},_reset:function(){this._processedURLs={},this._networkWorkspaceProvider.reset(),this._populate()}},WebInspector.NetworkUISourceCodeProvider.FallbackResource=function(a){this._resource=a},WebInspector.NetworkUISourceCodeProvider.FallbackResource.prototype={contentURL:function(){return this._resource.contentURL()},contentType:function(){return this._resource.contentType()},requestContent:function(a){function b(){var b=WebInspector.debuggerModel.scriptsForSourceURL(this._resource.url);if(!b.length)return void a(null);var c;this._resource.type===WebInspector.resourceTypes.Document?c=new WebInspector.ConcatenatedScriptsContentProvider(b):this._resource.type===WebInspector.resourceTypes.Script&&(c=b[0]),console.assert(c,"Resource content request failed. "+this._resource.url),c.requestContent(a)}function c(c){c?a(c):b.call(this)}this._resource.requestContent(c.bind(this))},searchInContent:function(a,b,c,d){function e(e){if(null===e)return void d([]);var f=WebInspector.ContentProvider.performSearchInContent(e,a,b,c);d(f)}return this.contentType()===WebInspector.resourceTypes.Document?void this.requestContent(e):void this._resource.searchInContent(a,b,c,d)}},WebInspector.networkWorkspaceProvider,WebInspector.CPUProfilerModel=function(){this._delegate=null,this._isRecording=!1,InspectorBackend.registerProfilerDispatcher(this),ProfilerAgent.enable()},WebInspector.CPUProfilerModel.EventTypes={ProfileStarted:"profile-started",ProfileStopped:"profile-stopped"},WebInspector.CPUProfilerModel.prototype={setDelegate:function(a){this._delegate=a},consoleProfileFinished:function(a,b,c,d){WebInspector.moduleManager.loadModule("profiles"),this._delegate.consoleProfileFinished(a,b,c,d)},consoleProfileStarted:function(a,b,c){WebInspector.moduleManager.loadModule("profiles"),this._delegate.consoleProfileStarted(a,b,c)},setRecording:function(a){this._isRecording=a,this.dispatchEventToListeners(a?WebInspector.CPUProfilerModel.EventTypes.ProfileStarted:WebInspector.CPUProfilerModel.EventTypes.ProfileStopped)},isRecordingProfile:function(){return this._isRecording},__proto__:WebInspector.Object.prototype},WebInspector.CPUProfilerModel.Delegate=function(){},WebInspector.CPUProfilerModel.Delegate.prototype={consoleProfileStarted:function(){},consoleProfileFinished:function(){}},WebInspector.cpuProfilerModel,WebInspector.DockController=function(a){if(this._canDock=a,!a)return this._dockSide=WebInspector.DockController.State.Undocked,void this._updateUI();WebInspector.settings.currentDockState=WebInspector.settings.createSetting("currentDockState",""),WebInspector.settings.lastDockState=WebInspector.settings.createSetting("lastDockState","");var b=[WebInspector.DockController.State.DockedToBottom,WebInspector.DockController.State.Undocked,WebInspector.DockController.State.DockedToRight],c=[WebInspector.UIString("Dock to main window."),WebInspector.UIString("Undock into separate window."),WebInspector.UIString("Dock to main window.")];WebInspector.experimentsSettings.dockToLeft.isEnabled()&&(b.push(WebInspector.DockController.State.DockedToLeft),c.push(WebInspector.UIString("Dock to main window."))),this._dockToggleButton=new WebInspector.StatusBarStatesSettingButton("dock-status-bar-item",b,c,WebInspector.settings.currentDockState,WebInspector.settings.lastDockState,this._dockSideChanged.bind(this))},WebInspector.DockController.State={DockedToBottom:"bottom",DockedToRight:"right",DockedToLeft:"left",Undocked:"undocked"},WebInspector.DockController.Events={DockSideChanged:"DockSideChanged"},WebInspector.DockController.prototype={get element(){return this._canDock?this._dockToggleButton.element:null},dockSide:function(){return this._dockSide},canDock:function(){return this._canDock},isVertical:function(){return this._dockSide===WebInspector.DockController.State.DockedToRight||this._dockSide===WebInspector.DockController.State.DockedToLeft},_dockSideChanged:function(a){this._dockSide!==a&&(this._dockSide=a,this._updateUI(),this.dispatchEventToListeners(WebInspector.DockController.Events.DockSideChanged,this._dockSide),this._canDock&&InspectorFrontendHost.setIsDocked(a!==WebInspector.DockController.State.Undocked))},_updateUI:function(){var a=document.body;switch(this._dockSide){case WebInspector.DockController.State.DockedToBottom:a.classList.remove("undocked"),a.classList.remove("dock-to-right"),a.classList.remove("dock-to-left"),a.classList.add("dock-to-bottom");break;case WebInspector.DockController.State.DockedToRight:a.classList.remove("undocked"),a.classList.add("dock-to-right"),a.classList.remove("dock-to-left"),a.classList.remove("dock-to-bottom");break;case WebInspector.DockController.State.DockedToLeft:a.classList.remove("undocked"),a.classList.remove("dock-to-right"),a.classList.add("dock-to-left"),a.classList.remove("dock-to-bottom");break;case WebInspector.DockController.State.Undocked:a.classList.add("undocked"),a.classList.remove("dock-to-right"),a.classList.remove("dock-to-left"),a.classList.remove("dock-to-bottom")}},__proto__:WebInspector.Object.prototype},WebInspector.dockController,WebInspector.TracingAgent=function(){this._active=!1,InspectorBackend.registerTracingDispatcher(new WebInspector.TracingDispatcher(this))},WebInspector.TracingAgent.prototype={start:function(a,b,c){TracingAgent.start(a,b,c),this._active=!0,this._events=[]},stop:function(a){return this._active?(this._pendingStopCallback=a,void TracingAgent.end()):void a()},events:function(){return this._events},_eventsCollected:function(a){Array.prototype.push.apply(this._events,a)},_tracingComplete:function(){this._active=!1,this._pendingStopCallback&&(this._pendingStopCallback(),this._pendingStopCallback=null)}},WebInspector.TracingDispatcher=function(a){this._tracingAgent=a},WebInspector.TracingDispatcher.prototype={dataCollected:function(a){this._tracingAgent._eventsCollected(a)},tracingComplete:function(){this._tracingAgent._tracingComplete()}},WebInspector.tracingAgent,WebInspector.ScreencastView=function(){WebInspector.VBox.call(this),this.setMinimumSize(150,150),this.registerRequiredCSS("screencastView.css")},WebInspector.ScreencastView._bordersSize=40,WebInspector.ScreencastView._navBarHeight=29,WebInspector.ScreencastView._HttpRegex=/^https?:\/\/(.+)/,WebInspector.ScreencastView.prototype={initialize:function(){this.element.classList.add("screencast"),this._createNavigationBar(),this._viewportElement=this.element.createChild("div","screencast-viewport hidden"),this._glassPaneElement=this.element.createChild("div","screencast-glasspane hidden"),this._canvasElement=this._viewportElement.createChild("canvas"),this._canvasElement.tabIndex=1,this._canvasElement.addEventListener("mousedown",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("mouseup",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("mousemove",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("mousewheel",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("click",this._handleMouseEvent.bind(this),!1),this._canvasElement.addEventListener("contextmenu",this._handleContextMenuEvent.bind(this),!1),this._canvasElement.addEventListener("keydown",this._handleKeyEvent.bind(this),!1),this._canvasElement.addEventListener("keyup",this._handleKeyEvent.bind(this),!1),this._canvasElement.addEventListener("keypress",this._handleKeyEvent.bind(this),!1),this._titleElement=this._viewportElement.createChild("div","screencast-element-title monospace hidden"),this._tagNameElement=this._titleElement.createChild("span","screencast-tag-name"),this._nodeIdElement=this._titleElement.createChild("span","screencast-node-id"),this._classNameElement=this._titleElement.createChild("span","screencast-class-name"),this._titleElement.appendChild(document.createTextNode(" ")),this._nodeWidthElement=this._titleElement.createChild("span"),this._titleElement.createChild("span","screencast-px").textContent="px",this._titleElement.appendChild(document.createTextNode(" × ")),this._nodeHeightElement=this._titleElement.createChild("span"),this._titleElement.createChild("span","screencast-px").textContent="px",this._imageElement=new Image,this._isCasting=!1,this._context=this._canvasElement.getContext("2d"),this._checkerboardPattern=this._createCheckerboardPattern(this._context),this._shortcuts={},this._shortcuts[WebInspector.KeyboardShortcut.makeKey("l",WebInspector.KeyboardShortcut.Modifiers.Ctrl)]=this._focusNavigationBar.bind(this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.ScreencastFrame,this._screencastFrame,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.ScreencastVisibilityChanged,this._screencastVisibilityChanged,this),WebInspector.timelineManager.addEventListener(WebInspector.TimelineManager.EventTypes.TimelineStarted,this._onTimeline.bind(this,!0),this),WebInspector.timelineManager.addEventListener(WebInspector.TimelineManager.EventTypes.TimelineStopped,this._onTimeline.bind(this,!1),this),this._timelineActive=WebInspector.timelineManager.isStarted(),WebInspector.cpuProfilerModel.addEventListener(WebInspector.CPUProfilerModel.EventTypes.ProfileStarted,this._onProfiler.bind(this,!0),this),WebInspector.cpuProfilerModel.addEventListener(WebInspector.CPUProfilerModel.EventTypes.ProfileStopped,this._onProfiler.bind(this,!1),this),this._profilerActive=WebInspector.cpuProfilerModel.isRecordingProfile(),this._updateGlasspane()},wasShown:function(){this._startCasting()},willHide:function(){this._stopCasting()},_startCasting:function(){if(!this._timelineActive&&!this._profilerActive&&!this._isCasting){this._isCasting=!0;const a=1024;var b=this._viewportDimensions();if(b.width<0||b.height<0)return void(this._isCasting=!1);b.width*=WebInspector.zoomManager.zoomFactor(),b.height*=WebInspector.zoomManager.zoomFactor(),PageAgent.startScreencast("jpeg",80,Math.min(a,b.width),Math.min(a,b.height)),WebInspector.domModel.setHighlighter(this)}},_stopCasting:function(){this._isCasting&&(this._isCasting=!1,PageAgent.stopScreencast(),WebInspector.domModel.setHighlighter(null))},_screencastFrame:function(a){var b=a.data.metadata;if(!b.deviceScaleFactor)return void console.log(a.data.data);var c=a.data.data;if(this._imageElement.src="data:image/jpg;base64,"+c,this._deviceScaleFactor=b.deviceScaleFactor,this._pageScaleFactor=b.pageScaleFactor,this._viewport=b.viewport,this._viewport){var d=b.offsetTop||0,e=b.offsetBottom||0,f=this._viewport.width*this._pageScaleFactor,g=this._viewport.height*this._pageScaleFactor+d+e;this._screenOffsetTop=d,this._resizeViewport(f,g),this._imageZoom=this._imageElement.naturalWidth?this._canvasElement.offsetWidth/this._imageElement.naturalWidth:1,this.highlightDOMNode(this._highlightNodeId,this._highlightConfig)}},_isGlassPaneActive:function(){return!this._glassPaneElement.classList.contains("hidden")},_screencastVisibilityChanged:function(a){this._targetInactive=!a.data.visible,this._updateGlasspane()},_onTimeline:function(a){this._timelineActive=a,this._timelineActive?this._stopCasting():this._startCasting(),this._updateGlasspane()},_onProfiler:function(a){this._profilerActive=a,this._profilerActive?this._stopCasting():this._startCasting(),this._updateGlasspane()},_updateGlasspane:function(){this._targetInactive?(this._glassPaneElement.textContent=WebInspector.UIString("The tab is inactive"),this._glassPaneElement.classList.remove("hidden")):this._timelineActive?(this._glassPaneElement.textContent=WebInspector.UIString("Timeline is active"),this._glassPaneElement.classList.remove("hidden")):this._profilerActive?(this._glassPaneElement.textContent=WebInspector.UIString("CPU profiler is active"),this._glassPaneElement.classList.remove("hidden")):this._glassPaneElement.classList.add("hidden")},_resizeViewport:function(a,b){var c=this._viewportDimensions();this._screenZoom=Math.min(c.width/a,c.height/b);var d=WebInspector.ScreencastView._bordersSize;this._viewportElement.classList.remove("hidden"),this._viewportElement.style.width=a*this._screenZoom+d+"px",this._viewportElement.style.height=b*this._screenZoom+d+"px"},_handleMouseEvent:function(a){function b(b,c){b||("mousemove"===a.type?this.highlightDOMNode(c,this._inspectModeConfig):"click"===a.type&&WebInspector.Revealer.reveal(WebInspector.domModel.nodeForId(c)))}if(this._isGlassPaneActive())return void a.consume();if(this._viewport){if(!this._inspectModeConfig||"mousewheel"===a.type)return this._simulateTouchGestureForMouseEvent(a),a.preventDefault(),void("mousedown"===a.type&&this._canvasElement.focus());var c=this._convertIntoScreenSpace(a);DOMAgent.getNodeForLocation(c.x/this._pageScaleFactor,c.y/this._pageScaleFactor,b.bind(this))}},_handleKeyEvent:function(a){if(this._isGlassPaneActive())return void a.consume();var b=WebInspector.KeyboardShortcut.makeKeyFromEvent(a),c=this._shortcuts[b];
if(c&&c(a))return void a.consume();var d;switch(a.type){case"keydown":d="keyDown";break;case"keyup":d="keyUp";break;case"keypress":d="char";break;default:return}var e="keypress"===a.type?String.fromCharCode(a.charCode):void 0;InputAgent.dispatchKeyEvent(d,this._modifiersForEvent(a),a.timeStamp/1e3,e,e?e.toLowerCase():void 0,a.keyIdentifier,a.keyCode,a.keyCode,void 0,!1,!1,!1),a.consume(),this._canvasElement.focus()},_handleContextMenuEvent:function(a){a.consume(!0)},_simulateTouchGestureForMouseEvent:function(a){var b=this._convertIntoScreenSpace(a),c=a.timeStamp/1e3,d=b.x,e=b.y;switch(a.which){case 1:if("mousedown"===a.type)InputAgent.dispatchGestureEvent("scrollBegin",d,e,c);else if("mousemove"===a.type){var f=this._lastScrollPosition?b.x-this._lastScrollPosition.x:0,g=this._lastScrollPosition?b.y-this._lastScrollPosition.y:0;(f||g)&&InputAgent.dispatchGestureEvent("scrollUpdate",d,e,c,f,g)}else if("mouseup"===a.type)InputAgent.dispatchGestureEvent("scrollEnd",d,e,c);else if("mousewheel"===a.type)if(a.altKey){var h=1.1,i=a.wheelDeltaY<0?1/h:h;InputAgent.dispatchGestureEvent("pinchBegin",d,e,c),InputAgent.dispatchGestureEvent("pinchUpdate",d,e,c,0,0,i),InputAgent.dispatchGestureEvent("pinchEnd",d,e,c)}else InputAgent.dispatchGestureEvent("scrollBegin",d,e,c),InputAgent.dispatchGestureEvent("scrollUpdate",d,e,c,a.wheelDeltaX,a.wheelDeltaY),InputAgent.dispatchGestureEvent("scrollEnd",d,e,c);else"click"===a.type&&(InputAgent.dispatchMouseEvent("mousePressed",d,e,0,c,"left",1,!0),InputAgent.dispatchMouseEvent("mouseReleased",d,e,0,c,"left",1,!0));this._lastScrollPosition=b;break;case 2:"mousedown"===a.type?InputAgent.dispatchGestureEvent("tapDown",d,e,c):"mouseup"===a.type&&InputAgent.dispatchGestureEvent("tap",d,e,c);break;case 3:if("mousedown"===a.type)this._pinchStart=b,InputAgent.dispatchGestureEvent("pinchBegin",d,e,c);else if("mousemove"===a.type){var f=this._pinchStart?b.x-this._pinchStart.x:0,g=this._pinchStart?b.y-this._pinchStart.y:0;if(f||g){var i=Math.pow(0>g?.999:1.001,Math.abs(g));InputAgent.dispatchGestureEvent("pinchUpdate",this._pinchStart.x,this._pinchStart.y,c,0,0,i)}}else"mouseup"===a.type&&InputAgent.dispatchGestureEvent("pinchEnd",d,e,c);break;case 0:}},_convertIntoScreenSpace:function(a){var b=this._canvasElement.offsetWidth/this._viewport.width/this._pageScaleFactor,c={};return c.x=Math.round(a.offsetX/b),c.y=Math.round(a.offsetY/b-this._screenOffsetTop),c},_modifiersForEvent:function(a){var b=0;return a.altKey&&(b=1),a.ctrlKey&&(b+=2),a.metaKey&&(b+=4),a.shiftKey&&(b+=8),b},onResize:function(){this._deferredCasting&&(clearTimeout(this._deferredCasting),delete this._deferredCasting),this._stopCasting(),this._deferredCasting=setTimeout(this._startCasting.bind(this),100)},highlightDOMNode:function(a,b){function c(a,c){return a?void this._repaint():(this._model=this._scaleModel(c),this._config=b,void this._repaint())}return this._highlightNodeId=a,this._highlightConfig=b,a?(this._node=WebInspector.domModel.nodeForId(a),void DOMAgent.getBoxModel(a,c.bind(this))):(this._model=null,this._config=null,this._node=null,this._titleElement.classList.add("hidden"),void this._repaint())},_scaleModel:function(a){function b(a){for(var b=0;b<a.length;b+=2)a[b]=(a[b]-this._viewport.x)*c,a[b+1]=(a[b+1]-this._viewport.y)*c+this._screenOffsetTop*this._screenZoom}var c=this._canvasElement.offsetWidth/this._viewport.width;return b.call(this,a.content),b.call(this,a.padding),b.call(this,a.border),b.call(this,a.margin),a},_repaint:function(){var a=this._model,b=this._config;if(this._canvasElement.width=window.devicePixelRatio*this._canvasElement.offsetWidth,this._canvasElement.height=window.devicePixelRatio*this._canvasElement.offsetHeight,this._context.save(),this._context.scale(window.devicePixelRatio,window.devicePixelRatio),this._context.save(),this._context.fillStyle=this._checkerboardPattern,this._context.fillRect(0,0,this._canvasElement.offsetWidth,this._screenOffsetTop*this._screenZoom),this._context.fillRect(0,this._screenOffsetTop*this._screenZoom+this._imageElement.naturalHeight*this._imageZoom,this._canvasElement.offsetWidth,this._canvasElement.offsetHeight),this._context.restore(),a&&b){this._context.save();const c="rgba(0, 0, 0, 0)";var d,e=a.content&&b.contentColor!==c,f=a.padding&&b.paddingColor!==c,g=a.border&&b.borderColor!==c,h=a.margin&&b.marginColor!==c;!h||g&&this._quadsAreEqual(a.margin,a.border)||(this._drawOutlinedQuadWithClip(a.margin,a.border,b.marginColor),d=a.border),!g||f&&this._quadsAreEqual(a.border,a.padding)||(this._drawOutlinedQuadWithClip(a.border,a.padding,b.borderColor),d=a.padding),!f||e&&this._quadsAreEqual(a.padding,a.content)||(this._drawOutlinedQuadWithClip(a.padding,a.content,b.paddingColor),d=a.content),e&&this._drawOutlinedQuad(a.content,b.contentColor),this._context.restore(),this._drawElementTitle(),this._context.globalCompositeOperation="destination-over"}this._context.drawImage(this._imageElement,0,this._screenOffsetTop*this._screenZoom,this._imageElement.naturalWidth*this._imageZoom,this._imageElement.naturalHeight*this._imageZoom),this._context.restore()},_quadsAreEqual:function(a,b){for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0},_cssColor:function(a){return a?WebInspector.Color.fromRGBA([a.r,a.g,a.b,a.a]).toString(WebInspector.Color.Format.RGBA)||"":"transparent"},_quadToPath:function(a){return this._context.beginPath(),this._context.moveTo(a[0],a[1]),this._context.lineTo(a[2],a[3]),this._context.lineTo(a[4],a[5]),this._context.lineTo(a[6],a[7]),this._context.closePath(),this._context},_drawOutlinedQuad:function(a,b){this._context.save(),this._context.lineWidth=2,this._quadToPath(a).clip(),this._context.fillStyle=this._cssColor(b),this._context.fill(),this._context.restore()},_drawOutlinedQuadWithClip:function(a,b,c){this._context.fillStyle=this._cssColor(c),this._context.save(),this._context.lineWidth=0,this._quadToPath(a).fill(),this._context.globalCompositeOperation="destination-out",this._context.fillStyle="red",this._quadToPath(b).fill(),this._context.restore()},_drawElementTitle:function(){if(this._node){var a=this._canvasElement.offsetWidth,b=this._canvasElement.offsetHeight,c=this._node.localName()||this._node.nodeName().toLowerCase();this._tagNameElement.textContent=c,this._nodeIdElement.textContent=this._node.getAttribute("id")?"#"+this._node.getAttribute("id"):"",this._nodeIdElement.textContent=this._node.getAttribute("id")?"#"+this._node.getAttribute("id"):"";var d=this._node.getAttribute("class");d&&d.length>50&&(d=d.substring(0,50)+"…"),this._classNameElement.textContent=d||"",this._nodeWidthElement.textContent=this._model.width,this._nodeHeightElement.textContent=this._model.height;var e=(this._model.margin,this._titleElement.offsetWidth+6),f=this._titleElement.offsetHeight+4,g=this._model.margin[1],h=this._model.margin[7];const i=7;var j=!1,k=!1,l=Math.max(2,this._model.margin[0]);l+e>a&&(l=a-e-2);var m;g>b?(m=b-f-i,k=!0):0>h?(m=i,j=!0):b>h+f+i?(m=h+i-4,j=!0):g-f-i>0?(m=g-f-i+3,k=!0):m=i,this._context.save(),this._context.translate(.5,.5),this._context.beginPath(),this._context.moveTo(l,m),j&&(this._context.lineTo(l+14,m),this._context.lineTo(l+21,m-i),this._context.lineTo(l+28,m)),this._context.lineTo(l+e,m),this._context.lineTo(l+e,m+f),k&&(this._context.lineTo(l+28,m+f),this._context.lineTo(l+21,m+f+i),this._context.lineTo(l+14,m+f)),this._context.lineTo(l,m+f),this._context.closePath(),this._context.fillStyle="rgb(255, 255, 194)",this._context.fill(),this._context.strokeStyle="rgb(128, 128, 128)",this._context.stroke(),this._context.restore(),this._titleElement.classList.remove("hidden"),this._titleElement.style.top=m+3+"px",this._titleElement.style.left=l+3+"px"}},_viewportDimensions:function(){const a=30,b=WebInspector.ScreencastView._bordersSize;return{width:this.element.offsetWidth-b-a,height:this.element.offsetHeight-b-a-WebInspector.ScreencastView._navBarHeight}},setInspectModeEnabled:function(a,b,c,d){this._inspectModeConfig=a?c:null,d&&d(null)},_createCheckerboardPattern:function(a){var b=document.createElement("canvas");const c=32;b.width=64,b.height=64;var d=b.getContext("2d");return d.fillStyle="rgb(195, 195, 195)",d.fillRect(0,0,64,64),d.fillStyle="rgb(225, 225, 225)",d.fillRect(0,0,c,c),d.fillRect(c,c,c,c),a.createPattern(b,"repeat")},_createNavigationBar:function(){this._navigationBar=this.element.createChild("div","toolbar-background screencast-navigation"),this._navigationBack=this._navigationBar.createChild("button","back"),this._navigationBack.disabled=!0,this._navigationBack.addEventListener("click",this._navigateToHistoryEntry.bind(this,-1),!1),this._navigationForward=this._navigationBar.createChild("button","forward"),this._navigationForward.disabled=!0,this._navigationForward.addEventListener("click",this._navigateToHistoryEntry.bind(this,1),!1),this._navigationReload=this._navigationBar.createChild("button","reload"),this._navigationReload.addEventListener("click",this._navigateReload.bind(this),!1),this._navigationUrl=this._navigationBar.createChild("input"),this._navigationUrl.type="text",this._navigationUrl.addEventListener("keyup",this._navigationUrlKeyUp.bind(this),!0),this._navigationProgressBar=new WebInspector.ScreencastView.ProgressTracker(this._navigationBar.createChild("div","progress")),this._requestNavigationHistory(),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.InspectedURLChanged,this._requestNavigationHistory,this)},_navigateToHistoryEntry:function(a){var b=this._historyIndex+a;0>b||b>=this._historyEntries.length||(PageAgent.navigateToHistoryEntry(this._historyEntries[b].id),this._requestNavigationHistory())},_navigateReload:function(){WebInspector.resourceTreeModel.reloadPage()},_navigationUrlKeyUp:function(a){if("Enter"==a.keyIdentifier){var b=this._navigationUrl.value;b&&(b.match(WebInspector.ScreencastView._HttpRegex)||(b="http://"+b),PageAgent.navigate(b),this._canvasElement.focus())}},_requestNavigationHistory:function(){PageAgent.getNavigationHistory(this._onNavigationHistory.bind(this))},_onNavigationHistory:function(a,b,c){if(!a){this._historyIndex=b,this._historyEntries=c,this._navigationBack.disabled=0==b,this._navigationForward.disabled=b==c.length-1;var d=c[b].url,e=d.match(WebInspector.ScreencastView._HttpRegex);e&&(d=e[1]),this._navigationUrl.value=d}},_focusNavigationBar:function(){return this._navigationUrl.focus(),this._navigationUrl.select(),!0},__proto__:WebInspector.VBox.prototype},WebInspector.ScreencastView.ProgressTracker=function(a){this._element=a,WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.MainFrameNavigated,this._onMainFrameNavigated,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.Load,this._onLoad,this),WebInspector.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestStarted,this._onRequestStarted,this),WebInspector.networkManager.addEventListener(WebInspector.NetworkManager.EventTypes.RequestFinished,this._onRequestFinished,this)},WebInspector.ScreencastView.ProgressTracker.prototype={_onMainFrameNavigated:function(){this._requestIds={},this._startedRequests=0,this._finishedRequests=0,this._maxDisplayedProgress=0,this._updateProgress(.1)},_onLoad:function(){delete this._requestIds,this._updateProgress(1),setTimeout(function(){this._navigationProgressVisible()||this._displayProgress(0)}.bind(this),500)},_navigationProgressVisible:function(){return!!this._requestIds},_onRequestStarted:function(a){if(this._navigationProgressVisible()){var b=a.data;b.type!==WebInspector.resourceTypes.WebSocket&&(this._requestIds[b.requestId]=b,++this._startedRequests)}},_onRequestFinished:function(a){if(this._navigationProgressVisible()){var b=a.data;b.requestId in this._requestIds&&(++this._finishedRequests,setTimeout(function(){this._updateProgress(this._finishedRequests/this._startedRequests*.9)}.bind(this),500))}},_updateProgress:function(a){this._navigationProgressVisible()&&(this._maxDisplayedProgress>=a||(this._maxDisplayedProgress=a,this._displayProgress(a)))},_displayProgress:function(a){this._element.style.width=100*a+"%"}},WebInspector.ScreencastController=function(){var a=new WebInspector.RootView;this._rootSplitView=new WebInspector.SplitView(!1,!0,"InspectorView.screencastSplitViewState",300,300),this._rootSplitView.show(a.element),WebInspector.inspectorView.show(this._rootSplitView.sidebarElement()),this._screencastView=new WebInspector.ScreencastView,this._screencastView.show(this._rootSplitView.mainElement()),this._onStatusBarButtonStateChanged("disabled"),a.attachToBody(),this._initialized=!1},WebInspector.ScreencastController.prototype={_onStatusBarButtonStateChanged:function(a){return"disabled"===a?(this._rootSplitView.toggleResizer(this._rootSplitView.resizerElement(),!1),this._rootSplitView.toggleResizer(WebInspector.inspectorView.topResizerElement(),!1),void this._rootSplitView.hideMain()):(this._rootSplitView.setVertical("left"===a),this._rootSplitView.setSecondIsSidebar(!0),this._rootSplitView.toggleResizer(this._rootSplitView.resizerElement(),!0),this._rootSplitView.toggleResizer(WebInspector.inspectorView.topResizerElement(),"top"===a),void this._rootSplitView.showBoth())},initialize:function(){this._screencastView.initialize(),this._currentScreencastState=WebInspector.settings.createSetting("currentScreencastState",""),this._lastScreencastState=WebInspector.settings.createSetting("lastScreencastState",""),this._toggleScreencastButton=new WebInspector.StatusBarStatesSettingButton("screencast-status-bar-item",["disabled","left","top"],[WebInspector.UIString("Disable screencast."),WebInspector.UIString("Switch to portrait screencast."),WebInspector.UIString("Switch to landscape screencast.")],this._currentScreencastState,this._lastScreencastState,this._onStatusBarButtonStateChanged.bind(this)),this._statusBarPlaceholder&&(this._statusBarPlaceholder.parentElement.insertBefore(this._toggleScreencastButton.element,this._statusBarPlaceholder),this._statusBarPlaceholder.parentElement.removeChild(this._statusBarPlaceholder),delete this._statusBarPlaceholder),this._initialized=!0},statusBarItem:function(){return this._initialized?this._toggleScreencastButton.element:(this._statusBarPlaceholder=document.createElement("div"),this._statusBarPlaceholder)}},window.domAutomationController){var ___interactiveUiTestsMode=!0;TestSuite=function(){this.controlTaken_=!1,this.timerId_=-1},TestSuite.prototype.fail=function(a){if(!this.controlTaken_)throw a;this.reportFailure_(a)},TestSuite.prototype.assertEquals=function(a,b,c){if(a!==b){var d="Expected: '"+a+"', but was '"+b+"'";c&&(d=c+"("+d+")"),this.fail(d)}},TestSuite.prototype.assertTrue=function(a,b){this.assertEquals(!0,!!a,b)},TestSuite.prototype.assertHasKey=function(a,b){a.hasOwnProperty(b)||this.fail("Expected object to contain key '"+b+"'")},TestSuite.prototype.assertContains=function(a,b){-1===a.indexOf(b)&&this.fail("Expected to: '"+a+"' to contain '"+b+"'")},TestSuite.prototype.takeControl=function(){this.controlTaken_=!0;var a=this;this.timerId_=setTimeout(function(){a.reportFailure_("Timeout exceeded: 20 sec")},2e4)},TestSuite.prototype.releaseControl=function(){-1!==this.timerId_&&(clearTimeout(this.timerId_),this.timerId_=-1),this.reportOk_()},TestSuite.prototype.reportOk_=function(){window.domAutomationController.send("[OK]")},TestSuite.prototype.reportFailure_=function(a){-1!==this.timerId_&&(clearTimeout(this.timerId_),this.timerId_=-1),window.domAutomationController.send("[FAILED] "+a)},TestSuite.prototype.runTest=function(a){try{this[a](),this.controlTaken_||this.reportOk_()}catch(b){this.reportFailure_(b)}},TestSuite.prototype.showPanel=function(a){var b=document.getElementById("tab-"+a);b.selectTabForTest(),this.assertEquals(WebInspector.panels[a],WebInspector.inspectorView.currentPanel())},TestSuite.prototype.addSniffer=function(a,b,c,d){var e=a[b];"function"!=typeof e&&this.fail("Cannot find method to override: "+b);var f=this;a[b]=function(){try{var g=e.apply(this,arguments)}finally{d||(a[b]=e)}try{c.apply(this,arguments)}catch(h){f.fail("Exception in overriden method '"+b+"': "+h)}return g}},TestSuite.prototype.testShowScriptsTab=function(){this.showPanel("sources");var a=this;this._waitUntilScriptsAreParsed(["debugger_test_page.html"],function(){a.releaseControl()}),this.takeControl()},TestSuite.prototype.testScriptsTabIsPopulatedOnInspectedPageRefresh=function(){function a(){WebInspector.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,a),b.showPanel("sources"),b._waitUntilScriptsAreParsed(["debugger_test_page.html"],function(){b.releaseControl()})}var b=this;this.assertEquals(WebInspector.panels.elements,WebInspector.inspectorView.currentPanel(),"Elements panel should be current one."),WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,a),b.evaluateInConsole_("window.location.reload(true);",function(){}),this.takeControl()},TestSuite.prototype.testContentScriptIsPresent=function(){this.showPanel("sources");var a=this;a._waitUntilScriptsAreParsed(["page_with_content_script.html","simple_content_script.js"],function(){a.releaseControl()}),this.takeControl()},TestSuite.prototype.testNoScriptDuplicatesOnPanelSwitch=function(){function a(){e.showPanel("elements"),setTimeout(b,0)}function b(){e.showPanel("sources"),setTimeout(c,0)}function c(){e.assertTrue(e._scriptsAreParsed(["debugger_test_page.html"]),"Some scripts are missing."),d(),e.releaseControl()}function d(){for(var a=e.nonAnonymousUISourceCodes_(),b=0;b<a.length;b++)for(var c=a[b].url,d=b+1;d<a.length;d++)e.assertTrue(c!==a[d].url,"Found script duplicates: "+e.uiSourceCodesToString_(a))}var e=this;this.showPanel("sources"),e._waitUntilScriptsAreParsed(["debugger_test_page.html"],function(){d(),setTimeout(a,0)}),this.takeControl()},TestSuite.prototype.testPauseWhenLoadingDevTools=function(){this.showPanel("sources"),WebInspector.debuggerModel.debuggerPausedDetails||(this._waitForScriptPause(this.releaseControl.bind(this)),this.takeControl())},TestSuite.prototype.testPauseWhenScriptIsRunning=function(){function a(a){this.assertTrue(!isNaN(a),"Failed to get timer id: "+a),setTimeout(b.bind(this),300)}function b(){WebInspector.panels.sources._pauseButton.element.click(),this._waitForScriptPause(this.releaseControl.bind(this))}this.showPanel("sources"),this.evaluateInConsole_('setTimeout("handleClick()" , 0)',a.bind(this)),this.takeControl()},TestSuite.prototype.testNetworkSize=function(){function a(a){b.assertEquals(219,a.transferSize,"Incorrect total encoded data length"),b.assertEquals(25,a.resourceSize,"Incorrect total data length"),b.releaseControl()}var b=this;this.addSniffer(WebInspector.NetworkDispatcher.prototype,"_finishNetworkRequest",a),b.evaluateInConsole_("window.location.reload(true);",function(){}),this.takeControl()},TestSuite.prototype.testNetworkSyncSize=function(){function a(a){b.assertEquals(219,a.transferSize,"Incorrect total encoded data length"),b.assertEquals(25,a.resourceSize,"Incorrect total data length"),b.releaseControl()}var b=this;this.addSniffer(WebInspector.NetworkDispatcher.prototype,"_finishNetworkRequest",a),b.evaluateInConsole_('var xhr = new XMLHttpRequest(); xhr.open("GET", "chunked", false); xhr.send(null);',function(){}),this.takeControl()},TestSuite.prototype.testNetworkRawHeadersText=function(){function a(a){a.responseHeadersText||b.fail("Failure: resource does not have response headers text"),b.assertEquals(164,a.responseHeadersText.length,"Incorrect response headers text length"),b.releaseControl()}var b=this;this.addSniffer(WebInspector.NetworkDispatcher.prototype,"_finishNetworkRequest",a),b.evaluateInConsole_("window.location.reload(true);",function(){}),this.takeControl()},TestSuite.prototype.testNetworkTiming=function(){function a(a){b.assertTrue(a.timing.receiveHeadersEnd-a.timing.connectStart>=70,"Time between receiveHeadersEnd and connectStart should be >=70ms, but was receiveHeadersEnd="+a.timing.receiveHeadersEnd+", connectStart="+a.timing.connectStart+"."),b.assertTrue(a.responseReceivedTime-a.startTime>=.07,"Time between responseReceivedTime and startTime should be >=0.07s, but was responseReceivedTime="+a.responseReceivedTime+", startTime="+a.startTime+"."),b.assertTrue(a.endTime-a.startTime>=.14,"Time between endTime and startTime should be >=0.14s, but was endtime="+a.endTime+", startTime="+a.startTime+"."),b.releaseControl()}var b=this;this.addSniffer(WebInspector.NetworkDispatcher.prototype,"_finishNetworkRequest",a),b.evaluateInConsole_("window.location.reload(true);",function(){}),this.takeControl()},TestSuite.prototype.testConsoleOnNavigateBack=function(){function a(){WebInspector.console.removeEventListener(WebInspector.ConsoleModel.Events.MessageAdded,a,this),this.evaluateInConsole_("clickLink();",b.bind(this))}function b(){this.assertEquals(3,WebInspector.console.messages.length),this.evaluateInConsole_("history.back();",c.bind(this))}function c(){this.evaluateInConsole_("void 0;",d.bind(this))}function d(){this.assertEquals(7,WebInspector.console.messages.length),this.releaseControl()}1===WebInspector.console.messages.length?a.call(this):WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,a,this),this.takeControl()},TestSuite.prototype.testReattachAfterCrash=function(){this.evaluateInConsole_("1+1;",this.releaseControl.bind(this)),this.takeControl()},TestSuite.prototype.testSharedWorker=function(){function a(a){this.assertEquals("2011",a),this.releaseControl()}this.evaluateInConsole_("globalVar",a.bind(this)),this.takeControl()},TestSuite.prototype.testPauseInSharedWorkerInitialization=function(){WebInspector.debuggerModel.debuggerPausedDetails||(this._waitForScriptPause(this.releaseControl.bind(this)),this.takeControl())},TestSuite.prototype.testTimelineFrames=function(){function a(){c.recordTimeline(b),c.evaluateInConsole_("runTest()",function(){})}function b(a){for(var b=0,d={},e=0;e<a.length;++e){var f=a[e];"BeginFrame"===f.type?b++&&(c.assertHasKey(d,"FireAnimationFrame"),c.assertHasKey(d,"Layout"),c.assertHasKey(d,"RecalculateStyles"),c.assertHasKey(d,"Paint"),d={}):d[f.type]=(d[f.type]||0)+1}c.assertTrue(b>=5,"Not enough frames"),c.releaseControl()}var c=this;a(),c.takeControl()},TestSuite.prototype.testPageOverlayUpdate=function(){function a(){var a=document.createElement("div");a.id="div1",a.style.webkitTransform="translateZ(0)",document.body.appendChild(a);var b=document.createElement("div");b.id="div2",document.body.appendChild(b)}function b(){g.evaluateInConsole_(a.toString()+"; populatePage();inspect(document.getElementById('div1'))",function(){}),WebInspector.notifications.addEventListener(WebInspector.NotificationService.Events.SelectedNodeChanged,c)}function c(){WebInspector.notifications.removeEventListener(WebInspector.NotificationService.Events.SelectedNodeChanged,c),g.recordTimeline(f),setTimeout(d,500)}function d(){g.evaluateInConsole_("inspect(document.getElementById('div2'))",function(){}),WebInspector.notifications.addEventListener(WebInspector.NotificationService.Events.SelectedNodeChanged,e)}function e(){WebInspector.notifications.removeEventListener(WebInspector.NotificationService.Events.SelectedNodeChanged,e),g.stopTimeline()}function f(a){for(var b={},c=0;c<a.length;++c)b[a[c].type]=(b[a[c].type]||0)+1;var d=b.BeginFrame;g.assertTrue(d>=2,"Not enough DevTools overlay updates"),g.assertTrue(6>d,"Too many updates caused by DevTools overlay"),g.releaseControl()}var g=this;WebInspector.inspectorView.panel("elements"),b(),this.takeControl()},TestSuite.prototype.recordTimeline=function(a){function b(a){c(a.data)}function c(a){e.push(a),"TimeStamp"===a.type&&"ready"===a.data.message&&d(),a.children&&a.children.forEach(c)}function d(){WebInspector.timelineManager.stop(),WebInspector.timelineManager.removeEventListener(WebInspector.TimelineManager.EventTypes.TimelineEventRecorded,b),a(e)}var e=[];WebInspector.timelineManager.addEventListener(WebInspector.TimelineManager.EventTypes.TimelineEventRecorded,b),WebInspector.timelineManager.start()},TestSuite.prototype.stopTimeline=function(){this.evaluateInConsole_("console.timeStamp('ready')",function(){})},TestSuite.prototype.waitForTestResultsInConsole=function(){function a(a){var b=a.data.messageText;"PASS"===b?this.releaseControl():/^FAIL/.test(b)&&this.fail(b)}for(var b=WebInspector.console.messages,c=0;c<b.length;++c){var d=b[c].messageText;if("PASS"===d)return;/^FAIL/.test(d)&&this.fail(d)}WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,a,this),this.takeControl()},TestSuite.prototype.checkLogAndErrorMessages=function(){function a(a){return"log"===a.text&&a.level===WebInspector.ConsoleMessage.MessageLevel.Log?(++d,!0):"error"===a.text&&a.level===WebInspector.ConsoleMessage.MessageLevel.Error?(++d,!0):!1}function b(b){var f=b.data;if(a(f)){if(2===d)return void this.releaseControl()}else this.fail(f.text+":"+c[e].level)}for(var c=WebInspector.console.messages,d=0,e=0;e<c.length;++e)a(c[e])||this.fail(c[e].text+":"+c[e].level);2!==d&&(WebInspector.console.addEventListener(WebInspector.ConsoleModel.Events.MessageAdded,b,this),this.takeControl())},TestSuite.prototype.uiSourceCodesToString_=function(a){for(var b=[],c=0;c<a.length;c++)b.push('"'+a[c].url+'"');return b.join(",")},TestSuite.prototype.nonAnonymousUISourceCodes_=function(){function a(a){return!!a.url}function b(a){return!a.project().isServiceProject()}var c=WebInspector.workspace.uiSourceCodes();return c=c.filter(b),c.filter(a)},TestSuite.prototype.evaluateInConsole_=function(a,b){WebInspector.console.show();var c=WebInspector.ConsolePanel._view();c.prompt.text=a,c.promptElement.dispatchEvent(TestSuite.createKeyEvent("Enter")),this.addSniffer(WebInspector.ConsoleView.prototype,"_showConsoleMessage",function(a){b(a.toMessageElement().textContent)}.bind(this))},TestSuite.prototype._scriptsAreParsed=function(a){for(var b=this.nonAnonymousUISourceCodes_(),c=a.slice(0),d=0;d<b.length;++d)for(var e=0;e<c.length;++e)if(-1!==b[d].name().search(c[e])){c.splice(e,1);break}return 0===c.length},TestSuite.prototype._waitForScriptPause=function(a){function b(){WebInspector.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,b,this),a()}WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.DebuggerPaused,b,this)},TestSuite.prototype._executeCodeWhenScriptsAreParsed=function(a,b){function c(){d.evaluateInConsole_('setTimeout("'+a+'" , 0)',function(b){d.assertTrue(!isNaN(b),"Failed to get timer id: "+b+". Code: "+a)})}var d=this;d._waitUntilScriptsAreParsed(b,c)},TestSuite.prototype._waitUntilScriptsAreParsed=function(a,b){function c(){d._scriptsAreParsed(a)?b():d.addSniffer(WebInspector.panels.sources.sourcesView(),"_addUISourceCode",c)}var d=this;c()},TestSuite.createKeyEvent=function(a){var b=document.createEvent("KeyboardEvent");return b.initKeyboardEvent("keydown",!0,!0,null,a,""),b};var uiTests={};uiTests.runAllTests=function(){for(var a in TestSuite.prototype)"test"===a.substring(0,4)&&"function"==typeof TestSuite.prototype[a]&&uiTests.runTest(a)},uiTests.runTest=function(a){uiTests._populatedInterface?(new TestSuite).runTest(a):uiTests._pendingTestName=a},function(){function a(){uiTests._populatedInterface=!0;var a=uiTests._pendingTestName;delete uiTests._pendingTestName,a&&(new TestSuite).runTest(a)}var b=InspectorFrontendAPI.loadCompleted;InspectorFrontendAPI.loadCompleted=function(){b.call(InspectorFrontendAPI),a()}}()}WebInspector.FlameChartDelegate=function(){},WebInspector.FlameChartDelegate.prototype={requestWindowTimes:function(){}},WebInspector.FlameChart=function(a,b,c,d){WebInspector.HBox.call(this),this.element.classList.add("flame-chart-main-pane"),this._flameChartDelegate=b,this._isTopDown=c,this._timeBasedWindow=d,this._calculator=new WebInspector.FlameChart.Calculator,this._canvas=this.element.createChild("canvas"),this._canvas.addEventListener("mousemove",this._onMouseMove.bind(this)),this._canvas.addEventListener("mousewheel",this._onMouseWheel.bind(this),!1),this._canvas.addEventListener("click",this._onClick.bind(this),!1),WebInspector.installDragHandle(this._canvas,this._startCanvasDragging.bind(this),this._canvasDragging.bind(this),this._endCanvasDragging.bind(this),"move",null),this._vScrollElement=this.element.createChild("div","flame-chart-v-scroll"),this._vScrollContent=this._vScrollElement.createChild("div"),this._vScrollElement.addEventListener("scroll",this._scheduleUpdate.bind(this),!1),this._entryInfo=this.element.createChild("div","profile-entry-info"),this._highlightElement=this.element.createChild("div","flame-chart-highlight-element"),this._selectedElement=this.element.createChild("div","flame-chart-selected-element"),this._dataProvider=a,this._windowLeft=0,this._windowRight=1,this._windowWidth=1,this._timeWindowLeft=0,this._timeWindowRight=1/0,this._barHeight=a.barHeight(),this._barHeightDelta=this._isTopDown?-this._barHeight:this._barHeight,this._minWidth=1,this._paddingLeft=this._dataProvider.paddingLeft(),this._highlightedEntryIndex=-1,this._selectedEntryIndex=-1,this._textWidth={}},WebInspector.FlameChart.DividersBarHeight=20,WebInspector.FlameChartDataProvider=function(){},WebInspector.FlameChart.TimelineData,WebInspector.FlameChartDataProvider.prototype={barHeight:function(){},dividerOffsets:function(){},zeroTime:function(){},totalTime:function(){},maxStackDepth:function(){},timelineData:function(){},prepareHighlightedEntryInfo:function(){},canJumpToEntry:function(){},entryTitle:function(){},entryFont:function(){},entryColor:function(){},decorateEntry:function(){},forceDecoration:function(){},textColor:function(){},textBaseline:function(){},textPadding:function(){},highlightTimeRange:function(){},paddingLeft:function(){}},WebInspector.FlameChart.Events={EntrySelected:"EntrySelected"},WebInspector.FlameChart.Calculator=function(){this._paddingLeft=0},WebInspector.FlameChart.Calculator.prototype={paddingLeft:function(){return this._paddingLeft},_updateBoundaries:function(a){this._totalTime=a._dataProvider.totalTime(),this._zeroTime=a._dataProvider.zeroTime(),this._minimumBoundaries=this._zeroTime+a._windowLeft*this._totalTime,this._maximumBoundaries=this._zeroTime+a._windowRight*this._totalTime,this._paddingLeft=a._paddingLeft,this._width=a._canvas.width/window.devicePixelRatio-this._paddingLeft,this._timeToPixel=this._width/this.boundarySpan()},computePosition:function(a){return Math.round((a-this._minimumBoundaries)*this._timeToPixel+this._paddingLeft)},formatTime:function(a,b){return Number.preciseMillisToString(a-this._zeroTime,b)},maximumBoundary:function(){return this._maximumBoundaries},minimumBoundary:function(){return this._minimumBoundaries},zeroTime:function(){return this._zeroTime},boundarySpan:function(){return this._maximumBoundaries-this._minimumBoundaries}},WebInspector.FlameChart.prototype={_resetCanvas:function(){var a=window.devicePixelRatio;this._canvas.width=this._offsetWidth*a,this._canvas.height=this._offsetHeight*a},_timelineData:function(){return this._dataProvider.timelineData()},changeWindow:function(a,b){console.assert(!this._timeBasedWindow),this._windowLeft=a,this._windowRight=b,this._windowWidth=this._windowRight-this._windowLeft,this._scheduleUpdate()},setWindowTimes:function(a,b){console.assert(this._timeBasedWindow),this._timeWindowLeft=a,this._timeWindowRight=b,this._scheduleUpdate()},_startCanvasDragging:function(a){return this._timelineData()?(this._isDragging=!0,this._maxDragOffset=0,this._dragStartPointX=a.pageX,this._dragStartPointY=a.pageY,this._dragStartScrollTop=this._vScrollElement.scrollTop,this._dragStartWindowLeft=this._timeWindowLeft,this._dragStartWindowRight=this._timeWindowRight,this._canvas.style.cursor="",!0):!1},_canvasDragging:function(a){var b=this._dragStartPointX-a.pageX,c=this._dragStartPointY-a.pageY;this._vScrollElement.scrollTop=this._dragStartScrollTop+c;var d=(b/this._totalPixels,this._windowWidth*this._totalTime),e=d*b/this._pixelWindowWidth;
e=Number.constrain(e,this._zeroTime-this._dragStartWindowLeft,this._zeroTime+this._totalTime-this._dragStartWindowRight);var f=this._dragStartWindowLeft+e,g=this._dragStartWindowRight+e;this._flameChartDelegate.requestWindowTimes(f,g),this._maxDragOffset=Math.max(this._maxDragOffset,Math.abs(b))},_endCanvasDragging:function(){this._isDragging=!1},_onMouseMove:function(a){if(!this._isDragging){var b=this._coordinatesToEntryIndex(a.offsetX,a.offsetY);if(this._highlightedEntryIndex!==b&&(this._canvas.style.cursor=-1!==b&&this._dataProvider.canJumpToEntry(b)?"pointer":"default",this._highlightedEntryIndex=b,this._updateElementPosition(this._highlightElement,this._highlightedEntryIndex),this._entryInfo.removeChildren(),-1!==this._highlightedEntryIndex&&!this._isDragging)){var c=this._dataProvider.prepareHighlightedEntryInfo(this._highlightedEntryIndex);c&&this._entryInfo.appendChild(this._buildEntryInfo(c))}}},_onClick:function(){const a=5;this._maxDragOffset>a||-1!==this._highlightedEntryIndex&&this.dispatchEventToListeners(WebInspector.FlameChart.Events.EntrySelected,this._highlightedEntryIndex)},_onMouseWheel:function(a){var b=this._timeWindowLeft?this._timeWindowLeft:this._dataProvider.zeroTime(),c=1/0!==this._timeWindowRight?this._timeWindowRight:this._dataProvider.zeroTime()+this._dataProvider.totalTime();if(a.wheelDeltaY)if(a.altKey)this._vScrollElement.scrollTop-=a.wheelDeltaY/120*this._offsetHeight/8;else{const d=1/120;var e=Math.pow(1.2,-a.wheelDeltaY*d)-1,f=this._cursorTime(a.offsetX);b+=(b-f)*e,c+=(c-f)*e}else{var g=a.wheelDeltaX*this._pixelToTime;g=Number.constrain(g,this._zeroTime-b,this._totalTime+this._zeroTime-c),b+=g,c+=g}b=Number.constrain(b,this._zeroTime,this._totalTime+this._zeroTime),c=Number.constrain(c,this._zeroTime,this._totalTime+this._zeroTime),this._flameChartDelegate.requestWindowTimes(b,c)},_cursorTime:function(a){return(a+this._pixelWindowLeft-this._paddingLeft)*this._pixelToTime+this._zeroTime},_coordinatesToEntryIndex:function(a,b){b+=this._scrollTop;var c=this._timelineData();if(!c)return-1;for(var d=this._cursorTime(a)-this._zeroTime,e=Math.floor(this._isTopDown?(b-WebInspector.FlameChart.DividersBarHeight)/this._barHeight:(this._canvas.height/window.devicePixelRatio-b)/this._barHeight),f=c.entryOffsets,g=c.entryTotalTimes,h=c.entryLevels,i=f.length,j=0;i>j;++j){var k=h[j];if(e===k){if(d<f[j])return-1;if(d<f[j]+g[j])return j}}return-1},draw:function(a,b){var c=this._timelineData();if(c){var d=this._canvas.getContext("2d");d.save();var e=window.devicePixelRatio;d.scale(e,e);var f=this._timeWindowRight-this._zeroTime,g=this._timeWindowLeft-this._zeroTime,h=(this._timeToPixel,this._pixelWindowLeft,this._paddingLeft,this._minWidth),i=c.entryTotalTimes,j=c.entryOffsets,k=c.entryLevels,l=new Uint32Array(c.entryTotalTimes),m=0,n=this._dataProvider.textPadding();this._minTextWidth=2*n+this._measureWidth(d,"…");for(var o=this._minTextWidth,p=new Int32Array(this._dataProvider.maxStackDepth()),q=0;q<p.length;++q)p[q]=-1;var r=this._barHeight,s=this._offsetToPosition.bind(this),t=this._baseHeight+r-this._dataProvider.textBaseline(),u={},v=Math.max(0,Math.floor((this._scrollTop-this._baseHeight)/r)),w=Math.min(this._dataProvider.maxStackDepth(),Math.ceil((b+this._scrollTop)/r)),x=w-v+1;d.translate(0,-this._scrollTop);for(var y=0,z=[],q=0;x>q;++q)z[q]=!1;for(var A=0;x>y&&A<j.length;++A){var B=k[A];if(!(v>B||B>w||z[B-v])){var C=j[A];if(C>f)z[B-v]=!0,y++;else{var D=C+i[A];if(!(g>D)){var E=this._offsetToPosition(D);if(!(E<=p[B])){var F=Math.max(this._offsetToPosition(C),p[B]);p[B]=E;var G=E-F,H=this._dataProvider.entryColor(A),I=u[H];I||(I=[],u[H]=I),I.push(A)}}}}}for(var J=Object.keys(u),K=0;K<J.length;++K){var H=J[K];d.fillStyle=H,d.strokeStyle=H;var L=u[H];for(d.beginPath(),q=0;q<L.length;++q){var A=L[q],C=j[A],F=this._offsetToPosition(C),E=this._offsetToPosition(C+i[A]),G=Math.max(E-F,h),B=k[A],M=this._levelToHeight(B);d.rect(F,M,G,r),(G>o||this._dataProvider.forceDecoration(A))&&(l[m++]=A)}d.fill()}d.textBaseline="alphabetic";for(var q=0;m>q;++q){var A=l[q],C=j[A],F=this._offsetToPosition(C),E=this._offsetToPosition(C+i[A]),G=Math.max(E-F,h),B=k[A],M=this._levelToHeight(B),N=this._dataProvider.entryTitle(A);N&&N.length&&(N=this._prepareText(d,N,G-2*n)),this._dataProvider.decorateEntry(A,d,N,F,M,G,r,s)||N&&N.length&&(d.font=this._dataProvider.entryFont(A),d.fillStyle=this._dataProvider.textColor(A),d.fillText(N,F+n,t-B*this._barHeightDelta))}d.restore();var O=this._dataProvider.dividerOffsets(this._calculator.minimumBoundary(),this._calculator.maximumBoundary());c.entryOffsets.length&&WebInspector.TimelineGrid.drawCanvasGrid(this._canvas,this._calculator,O),this._updateElementPosition(this._highlightElement,this._highlightedEntryIndex),this._updateElementPosition(this._selectedElement,this._selectedEntryIndex)}},setSelectedEntry:function(a){this._selectedEntryIndex=a,this._updateElementPosition(this._selectedElement,this._selectedEntryIndex)},_updateElementPosition:function(a,b){if(a.parentElement&&a.remove(),-1!==b){var c=this._dataProvider.highlightTimeRange(b);if(c){var d=this._timelineData(),e=this._offsetToPosition(c.startTimeOffset),f=this._offsetToPosition(c.endTimeOffset);if(0!==f&&e!==this._canvas.width){var g=Math.max(f-e,this._minWidth),h=this._levelToHeight(d.entryLevels[b])-this._scrollTop,i=a.style;i.left=e+"px",i.top=h+"px",i.width=g+"px",i.height=this._barHeight+"px",this.element.appendChild(a)}}}},_offsetToPosition:function(a){var b=Math.floor(a*this._timeToPixel)-this._pixelWindowLeft+this._paddingLeft;return Math.min(this._canvas.width,Math.max(0,b))},_levelToHeight:function(a){return this._baseHeight-a*this._barHeightDelta},_buildEntryInfo:function(a){var b=document.createElement("table");b.className="info-table";for(var c=0;c<a.length;++c){var d=b.createChild("tr"),e=d.createChild("td");e.textContent=a[c].title,e.className="title";var f=d.createChild("td");f.textContent=a[c].text}return b},_prepareText:function(a,b,c){var d=this._measureWidth(a,b);if(c>d)return b;for(var e=3,f=b.length;f>e;){var g=e+f>>1;this._measureWidth(a,b.trimMiddle(g))<c?e=g+1:f=g}return b=b.trimMiddle(f-1),d=this._measureWidth(a,b),c>=d?b:c>this._measureWidth(a,"…")?"…":""},_measureWidth:function(a,b){if(b.length>20)return a.measureText(b).width;var c=this._textWidth[b];return c||(c=a.measureText(b).width,this._textWidth[b]=c),c},_updateBoundaries:function(){this._totalTime=this._dataProvider.totalTime(),this._zeroTime=this._dataProvider.zeroTime(),this._timeBasedWindow?1/0!==this._timeWindowRight?(this._windowLeft=(this._timeWindowLeft-this._zeroTime)/this._totalTime,this._windowRight=(this._timeWindowRight-this._zeroTime)/this._totalTime,this._windowWidth=this._windowRight-this._windowLeft):(this._windowLeft=0,this._windowRight=1,this._windowWidth=1):(this._timeWindowLeft=this._windowLeft*this._totalTime,this._timeWindowRight=this._windowRight*this._totalTime),this._pixelWindowWidth=this._offsetWidth-this._paddingLeft,this._totalPixels=Math.floor(this._pixelWindowWidth/this._windowWidth),this._pixelWindowLeft=Math.floor(this._totalPixels*this._windowLeft),this._pixelWindowRight=Math.floor(this._totalPixels*this._windowRight),this._timeToPixel=this._totalPixels/this._totalTime,this._pixelToTime=this._totalTime/this._totalPixels,this._paddingLeftTime=this._paddingLeft/this._timeToPixel,this._baseHeight=this._isTopDown?WebInspector.FlameChart.DividersBarHeight:this._offsetHeight-this._barHeight;var a=this._levelToHeight(this._dataProvider.maxStackDepth());this._vScrollContent.style.height=a+"px",this._scrollTop=this._vScrollElement.scrollTop},onResize:function(){this._offsetWidth=this.element.offsetWidth-this._vScrollElement.offsetWidth,this._offsetHeight=this.element.offsetHeight,this._canvas.style.width=this._offsetWidth+"px",this._canvas.style.height=this._offsetHeight+"px",this._scheduleUpdate()},_scheduleUpdate:function(){this._updateTimerId||(this._updateTimerId=requestAnimationFrame(this.update.bind(this)))},update:function(){this._updateTimerId=0,this._timelineData()&&(this._resetCanvas(),this._updateBoundaries(),this._calculator._updateBoundaries(this),this.draw(this._offsetWidth,this._offsetHeight))},reset:function(){this._highlightedEntryIndex=-1,this._selectedEntryIndex=-1,this._textWidth={},this.update()},__proto__:WebInspector.HBox.prototype},WebInspector.PaintProfilerSnapshot=function(a){this._id=a},WebInspector.PaintProfilerSnapshot.prototype={dispose:function(){LayerTreeAgent.releaseSnapshot(this._id)},requestImage:function(a,b,c){var d=InspectorBackend.wrapClientCallback(c,"LayerTreeAgent.replaySnapshot(): ");LayerTreeAgent.replaySnapshot(this._id,a||void 0,b||void 0,d)},profile:function(a){var b=InspectorBackend.wrapClientCallback(a,"LayerTreeAgent.profileSnapshot(): ");LayerTreeAgent.profileSnapshot(this._id,5,1,b)}},WebInspector.HelpScreenUntilReload=function(a,b){WebInspector.HelpScreen.call(this,a);var c=this.contentElement.createChild("p");c.classList.add("help-section"),c.textContent=b,WebInspector.debuggerModel.addEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this.hide,this)},WebInspector.HelpScreenUntilReload.prototype={willHide:function(){WebInspector.debuggerModel.removeEventListener(WebInspector.DebuggerModel.Events.GlobalObjectCleared,this.hide,this),WebInspector.HelpScreen.prototype.willHide.call(this)},__proto__:WebInspector.HelpScreen.prototype},WebInspector.ZoomManager=function(){this._zoomFactor=InspectorFrontendHost.zoomFactor(),window.addEventListener("resize",this._onWindowResize.bind(this),!0)},WebInspector.ZoomManager.Events={ZoomChanged:"ZoomChanged"},WebInspector.ZoomManager.prototype={zoomFactor:function(){return this._zoomFactor},_onWindowResize:function(){var a=this._zoomFactor;this._zoomFactor=InspectorFrontendHost.zoomFactor(),a!==this._zoomFactor&&this.dispatchEventToListeners(WebInspector.ZoomManager.Events.ZoomChanged,{from:a,to:this._zoomFactor})},__proto__:WebInspector.Object.prototype},WebInspector.zoomManager,WebInspector.ProfileType=function(a,b){WebInspector.Object.call(this),this._id=a,this._name=b,this._profiles=[],this._profileBeingRecorded=null,this._nextProfileUid=1,window.addEventListener("unload",this._clearTempStorage.bind(this),!1)},WebInspector.ProfileType.Events={AddProfileHeader:"add-profile-header",RemoveProfileHeader:"remove-profile-header",ViewUpdated:"view-updated"},WebInspector.ProfileType.prototype={hasTemporaryView:function(){return!1},fileExtension:function(){return null},get statusBarItems(){return[]},get buttonTooltip(){return""},get id(){return this._id},get treeItemTitle(){return this._name},get name(){return this._name},buttonClicked:function(){return!1},get description(){return""},isInstantProfile:function(){return!1},isEnabled:function(){return!0},getProfiles:function(){function a(a){return this._profileBeingRecorded!==a}return this._profiles.filter(a.bind(this))},decorationElement:function(){return null},getProfile:function(a){for(var b=0;b<this._profiles.length;++b)if(this._profiles[b].uid===a)return this._profiles[b];return null},loadFromFile:function(a){var b=a.name;b.endsWith(this.fileExtension())&&(b=b.substr(0,b.length-this.fileExtension().length));var c=this.createProfileLoadedFromFile(b);c.setFromFile(),this._profileBeingRecorded=c,this.addProfile(c),c.loadFromFile(a)},createProfileLoadedFromFile:function(){throw new Error("Needs implemented.")},addProfile:function(a){this._profiles.push(a),this.dispatchEventToListeners(WebInspector.ProfileType.Events.AddProfileHeader,a)},removeProfile:function(a){var b=this._profiles.indexOf(a);-1!==b&&(this._profiles.splice(b,1),this._disposeProfile(a))},_clearTempStorage:function(){for(var a=0;a<this._profiles.length;++a)this._profiles[a].removeTempFile()},profileBeingRecorded:function(){return this._profileBeingRecorded},profileBeingRecordedRemoved:function(){},_reset:function(){for(var a=this._profiles.slice(0),b=0;b<a.length;++b)this._disposeProfile(a[b]);this._profiles=[],this._nextProfileUid=1},_disposeProfile:function(a){this.dispatchEventToListeners(WebInspector.ProfileType.Events.RemoveProfileHeader,a),a.dispose(),this._profileBeingRecorded===a&&(this.profileBeingRecordedRemoved(),this._profileBeingRecorded=null)},__proto__:WebInspector.Object.prototype},WebInspector.ProfileHeader=function(a,b){this._profileType=a,this.title=b,this.uid=a._nextProfileUid++,this._fromFile=!1},WebInspector.ProfileHeader.StatusUpdate=function(a,b){this.subtitle=a,this.wait=b},WebInspector.ProfileHeader.Events={UpdateStatus:"UpdateStatus",ProfileReceived:"ProfileReceived"},WebInspector.ProfileHeader.prototype={profileType:function(){return this._profileType},updateStatus:function(a,b){this.dispatchEventToListeners(WebInspector.ProfileHeader.Events.UpdateStatus,new WebInspector.ProfileHeader.StatusUpdate(a,b))},createSidebarTreeElement:function(){throw new Error("Needs implemented.")},createView:function(){throw new Error("Not implemented.")},removeTempFile:function(){this._tempFile&&this._tempFile.remove()},dispose:function(){},load:function(){},canSaveToFile:function(){return!1},saveToFile:function(){throw new Error("Needs implemented")},loadFromFile:function(){throw new Error("Needs implemented")},fromFile:function(){return this._fromFile},setFromFile:function(){this._fromFile=!0},__proto__:WebInspector.Object.prototype},WebInspector.ProfilesPanel=function(){WebInspector.PanelWithSidebarTree.call(this,"profiles"),this.registerRequiredCSS("panelEnablerView.css"),this.registerRequiredCSS("heapProfiler.css"),this.registerRequiredCSS("profilesPanel.css"),this._searchableView=new WebInspector.SearchableView(this);var a=new WebInspector.VBox;this._searchableView.show(a.element),a.show(this.mainElement()),this.profilesItemTreeElement=new WebInspector.ProfilesSidebarTreeElement(this),this.sidebarTree.appendChild(this.profilesItemTreeElement),this.profileViews=document.createElement("div"),this.profileViews.id="profile-views",this.profileViews.classList.add("vbox"),this._searchableView.element.appendChild(this.profileViews);var b=document.createElementWithClass("div","profiles-status-bar");a.element.insertBefore(b,a.element.firstChild),this._statusBarElement=b.createChild("div","status-bar"),this.sidebarElement().classList.add("profiles-sidebar-tree-box");var c=document.createElementWithClass("div","profiles-status-bar");this.sidebarElement().insertBefore(c,this.sidebarElement().firstChild),this._statusBarButtons=c.createChild("div","status-bar"),this.recordButton=new WebInspector.StatusBarButton("","record-profile-status-bar-item"),this.recordButton.addEventListener("click",this.toggleRecordButton,this),this._statusBarButtons.appendChild(this.recordButton.element),this.clearResultsButton=new WebInspector.StatusBarButton(WebInspector.UIString("Clear all profiles."),"clear-status-bar-item"),this.clearResultsButton.addEventListener("click",this._reset,this),this._statusBarButtons.appendChild(this.clearResultsButton.element),this._profileTypeStatusBarItemsContainer=this._statusBarElement.createChild("div"),this._profileViewStatusBarItemsContainer=this._statusBarElement.createChild("div"),this._profileGroups={},this._launcherView=new WebInspector.MultiProfileLauncherView(this),this._launcherView.addEventListener(WebInspector.MultiProfileLauncherView.EventTypes.ProfileTypeSelected,this._onProfileTypeSelected,this),this._profileToView=[],this._typeIdToSidebarSection={};for(var d=WebInspector.ProfileTypeRegistry.instance.profileTypes(),e=0;e<d.length;e++)this._registerProfileType(d[e]);this._launcherView.restoreSelectedProfileType(),this.profilesItemTreeElement.select(),this._showLauncherView(),this._createFileSelectorElement(),this.element.addEventListener("contextmenu",this._handleContextMenuEvent.bind(this),!0),this._registerShortcuts(),this._configureCpuProfilerSamplingInterval(),WebInspector.settings.highResolutionCpuProfiling.addChangeListener(this._configureCpuProfilerSamplingInterval,this)},WebInspector.ProfileTypeRegistry=function(){this._profileTypes=[],this.cpuProfileType=new WebInspector.CPUProfileType,this._addProfileType(this.cpuProfileType),this.heapSnapshotProfileType=new WebInspector.HeapSnapshotProfileType,this._addProfileType(this.heapSnapshotProfileType),this.trackingHeapSnapshotProfileType=new WebInspector.TrackingHeapSnapshotProfileType,this._addProfileType(this.trackingHeapSnapshotProfileType),Capabilities.isMainFrontend&&WebInspector.experimentsSettings.canvasInspection.isEnabled()&&(this.canvasProfileType=new WebInspector.CanvasProfileType,this._addProfileType(this.canvasProfileType))},WebInspector.ProfileTypeRegistry.prototype={_addProfileType:function(a){this._profileTypes.push(a)},profileTypes:function(){return this._profileTypes}},WebInspector.ProfilesPanel.prototype={searchableView:function(){return this._searchableView},_createFileSelectorElement:function(){this._fileSelectorElement&&this.element.removeChild(this._fileSelectorElement),this._fileSelectorElement=WebInspector.createFileSelectorElement(this._loadFromFile.bind(this)),this.element.appendChild(this._fileSelectorElement)},_findProfileTypeByExtension:function(a){for(var b=WebInspector.ProfileTypeRegistry.instance.profileTypes(),c=0;c<b.length;c++){var d=b[c],e=d.fileExtension();if(e&&a.endsWith(d.fileExtension()))return d}return null},_registerShortcuts:function(){this.registerShortcuts(WebInspector.ShortcutsScreen.ProfilesPanelShortcuts.StartStopRecording,this.toggleRecordButton.bind(this))},_configureCpuProfilerSamplingInterval:function(){function a(a){a&&WebInspector.console.showErrorMessage(a)}var b=WebInspector.settings.highResolutionCpuProfiling.get()?100:1e3;ProfilerAgent.setSamplingInterval(b,a)},_loadFromFile:function(a){this._createFileSelectorElement();var b=this._findProfileTypeByExtension(a.name);if(!b){for(var c=[],d=WebInspector.ProfileTypeRegistry.instance.profileTypes(),e=0;e<d.length;e++){var f=d[e].fileExtension();f&&c.push(f)}return void WebInspector.console.log(WebInspector.UIString("Can't load file. Only files with extensions '%s' can be loaded.",c.join("', '")))}return b.profileBeingRecorded()?void WebInspector.console.log(WebInspector.UIString("Can't load profile when other profile is recording.")):void b.loadFromFile(a)},toggleRecordButton:function(){var a=this._selectedProfileType,b=a.buttonClicked();return this.recordButton.toggled=b,this.recordButton.title=a.buttonTooltip,b?(this._launcherView.profileStarted(),a.hasTemporaryView()&&this.showProfile(a.profileBeingRecorded())):this._launcherView.profileFinished(),!0},_profileBeingRecordedRemoved:function(){this.recordButton.toggled=!1,this.recordButton.title=this._selectedProfileType.buttonTooltip,this._launcherView.profileFinished()},_onProfileTypeSelected:function(a){this._selectedProfileType=a.data,this._updateProfileTypeSpecificUI()},_updateProfileTypeSpecificUI:function(){this.recordButton.title=this._selectedProfileType.buttonTooltip,this._launcherView.updateProfileType(this._selectedProfileType),this._profileTypeStatusBarItemsContainer.removeChildren();var a=this._selectedProfileType.statusBarItems;if(a)for(var b=0;b<a.length;++b)this._profileTypeStatusBarItemsContainer.appendChild(a[b])},_reset:function(){WebInspector.Panel.prototype.reset.call(this);for(var a=WebInspector.ProfileTypeRegistry.instance.profileTypes(),b=0;b<a.length;b++)a[b]._reset();delete this.visibleView,delete this.currentQuery,this.searchCanceled(),this._profileGroups={},this.recordButton.toggled=!1,this._selectedProfileType&&(this.recordButton.title=this._selectedProfileType.buttonTooltip),this._launcherView.profileFinished(),this.sidebarTree.element.classList.remove("some-expandable"),this._launcherView.detach(),this.profileViews.removeChildren(),this._profileViewStatusBarItemsContainer.removeChildren(),this.removeAllListeners(),this.recordButton.visible=!0,this._profileViewStatusBarItemsContainer.classList.remove("hidden"),this.clearResultsButton.element.classList.remove("hidden"),this.profilesItemTreeElement.select(),this._showLauncherView()},_showLauncherView:function(){this.closeVisibleView(),this._profileViewStatusBarItemsContainer.removeChildren(),this._launcherView.show(this.profileViews),this.visibleView=this._launcherView},_garbageCollectButtonClicked:function(){HeapProfilerAgent.collectGarbage()},_registerProfileType:function(a){function b(a){this._addProfileHeader(a.data)}function c(a){this._removeProfileHeader(a.data)}this._launcherView.addProfileType(a);var d=new WebInspector.ProfileTypeSidebarSection(a);this._typeIdToSidebarSection[a.id]=d,this.sidebarTree.appendChild(d),d.childrenListElement.addEventListener("contextmenu",this._handleContextMenuEvent.bind(this),!0),a.addEventListener(WebInspector.ProfileType.Events.ViewUpdated,this._updateProfileTypeSpecificUI,this),a.addEventListener(WebInspector.ProfileType.Events.AddProfileHeader,b,this),a.addEventListener(WebInspector.ProfileType.Events.RemoveProfileHeader,c,this);for(var e=a.getProfiles(),f=0;f<e.length;f++)this._addProfileHeader(e[f])},_handleContextMenuEvent:function(a){for(var b=a.srcElement;b&&!b.treeElement&&b!==this.element;)b=b.parentElement;if(b){if(b.treeElement&&b.treeElement.handleContextMenuEvent)return void b.treeElement.handleContextMenuEvent(a,this);var c=new WebInspector.ContextMenu(a);this.visibleView instanceof WebInspector.HeapSnapshotView&&this.visibleView.populateContextMenu(c,a),(b!==this.element||a.srcElement===this.sidebarElement())&&c.appendItem(WebInspector.UIString("Load…"),this._fileSelectorElement.click.bind(this._fileSelectorElement)),c.show()}},showLoadFromFileDialog:function(){this._fileSelectorElement.click()},_addProfileHeader:function(a){var b=a.profileType(),c=b.id;this._typeIdToSidebarSection[c].addProfileHeader(a),this.visibleView&&this.visibleView!==this._launcherView||this.showProfile(a)},_removeProfileHeader:function(a){a.profileType()._profileBeingRecorded===a&&this._profileBeingRecordedRemoved();var b=this._indexOfViewForProfile(a);-1!==b&&this._profileToView.splice(b,1);var c=a.profileType(),d=c.id,e=this._typeIdToSidebarSection[d].removeProfileHeader(a);e&&(this.profilesItemTreeElement.select(),this._showLauncherView())},showProfile:function(a){if(!a||a.profileType().profileBeingRecorded()===a&&!a.profileType().hasTemporaryView())return null;var b=this._viewForProfile(a);if(b===this.visibleView)return b;this.closeVisibleView(),b.show(this.profileViews),this.visibleView=b;{var c=this._typeIdToSidebarSection[a.profileType().id];c.sidebarElementForProfile(a)}this._profileViewStatusBarItemsContainer.removeChildren();var d=b.statusBarItems;if(d)for(var e=0;e<d.length;++e)this._profileViewStatusBarItemsContainer.appendChild(d[e]);return b},showObject:function(a,b){for(var c=WebInspector.ProfileTypeRegistry.instance.heapSnapshotProfileType.getProfiles(),d=0;d<c.length;d++){var e=c[d];if(e.maxJSObjectId>=a){this.showProfile(e);var f=this._viewForProfile(e);f.highlightLiveObject(b,a);break}}},_viewForProfile:function(a){var b=this._indexOfViewForProfile(a);if(-1!==b)return this._profileToView[b].view;var c=a.createView();return c.element.classList.add("profile-view"),this._profileToView.push({profile:a,view:c}),c},_indexOfViewForProfile:function(a){for(var b=0;b<this._profileToView.length;b++)if(this._profileToView[b].profile===a)return b;return-1},closeVisibleView:function(){this.visibleView&&this.visibleView.detach(),delete this.visibleView},performSearch:function(a,b){function c(a,c){c&&(this._searchableView.updateSearchMatchesCount(c),this._searchResultsView=a,b&&(a.jumpToFirstSearchResult(),this._searchableView.updateCurrentMatchIndex(a.currentSearchResultIndex())))}this.searchCanceled();var d=this.visibleView;d&&(d.currentQuery=a,d.performSearch(a,c.bind(this)))},jumpToNextSearchResult:function(){this._searchResultsView&&this._searchResultsView===this.visibleView&&(this._searchResultsView.jumpToNextSearchResult(),this._searchableView.updateCurrentMatchIndex(this._searchResultsView.currentSearchResultIndex()))},jumpToPreviousSearchResult:function(){this._searchResultsView&&this._searchResultsView===this.visibleView&&(this._searchResultsView.jumpToPreviousSearchResult(),this._searchableView.updateCurrentMatchIndex(this._searchResultsView.currentSearchResultIndex()))},searchCanceled:function(){this._searchResultsView&&(this._searchResultsView.searchCanceled&&this._searchResultsView.searchCanceled(),this._searchResultsView.currentQuery=null,this._searchResultsView=null),this._searchableView.updateSearchMatchesCount(0)},appendApplicableItems:function(a,b,c){function d(a){HeapProfilerAgent.getHeapObjectId(g,e.bind(this,a))}function e(a,b,c){WebInspector.inspectorView.currentPanel()===this&&(b||this.showObject(c,a))}if(c instanceof WebInspector.RemoteObject&&WebInspector.inspectorView.currentPanel()===this){var f=c,g=f.objectId;if(g){var h=WebInspector.ProfileTypeRegistry.instance.heapSnapshotProfileType.getProfiles();h.length&&(WebInspector.settings.showAdvancedHeapSnapshotProperties.get()&&b.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Dominators view":"Reveal in Dominators View"),d.bind(this,"Dominators")),b.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Summary view":"Reveal in Summary View"),d.bind(this,"Summary")))}}},__proto__:WebInspector.PanelWithSidebarTree.prototype},WebInspector.ProfileTypeSidebarSection=function(a){WebInspector.SidebarSectionTreeElement.call(this,a.treeItemTitle,null,!0),this._profileTreeElements=[],this._profileGroups={},this.hidden=!0},WebInspector.ProfileTypeSidebarSection.ProfileGroup=function(){this.profileSidebarTreeElements=[],this.sidebarTreeElement=null},WebInspector.ProfileTypeSidebarSection.prototype={addProfileHeader:function(a){this.hidden=!1;var b=a.profileType(),c=this,d=a.createSidebarTreeElement();if(this._profileTreeElements.push(d),!a.fromFile()&&b.profileBeingRecorded()!==a){var e=a.title,f=this._profileGroups[e];f||(f=new WebInspector.ProfileTypeSidebarSection.ProfileGroup,this._profileGroups[e]=f),f.profileSidebarTreeElements.push(d);var g=f.profileSidebarTreeElements.length;if(2===g){f.sidebarTreeElement=new WebInspector.ProfileGroupSidebarTreeElement(a.title);var h=f.profileSidebarTreeElements[0],i=this.children.indexOf(h);this.insertChild(f.sidebarTreeElement,i);var j=h.selected;this.removeChild(h),f.sidebarTreeElement.appendChild(h),j&&h.revealAndSelect(),h.small=!0,h.mainTitle=WebInspector.UIString("Run %d",1),this.treeOutline.element.classList.add("some-expandable")}g>=2&&(c=f.sidebarTreeElement,d.small=!0,d.mainTitle=WebInspector.UIString("Run %d",g))}c.appendChild(d)},removeProfileHeader:function(a){var b=this._sidebarElementIndex(a);if(-1===b)return!1;var c=this._profileTreeElements[b];this._profileTreeElements.splice(b,1);var d=this,e=this._profileGroups[a.title];if(e){var f=e.profileSidebarTreeElements;if(f.splice(f.indexOf(c),1),1===f.length){var g=d.children.indexOf(e.sidebarTreeElement);this.insertChild(f[0],g),f[0].small=!1,f[0].mainTitle=e.sidebarTreeElement.title,this.removeChild(e.sidebarTreeElement)}0!==f.length&&(d=e.sidebarTreeElement)}return d.removeChild(c),c.dispose(),this.children.length?!1:(this.hidden=!0,!0)},sidebarElementForProfile:function(a){var b=this._sidebarElementIndex(a);return-1===b?null:this._profileTreeElements[b]},_sidebarElementIndex:function(a){for(var b=this._profileTreeElements,c=0;c<b.length;c++)if(b[c].profile===a)return c;return-1},__proto__:WebInspector.SidebarSectionTreeElement.prototype},WebInspector.ProfilesPanel.ContextMenuProvider=function(){},WebInspector.ProfilesPanel.ContextMenuProvider.prototype={appendApplicableItems:function(a,b,c){WebInspector.inspectorView.panel("profiles").appendApplicableItems(a,b,c)}},WebInspector.ProfileSidebarTreeElement=function(a,b){this.profile=a,WebInspector.SidebarTreeElement.call(this,b,a.title,"",a,!1),this.refreshTitles(),a.addEventListener(WebInspector.ProfileHeader.Events.UpdateStatus,this._updateStatus,this),a.canSaveToFile()?this._createSaveLink():a.addEventListener(WebInspector.ProfileHeader.Events.ProfileReceived,this._onProfileReceived,this)},WebInspector.ProfileSidebarTreeElement.prototype={_createSaveLink:function(){this._saveLinkElement=this.titleContainer.createChild("span","save-link"),this._saveLinkElement.textContent=WebInspector.UIString("Save"),this._saveLinkElement.addEventListener("click",this._saveProfile.bind(this),!1)},_onProfileReceived:function(){this._createSaveLink()},_updateStatus:function(a){var b=a.data;null!==b.subtitle&&(this.subtitle=b.subtitle),"boolean"==typeof b.wait&&(this.wait=b.wait),this.refreshTitles()},dispose:function(){this.profile.removeEventListener(WebInspector.ProfileHeader.Events.UpdateStatus,this._updateStatus,this),this.profile.removeEventListener(WebInspector.ProfileHeader.Events.ProfileReceived,this._onProfileReceived,this)},onselect:function(){WebInspector.panels.profiles.showProfile(this.profile)},ondelete:function(){return this.profile.profileType().removeProfile(this.profile),!0},handleContextMenuEvent:function(a,b){var c=this.profile,d=new WebInspector.ContextMenu(a);d.appendItem(WebInspector.UIString("Load…"),b._fileSelectorElement.click.bind(b._fileSelectorElement)),c.canSaveToFile()&&d.appendItem(WebInspector.UIString("Save…"),c.saveToFile.bind(c)),d.appendItem(WebInspector.UIString("Delete"),this.ondelete.bind(this)),d.show()},_saveProfile:function(){this.profile.saveToFile()},__proto__:WebInspector.SidebarTreeElement.prototype},WebInspector.ProfileGroupSidebarTreeElement=function(a,b){WebInspector.SidebarTreeElement.call(this,"profile-group-sidebar-tree-item",a,b,null,!0)},WebInspector.ProfileGroupSidebarTreeElement.prototype={onselect:function(){this.children.length>0&&WebInspector.panels.profiles.showProfile(this.children[this.children.length-1].profile)},__proto__:WebInspector.SidebarTreeElement.prototype},WebInspector.ProfilesSidebarTreeElement=function(a){this._panel=a,this.small=!1,WebInspector.SidebarTreeElement.call(this,"profile-launcher-view-tree-item",WebInspector.UIString("Profiles"),"",null,!1)},WebInspector.ProfilesSidebarTreeElement.prototype={onselect:function(){this._panel._showLauncherView()},get selectable(){return!0},__proto__:WebInspector.SidebarTreeElement.prototype},WebInspector.ProfileDataGridNode=function(a,b,c){this.profileNode=a,WebInspector.DataGridNode.call(this,null,c),this.tree=b,this.childrenByCallUID={},this.lastComparator=null,this.callUID=a.callUID,this.selfTime=a.selfTime,this.totalTime=a.totalTime,this.functionName=a.functionName,this._deoptReason=a.deoptReason&&"no reason"!==a.deoptReason?a.deoptReason:"",this.url=a.url},WebInspector.ProfileDataGridNode.prototype={get data(){function a(a){return WebInspector.UIString("%.1f ms",a)}var b={};if(this._deoptReason){var c=document.createDocumentFragment(),d=c.createChild("span","profile-warn-marker");d.title=WebInspector.UIString("Not optimized: %s",this._deoptReason),c.createTextChild(this.functionName),b["function"]=c}else b["function"]=this.functionName;return b.self=this.tree.profileView.showSelfTimeAsPercent.get()?WebInspector.UIString("%.2f%",this.selfPercent):a(this.selfTime),b.total=this.tree.profileView.showTotalTimeAsPercent.get()?WebInspector.UIString("%.2f%",this.totalPercent):a(this.totalTime),b},createCell:function(a){var b=WebInspector.DataGridNode.prototype.createCell.call(this,a);if("self"===a&&this._searchMatchedSelfColumn?b.classList.add("highlight"):"total"===a&&this._searchMatchedTotalColumn&&b.classList.add("highlight"),"function"!==a)return b;if(this._deoptReason&&b.classList.add("not-optimized"),this.profileNode._searchMatchedFunctionColumn&&b.classList.add("highlight"),"0"!==this.profileNode.scriptId){var c=this.profileNode.lineNumber?this.profileNode.lineNumber-1:0,d=this.profileNode.columnNumber?this.profileNode.columnNumber-1:0,e=new WebInspector.DebuggerModel.Location(this.profileNode.scriptId,c,d),f=this.tree.profileView._linkifier.linkifyRawLocation(e,"profile-node-file");f||(f=this.tree.profileView._linkifier.linkifyLocation(this.profileNode.url,c,d,"profile-node-file")),f.style.maxWidth="75%",b.insertBefore(f,b.firstChild)
}return b},select:function(a){WebInspector.DataGridNode.prototype.select.call(this,a),this.tree.profileView._dataGridNodeSelected(this)},deselect:function(a){WebInspector.DataGridNode.prototype.deselect.call(this,a),this.tree.profileView._dataGridNodeDeselected(this)},sort:function(a,b){for(var c=[[this]],d=0;d<c.length;++d)for(var e=c[d],f=e.length,g=0;f>g;++g){var h=e[g];if(b||h.expanded&&h.lastComparator!==a){h.lastComparator=a;var i=h.children,j=i.length;if(j){i.sort(a);for(var k=0;j>k;++k)i[k]._recalculateSiblings(k);c.push(i)}}else h.children.length&&(h.shouldRefreshChildren=!0)}},insertChild:function(a,b){WebInspector.DataGridNode.prototype.insertChild.call(this,a,b),this.childrenByCallUID[a.callUID]=a},removeChild:function(a){WebInspector.DataGridNode.prototype.removeChild.call(this,a),delete this.childrenByCallUID[a.callUID]},removeChildren:function(){WebInspector.DataGridNode.prototype.removeChildren.call(this),this.childrenByCallUID={}},findChild:function(a){return a?this.childrenByCallUID[a.callUID]:null},get selfPercent(){return this.selfTime/this.tree.totalTime*100},get totalPercent(){return this.totalTime/this.tree.totalTime*100},get _parent(){return this.parent!==this.dataGrid?this.parent:this.tree},populate:function(){if(!this._populated){this._populated=!0,this._sharedPopulate();var a=this.tree.lastComparator;a&&this.sort(a,!0)}},_save:function(){this._savedChildren||(this._savedSelfTime=this.selfTime,this._savedTotalTime=this.totalTime,this._savedChildren=this.children.slice())},_restore:function(){if(this._savedChildren){this.selfTime=this._savedSelfTime,this.totalTime=this._savedTotalTime,this.removeChildren();for(var a=this._savedChildren,b=a.length,c=0;b>c;++c)a[c]._restore(),this.appendChild(a[c])}},_merge:function(a,b){this.selfTime+=a.selfTime,b||(this.totalTime+=a.totalTime);var c=this.children.slice();this.removeChildren();for(var d=c.length,e=0;d>e;++e)b&&c[e]===a||this.appendChild(c[e]);c=a.children.slice(),d=c.length;for(var e=0;d>e;++e){var f=c[e],g=this.childrenByCallUID[f.callUID];g?g._merge(f,!1):this.appendChild(f)}},__proto__:WebInspector.DataGridNode.prototype},WebInspector.ProfileDataGridTree=function(a,b){this.tree=this,this.children=[],this.profileView=a,this.totalTime=b.totalTime,this.lastComparator=null,this.childrenByCallUID={}},WebInspector.ProfileDataGridTree.prototype={get expanded(){return!0},appendChild:function(a){this.insertChild(a,this.children.length)},insertChild:function(a,b){this.children.splice(b,0,a),this.childrenByCallUID[a.callUID]=a},removeChildren:function(){this.children=[],this.childrenByCallUID={}},findChild:WebInspector.ProfileDataGridNode.prototype.findChild,sort:WebInspector.ProfileDataGridNode.prototype.sort,_save:function(){this._savedChildren||(this._savedTotalTime=this.totalTime,this._savedChildren=this.children.slice())},restore:function(){if(this._savedChildren){this.children=this._savedChildren,this.totalTime=this._savedTotalTime;for(var a=this.children,b=a.length,c=0;b>c;++c)a[c]._restore();this._savedChildren=null}}},WebInspector.ProfileDataGridTree.propertyComparators=[{},{}],WebInspector.ProfileDataGridTree.propertyComparator=function(a,b){var c=WebInspector.ProfileDataGridTree.propertyComparators[b?1:0][a];return c||(c=b?function(b,c){return b[a]<c[a]?-1:b[a]>c[a]?1:0}:function(b,c){return b[a]>c[a]?-1:b[a]<c[a]?1:0},WebInspector.ProfileDataGridTree.propertyComparators[b?1:0][a]=c),c},WebInspector.BottomUpProfileDataGridNode=function(a,b){WebInspector.ProfileDataGridNode.call(this,a,b,this._willHaveChildren(a)),this._remainingNodeInfos=[]},WebInspector.BottomUpProfileDataGridNode.prototype={_takePropertiesFromProfileDataGridNode:function(a){this._save(),this.selfTime=a.selfTime,this.totalTime=a.totalTime},_keepOnlyChild:function(a){this._save(),this.removeChildren(),this.appendChild(a)},_exclude:function(a){this._remainingNodeInfos&&this.populate(),this._save();for(var b=this.children,c=this.children.length;c--;)b[c]._exclude(a);var d=this.childrenByCallUID[a];d&&this._merge(d,!0)},_restore:function(){WebInspector.ProfileDataGridNode.prototype._restore(),this.children.length||(this.hasChildren=this._willHaveChildren(this.profileNode))},_merge:function(a,b){this.selfTime-=a.selfTime,WebInspector.ProfileDataGridNode.prototype._merge.call(this,a,b)},_sharedPopulate:function(){for(var a=this._remainingNodeInfos,b=a.length,c=0;b>c;++c){var d=a[c],e=d.ancestor,f=d.focusNode,g=this.findChild(e);if(g){var h=d.totalTimeAccountedFor;g.selfTime+=f.selfTime,h||(g.totalTime+=f.totalTime)}else g=new WebInspector.BottomUpProfileDataGridNode(e,this.tree),e!==f&&(g.selfTime=f.selfTime,g.totalTime=f.totalTime),this.appendChild(g);var i=e.parent;i&&i.parent&&(d.ancestor=i,g._remainingNodeInfos.push(d))}delete this._remainingNodeInfos},_willHaveChildren:function(a){return!(!a.parent||!a.parent.parent)},__proto__:WebInspector.ProfileDataGridNode.prototype},WebInspector.BottomUpProfileDataGridTree=function(a,b){WebInspector.ProfileDataGridTree.call(this,a,b);var c=0,d=[[],[b]],e={};this._remainingNodeInfos=[];for(var f=0;f<d.length;++f)for(var g=d[f],h=d[++f],i=h.length,j=0;i>j;++j){var k=h[j];if(k.UID||(k.UID=++c),k.head&&k!==k.head){var l=e[k.callUID],m=!1;if(l){for(var n=g.length,o=0;n>o;++o)if(l[g[o].UID]){m=!0;break}}else l={},e[k.callUID]=l;l[k.UID]=!0,this._remainingNodeInfos.push({ancestor:k,focusNode:k,totalTimeAccountedFor:m})}var p=k.children;p.length&&(d.push(g.concat([k])),d.push(p))}var q=this,r=q;return WebInspector.BottomUpProfileDataGridNode.prototype.populate.call(r),this},WebInspector.BottomUpProfileDataGridTree.prototype={focus:function(a){if(a){this._save();for(var b=a,c=a;b.parent&&b instanceof WebInspector.ProfileDataGridNode;)b._takePropertiesFromProfileDataGridNode(a),c=b,b=b.parent,b instanceof WebInspector.ProfileDataGridNode&&b._keepOnlyChild(c);this.children=[c],this.totalTime=a.totalTime}},exclude:function(a){if(a){this._save();var b=a.callUID,c=this.childrenByCallUID[b];c&&this.children.remove(c);for(var d=this.children,e=d.length,f=0;e>f;++f)d[f]._exclude(b);this.lastComparator&&this.sort(this.lastComparator,!0)}},_sharedPopulate:WebInspector.BottomUpProfileDataGridNode.prototype._sharedPopulate,__proto__:WebInspector.ProfileDataGridTree.prototype},WebInspector.CPUProfileFlameChart=function(a){WebInspector.VBox.call(this),this.registerRequiredCSS("flameChart.css"),this.element.id="cpu-flame-chart",this._overviewPane=new WebInspector.CPUProfileFlameChart.OverviewPane(a),this._overviewPane.show(this.element),this._mainPane=new WebInspector.FlameChart(a,this._overviewPane,!0,!1),this._mainPane.show(this.element),this._mainPane.addEventListener(WebInspector.FlameChart.Events.EntrySelected,this._onEntrySelected,this),this._overviewPane._overviewGrid.addEventListener(WebInspector.OverviewGrid.Events.WindowChanged,this._onWindowChanged,this)},WebInspector.CPUProfileFlameChart.prototype={_onWindowChanged:function(){this._mainPane.changeWindow(this._overviewPane._overviewGrid.windowLeft(),this._overviewPane._overviewGrid.windowRight())},selectRange:function(a,b){this._overviewPane._selectRange(a,b)},_onEntrySelected:function(a){this.dispatchEventToListeners(WebInspector.FlameChart.Events.EntrySelected,a.data)},update:function(){this._overviewPane.update(),this._mainPane.update()},__proto__:WebInspector.VBox.prototype},WebInspector.CPUProfileFlameChart.OverviewCalculator=function(){},WebInspector.CPUProfileFlameChart.OverviewCalculator.prototype={paddingLeft:function(){return 0},_updateBoundaries:function(a){this._minimumBoundaries=0;var b=a._dataProvider.totalTime();this._maximumBoundaries=b,this._xScaleFactor=a._overviewCanvas.width/b},computePosition:function(a){return(a-this._minimumBoundaries)*this._xScaleFactor},formatTime:function(a){return Number.secondsToString((a+this._minimumBoundaries)/1e3)},maximumBoundary:function(){return this._maximumBoundaries},minimumBoundary:function(){return this._minimumBoundaries},zeroTime:function(){return this._minimumBoundaries},boundarySpan:function(){return this._maximumBoundaries-this._minimumBoundaries}},WebInspector.CPUProfileFlameChart.ColorGenerator=function(){this._colors={},this._currentColorIndex=0},WebInspector.CPUProfileFlameChart.ColorGenerator.prototype={setColorForID:function(a,b){this._colors[a]=b},colorForID:function(a,b){"number"!=typeof b&&(b=100);var c=this._colors[a];return c||(c=this._createColor(this._currentColorIndex++,b),this._colors[a]=c),c},_createColor:function(a,b){var c=(7*a+12*(a%2))%360;return"hsla("+c+", "+b+"%, 66%, 0.7)"}},WebInspector.CPUProfileFlameChart.OverviewPane=function(a){WebInspector.VBox.call(this),this.element.classList.add("flame-chart-overview-pane"),this._overviewContainer=this.element.createChild("div","overview-container"),this._overviewGrid=new WebInspector.OverviewGrid("flame-chart"),this._overviewGrid.element.classList.add("fill"),this._overviewCanvas=this._overviewContainer.createChild("canvas","flame-chart-overview-canvas"),this._overviewContainer.appendChild(this._overviewGrid.element),this._overviewCalculator=new WebInspector.CPUProfileFlameChart.OverviewCalculator,this._dataProvider=a},WebInspector.CPUProfileFlameChart.OverviewPane.prototype={requestWindowTimes:function(a,b){this._overviewGrid.setWindow(a/this._dataProvider.totalTime(),b/this._dataProvider.totalTime())},_selectRange:function(a,b){this._overviewGrid.setWindow(a/this._dataProvider.totalTime(),b/this._dataProvider.totalTime())},_timelineData:function(){return this._dataProvider.timelineData()},onResize:function(){this._scheduleUpdate()},_scheduleUpdate:function(){this._updateTimerId||(this._updateTimerId=requestAnimationFrame(this.update.bind(this)))},update:function(){this._updateTimerId=0;var a=this._timelineData();a&&(this._resetCanvas(this._overviewContainer.clientWidth,this._overviewContainer.clientHeight-WebInspector.FlameChart.DividersBarHeight),this._overviewCalculator._updateBoundaries(this),this._overviewGrid.updateDividers(this._overviewCalculator),WebInspector.CPUProfileFlameChart.OverviewPane.drawOverviewCanvas(this._dataProvider,a,this._overviewCanvas.getContext("2d"),this._overviewContainer.clientWidth,this._overviewContainer.clientHeight-WebInspector.FlameChart.DividersBarHeight))},_resetCanvas:function(a,b){var c=window.devicePixelRatio;this._overviewCanvas.width=a*c,this._overviewCanvas.height=b*c},__proto__:WebInspector.VBox.prototype},WebInspector.CPUProfileFlameChart.OverviewPane.calculateDrawData=function(a,b,c){for(var d=b.entryOffsets,e=b.entryTotalTimes,f=b.entryLevels,g=d.length,h=new Uint8Array(c),i=c/a.totalTime(),j=0;g>j;++j)for(var k=Math.floor(d[j]*i),l=Math.floor((d[j]+e[j])*i),m=k;l>=m;++m)h[m]=Math.max(h[m],f[j]+1);return h},WebInspector.CPUProfileFlameChart.OverviewPane.drawOverviewCanvas=function(a,b,c,d,e){var f=window.devicePixelRatio,g=d*f,h=e*f,i=WebInspector.CPUProfileFlameChart.OverviewPane.calculateDrawData(a,b,g);if(i){var j=h/(1.1*a.maxStackDepth());c.lineWidth=1,c.translate(.5,.5),c.strokeStyle="rgba(20,0,0,0.4)",c.fillStyle="rgba(214,225,254,0.8)",c.moveTo(-1,h-1),c.lineTo(-1,Math.round(h-i[0]*j-1));for(var k,l=0;g>l;++l)k=Math.round(h-i[l]*j-1),c.lineTo(l,k);c.lineTo(g+1,k),c.lineTo(g+1,h-1),c.fill(),c.stroke(),c.closePath()}},WebInspector.CPUProfileView=function(a){WebInspector.VBox.call(this),this.element.classList.add("cpu-profile-view"),this.showSelfTimeAsPercent=WebInspector.settings.createSetting("cpuProfilerShowSelfTimeAsPercent",!0),this.showTotalTimeAsPercent=WebInspector.settings.createSetting("cpuProfilerShowTotalTimeAsPercent",!0),this.showAverageTimeAsPercent=WebInspector.settings.createSetting("cpuProfilerShowAverageTimeAsPercent",!0),this._viewType=WebInspector.settings.createSetting("cpuProfilerView",WebInspector.CPUProfileView._TypeFlame);var b=[];b.push({id:"self",title:WebInspector.UIString("Self"),width:"72px",sort:WebInspector.DataGrid.Order.Descending,sortable:!0}),b.push({id:"total",title:WebInspector.UIString("Total"),width:"72px",sortable:!0}),b.push({id:"function",title:WebInspector.UIString("Function"),disclosure:!0,sortable:!0}),this.dataGrid=new WebInspector.DataGrid(b),this.dataGrid.addEventListener(WebInspector.DataGrid.Events.SortingChanged,this._sortProfile,this),this.dataGrid.element.addEventListener("mousedown",this._mouseDownInDataGrid.bind(this),!0),this.dataGrid.show(this.element),this.viewSelectComboBox=new WebInspector.StatusBarComboBox(this._changeView.bind(this));var c={};c[WebInspector.CPUProfileView._TypeFlame]=this.viewSelectComboBox.createOption(WebInspector.UIString("Chart"),"",WebInspector.CPUProfileView._TypeFlame),c[WebInspector.CPUProfileView._TypeHeavy]=this.viewSelectComboBox.createOption(WebInspector.UIString("Heavy (Bottom Up)"),"",WebInspector.CPUProfileView._TypeHeavy),c[WebInspector.CPUProfileView._TypeTree]=this.viewSelectComboBox.createOption(WebInspector.UIString("Tree (Top Down)"),"",WebInspector.CPUProfileView._TypeTree);var d=this._viewType.get()||WebInspector.CPUProfileView._TypeFlame,e=c[d]||c[WebInspector.CPUProfileView._TypeFlame];this.viewSelectComboBox.select(e),this._statusBarButtonsElement=document.createElement("span"),this.percentButton=new WebInspector.StatusBarButton("","percent-time-status-bar-item"),this.percentButton.addEventListener("click",this._percentClicked,this),this._statusBarButtonsElement.appendChild(this.percentButton.element),this.focusButton=new WebInspector.StatusBarButton(WebInspector.UIString("Focus selected function."),"focus-profile-node-status-bar-item"),this.focusButton.setEnabled(!1),this.focusButton.addEventListener("click",this._focusClicked,this),this._statusBarButtonsElement.appendChild(this.focusButton.element),this.excludeButton=new WebInspector.StatusBarButton(WebInspector.UIString("Exclude selected function."),"exclude-profile-node-status-bar-item"),this.excludeButton.setEnabled(!1),this.excludeButton.addEventListener("click",this._excludeClicked,this),this._statusBarButtonsElement.appendChild(this.excludeButton.element),this.resetButton=new WebInspector.StatusBarButton(WebInspector.UIString("Restore all functions."),"reset-profile-status-bar-item"),this.resetButton.visible=!1,this.resetButton.addEventListener("click",this._resetClicked,this),this._statusBarButtonsElement.appendChild(this.resetButton.element),this.profileHead=null,this.profile=a,this._linkifier=new WebInspector.Linkifier(new WebInspector.Linkifier.DefaultFormatter(30)),this._processProfileData(this.profile._profile?this.profile._profile:this.profile.protocolProfile())},WebInspector.CPUProfileView._TypeFlame="Flame",WebInspector.CPUProfileView._TypeTree="Tree",WebInspector.CPUProfileView._TypeHeavy="Heavy",WebInspector.CPUProfileView.prototype={selectRange:function(a,b){this._flameChart&&this._flameChart.selectRange(a,b)},_processProfileData:function(a){this.profileHead=a.head,this.samples=a.samples,this._calculateTimes(a),this._assignParentsInProfile(),this.samples&&this._buildIdToNodeMap(),this._changeView(),this._updatePercentButton(),this._flameChart&&this._flameChart.update()},get statusBarItems(){return[this.viewSelectComboBox.element,this._statusBarButtonsElement]},_getBottomUpProfileDataGridTree:function(){return this._bottomUpProfileDataGridTree||(this._bottomUpProfileDataGridTree=new WebInspector.BottomUpProfileDataGridTree(this,this.profileHead)),this._bottomUpProfileDataGridTree},_getTopDownProfileDataGridTree:function(){return this._topDownProfileDataGridTree||(this._topDownProfileDataGridTree=new WebInspector.TopDownProfileDataGridTree(this,this.profileHead)),this._topDownProfileDataGridTree},willHide:function(){this._currentSearchResultIndex=-1},refresh:function(){var a=this.dataGrid.selectedNode?this.dataGrid.selectedNode.profileNode:null;this.dataGrid.rootNode().removeChildren();for(var b=this.profileDataGridTree.children,c=b.length,d=0;c>d;++d)this.dataGrid.rootNode().appendChild(b[d]);a&&(a.selected=!0)},refreshVisibleData:function(){for(var a=this.dataGrid.rootNode().children[0];a;)a.refresh(),a=a.traverseNextNode(!1,null,!0)},refreshShowAsPercents:function(){this._updatePercentButton(),this.refreshVisibleData()},searchCanceled:function(){if(this._searchResults)for(var a=0;a<this._searchResults.length;++a){var b=this._searchResults[a].profileNode;delete b._searchMatchedSelfColumn,delete b._searchMatchedTotalColumn,delete b._searchMatchedFunctionColumn,b.refresh()}delete this._searchFinishedCallback,this._currentSearchResultIndex=-1,this._searchResults=[]},performSearch:function(a,b){function c(a){return delete a._searchMatchedSelfColumn,delete a._searchMatchedTotalColumn,delete a._searchMatchedFunctionColumn,g?(e?(a.selfPercent<j&&(a._searchMatchedSelfColumn=!0),a.totalPercent<j&&(a._searchMatchedTotalColumn=!0)):d&&(a.selfPercent>j&&(a._searchMatchedSelfColumn=!0),a.totalPercent>j&&(a._searchMatchedTotalColumn=!0)),f&&(a.selfPercent==j&&(a._searchMatchedSelfColumn=!0),a.totalPercent==j&&(a._searchMatchedTotalColumn=!0))):(h||i)&&(e?(a.selfTime<k&&(a._searchMatchedSelfColumn=!0),a.totalTime<k&&(a._searchMatchedTotalColumn=!0)):d&&(a.selfTime>k&&(a._searchMatchedSelfColumn=!0),a.totalTime>k&&(a._searchMatchedTotalColumn=!0)),f&&(a.selfTime==k&&(a._searchMatchedSelfColumn=!0),a.totalTime==k&&(a._searchMatchedTotalColumn=!0))),(a.functionName.match(l)||a.url&&a.url.match(l))&&(a._searchMatchedFunctionColumn=!0),a._searchMatchedSelfColumn||a._searchMatchedTotalColumn||a._searchMatchedFunctionColumn?(a.refresh(),!0):!1}if(this.searchCanceled(),a=a.trim(),a.length){this._searchFinishedCallback=b;var d=a.startsWith(">"),e=a.startsWith("<"),f=a.startsWith("=")||(d||e)&&1===a.indexOf("="),g=a.lastIndexOf("%")===a.length-1,h=a.length>2&&a.lastIndexOf("ms")===a.length-2,i=!h&&a.lastIndexOf("s")===a.length-1,j=parseFloat(a);(d||e||f)&&(j=parseFloat(f&&(d||e)?a.substring(2):a.substring(1)));var k=i?1e3*j:j;isNaN(j)||d||e||(f=!0);for(var l=createPlainTextSearchRegex(a,"i"),m=this.profileDataGridTree.children[0];m;)c(m)&&this._searchResults.push({profileNode:m}),m=m.traverseNextNode(!1,null,!1);b(this,this._searchResults.length)}},jumpToFirstSearchResult:function(){this._searchResults&&this._searchResults.length&&(this._currentSearchResultIndex=0,this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToLastSearchResult:function(){this._searchResults&&this._searchResults.length&&(this._currentSearchResultIndex=this._searchResults.length-1,this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToNextSearchResult:function(){this._searchResults&&this._searchResults.length&&(++this._currentSearchResultIndex>=this._searchResults.length&&(this._currentSearchResultIndex=0),this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToPreviousSearchResult:function(){this._searchResults&&this._searchResults.length&&(--this._currentSearchResultIndex<0&&(this._currentSearchResultIndex=this._searchResults.length-1),this._jumpToSearchResult(this._currentSearchResultIndex))},showingFirstSearchResult:function(){return 0===this._currentSearchResultIndex},showingLastSearchResult:function(){return this._searchResults&&this._currentSearchResultIndex===this._searchResults.length-1},currentSearchResultIndex:function(){return this._currentSearchResultIndex},_jumpToSearchResult:function(a){var b=this._searchResults[a];if(b){var c=b.profileNode;c.revealAndSelect()}},_ensureFlameChartCreated:function(){this._flameChart||(this._dataProvider=new WebInspector.CPUFlameChartDataProvider(this),this._flameChart=new WebInspector.CPUProfileFlameChart(this._dataProvider),this._flameChart.addEventListener(WebInspector.FlameChart.Events.EntrySelected,this._onEntrySelected.bind(this)))},_onEntrySelected:function(a){var b=a.data,c=this._dataProvider._entryNodes[b];if(c&&c.scriptId){var d=WebInspector.debuggerModel.scriptForId(c.scriptId);d&&WebInspector.Revealer.reveal(d.rawLocationToUILocation(c.lineNumber))}},_changeView:function(){if(this.profile){switch(this.viewSelectComboBox.selectedOption().value){case WebInspector.CPUProfileView._TypeFlame:return this._ensureFlameChartCreated(),this.dataGrid.detach(),this._flameChart.show(this.element),this._viewType.set(WebInspector.CPUProfileView._TypeFlame),void this._statusBarButtonsElement.classList.toggle("hidden",!0);case WebInspector.CPUProfileView._TypeTree:this.profileDataGridTree=this._getTopDownProfileDataGridTree(),this._sortProfile(),this._viewType.set(WebInspector.CPUProfileView._TypeTree);break;case WebInspector.CPUProfileView._TypeHeavy:this.profileDataGridTree=this._getBottomUpProfileDataGridTree(),this._sortProfile(),this._viewType.set(WebInspector.CPUProfileView._TypeHeavy)}this._statusBarButtonsElement.classList.toggle("hidden",!1),this._flameChart&&this._flameChart.detach(),this.dataGrid.show(this.element),this.currentQuery&&this._searchFinishedCallback&&this._searchResults&&(this._searchFinishedCallback(this,-this._searchResults.length),this.performSearch(this.currentQuery,this._searchFinishedCallback))}},_percentClicked:function(){var a=this.showSelfTimeAsPercent.get()&&this.showTotalTimeAsPercent.get()&&this.showAverageTimeAsPercent.get();this.showSelfTimeAsPercent.set(!a),this.showTotalTimeAsPercent.set(!a),this.showAverageTimeAsPercent.set(!a),this.refreshShowAsPercents()},_updatePercentButton:function(){this.showSelfTimeAsPercent.get()&&this.showTotalTimeAsPercent.get()&&this.showAverageTimeAsPercent.get()?(this.percentButton.title=WebInspector.UIString("Show absolute total and self times."),this.percentButton.toggled=!0):(this.percentButton.title=WebInspector.UIString("Show total and self times as percentages."),this.percentButton.toggled=!1)},_focusClicked:function(){this.dataGrid.selectedNode&&(this.resetButton.visible=!0,this.profileDataGridTree.focus(this.dataGrid.selectedNode),this.refresh(),this.refreshVisibleData())},_excludeClicked:function(){var a=this.dataGrid.selectedNode;a&&(a.deselect(),this.resetButton.visible=!0,this.profileDataGridTree.exclude(a),this.refresh(),this.refreshVisibleData())},_resetClicked:function(){this.resetButton.visible=!1,this.profileDataGridTree.restore(),this._linkifier.reset(),this.refresh(),this.refreshVisibleData()},_dataGridNodeSelected:function(){this.focusButton.setEnabled(!0),this.excludeButton.setEnabled(!0)},_dataGridNodeDeselected:function(){this.focusButton.setEnabled(!1),this.excludeButton.setEnabled(!1)},_sortProfile:function(){var a=this.dataGrid.isSortOrderAscending(),b=this.dataGrid.sortColumnIdentifier(),c={self:"selfTime",total:"totalTime","function":"functionName"}[b];this.profileDataGridTree.sort(WebInspector.ProfileDataGridTree.propertyComparator(c,a)),this.refresh()},_mouseDownInDataGrid:function(a){if(!(a.detail<2)){var b=a.target.enclosingNodeOrSelfWithNodeName("td");b&&(b.classList.contains("total-column")||b.classList.contains("self-column")||b.classList.contains("average-column"))&&(b.classList.contains("total-column")?this.showTotalTimeAsPercent.set(!this.showTotalTimeAsPercent.get()):b.classList.contains("self-column")?this.showSelfTimeAsPercent.set(!this.showSelfTimeAsPercent.get()):b.classList.contains("average-column")&&this.showAverageTimeAsPercent.set(!this.showAverageTimeAsPercent.get()),this.refreshShowAsPercents(),a.consume(!0))}},_calculateTimes:function(a){function b(a){for(var c=a.hitCount,d=0;d<a.children.length;d++)c+=b(a.children[d]);return c}function c(a){a.selfTime=a.hitCount*e;for(var b=a.hitCount,d=0;d<a.children.length;d++)b+=c(a.children[d]);return a.totalTime=b*e,b}a.totalHitCount=b(a.head);var d=1e3*(a.endTime-a.startTime),e=d/a.totalHitCount;this.samplingIntervalMs=e,c(a.head)},_assignParentsInProfile:function(){var a=this.profileHead;a.parent=null,a.head=null;for(var b=[a];b.length;)for(var c=b.pop(),d=c.children,e=d.length,f=0;e>f;++f){var g=d[f];g.head=a,g.parent=c,g.children.length&&b.push(g)}},_buildIdToNodeMap:function(){for(var a=this._idToNode={},b=[this.profileHead];b.length;){var c=b.pop();a[c.id]=c;for(var d=0;d<c.children.length;d++)b.push(c.children[d])}for(var e=this.profileHead.children,d=0;d<e.length;d++){var c=e[d];if("(garbage collector)"===c.functionName){this._gcNode=c;break}}},__proto__:WebInspector.VBox.prototype},WebInspector.CPUProfileType=function(){WebInspector.ProfileType.call(this,WebInspector.CPUProfileType.TypeId,WebInspector.UIString("Collect JavaScript CPU Profile")),this._recording=!1,this._nextAnonymousConsoleProfileNumber=1,this._anonymousConsoleProfileIdToTitle={},WebInspector.CPUProfileType.instance=this},WebInspector.CPUProfileType.TypeId="CPU",WebInspector.CPUProfileType.prototype={fileExtension:function(){return".cpuprofile"},get buttonTooltip(){return WebInspector.UIString(this._recording?"Stop CPU profiling.":"Start CPU profiling.")},buttonClicked:function(){return this._recording?(this.stopRecordingProfile(),!1):(this.startRecordingProfile(),!0)},get treeItemTitle(){return WebInspector.UIString("CPU PROFILES")},get description(){return WebInspector.UIString("CPU profiles show where the execution time is spent in your page's JavaScript functions.")},consoleProfileStarted:function(a,b,c){var d=c;d||(d=WebInspector.UIString("Profile %s",this._nextAnonymousConsoleProfileNumber++),this._anonymousConsoleProfileIdToTitle[a]=d),this._addMessageToConsole(WebInspector.ConsoleMessage.MessageType.Profile,b,WebInspector.UIString("Profile '%s' started.",d))},consoleProfileFinished:function(a,b,c,d){var e=d;"undefined"==typeof d&&(e=this._anonymousConsoleProfileIdToTitle[a],delete this._anonymousConsoleProfileIdToTitle[a]);var f=new WebInspector.CPUProfileHeader(this,e);f.setProtocolProfile(c),this.addProfile(f),this._addMessageToConsole(WebInspector.ConsoleMessage.MessageType.ProfileEnd,b,WebInspector.UIString("Profile '%s' finished.",e))},_addMessageToConsole:function(a,b,c){var d=WebInspector.debuggerModel.scriptForId(b.scriptId),e=new WebInspector.ConsoleMessage(WebInspector.ConsoleMessage.MessageSource.ConsoleAPI,WebInspector.ConsoleMessage.MessageLevel.Debug,c,a,void 0,void 0,void 0,void 0,void 0,[{functionName:"",scriptId:b.scriptId,url:d?d.contentURL():"",lineNumber:b.lineNumber,columnNumber:b.columnNumber||0}]);WebInspector.console.addMessage(e)},isRecordingProfile:function(){return this._recording},startRecordingProfile:function(){this._profileBeingRecorded||(this._profileBeingRecorded=new WebInspector.CPUProfileHeader(this),this.addProfile(this._profileBeingRecorded),this._profileBeingRecorded.updateStatus(WebInspector.UIString("Recording…")),this._recording=!0,WebInspector.cpuProfilerModel.setRecording(!0),WebInspector.userMetrics.ProfilesCPUProfileTaken.record(),ProfilerAgent.start())},stopRecordingProfile:function(){function a(a,b){if(this._profileBeingRecorded){this._profileBeingRecorded.setProtocolProfile(b),this._profileBeingRecorded.updateStatus("");var c=this._profileBeingRecorded;this._profileBeingRecorded=null,WebInspector.panels.profiles.showProfile(c)}}this._recording=!1,WebInspector.cpuProfilerModel.setRecording(!1),ProfilerAgent.stop(a.bind(this))},createProfileLoadedFromFile:function(a){return new WebInspector.CPUProfileHeader(this,a)},profileBeingRecordedRemoved:function(){this.stopRecordingProfile()},__proto__:WebInspector.ProfileType.prototype},WebInspector.CPUProfileHeader=function(a,b){WebInspector.ProfileHeader.call(this,a,b||WebInspector.UIString("Profile %d",a._nextProfileUid)),this._tempFile=null},WebInspector.CPUProfileHeader.prototype={onTransferStarted:function(){this._jsonifiedProfile="",this.updateStatus(WebInspector.UIString("Loading… %s",Number.bytesToString(this._jsonifiedProfile.length)),!0)},onChunkTransferred:function(){this.updateStatus(WebInspector.UIString("Loading… %d%",Number.bytesToString(this._jsonifiedProfile.length)))},onTransferFinished:function(){this.updateStatus(WebInspector.UIString("Parsing…"),!0),this._profile=JSON.parse(this._jsonifiedProfile),this._jsonifiedProfile=null,this.updateStatus(WebInspector.UIString("Loaded"),!1),this._profileType._profileBeingRecorded===this&&(this._profileType._profileBeingRecorded=null)},onError:function(a,b){var c;switch(b.target.error.code){case b.target.error.NOT_FOUND_ERR:c=WebInspector.UIString("'%s' not found.",a.fileName());break;case b.target.error.NOT_READABLE_ERR:c=WebInspector.UIString("'%s' is not readable",a.fileName());break;case b.target.error.ABORT_ERR:return;default:c=WebInspector.UIString("'%s' error %d",a.fileName(),b.target.error.code)}this.updateStatus(c)},write:function(a){this._jsonifiedProfile+=a},close:function(){},dispose:function(){this.removeTempFile()},createSidebarTreeElement:function(){return new WebInspector.ProfileSidebarTreeElement(this,"profile-sidebar-tree-item")},createView:function(){return new WebInspector.CPUProfileView(this)},canSaveToFile:function(){return!this.fromFile()&&this._protocolProfile},saveToFile:function(){function a(c){function d(a){a?b.write(a,b.close.bind(b)):b.close()}c&&(this._failedToCreateTempFile?(WebInspector.console.log("Failed to open temp file with heap snapshot",WebInspector.ConsoleMessage.MessageLevel.Error),b.close()):this._tempFile?this._tempFile.read(d):this._onTempFileReady=a.bind(this,c))}var b=new WebInspector.FileOutputStream;this._fileName=this._fileName||"CPU-"+(new Date).toISO8601Compact()+this._profileType.fileExtension(),b.open(this._fileName,a.bind(this))},loadFromFile:function(a){this.updateStatus(WebInspector.UIString("Loading…"),!0);var b=new WebInspector.ChunkedFileReader(a,1e7,this);b.start(this)},protocolProfile:function(){return this._protocolProfile},setProtocolProfile:function(a){this._protocolProfile=a,this._saveProfileDataToTempFile(a),this.canSaveToFile()&&this.dispatchEventToListeners(WebInspector.ProfileHeader.Events.ProfileReceived)},_saveProfileDataToTempFile:function(a){function b(a){this._writeToTempFile(a,c)}var c=JSON.stringify(a);new WebInspector.TempFile("cpu-profiler",this.uid,b.bind(this))},_writeToTempFile:function(a,b){function c(b){b||(this._failedToCreateTempFile=!0),a.finishWriting(),this._notifyTempFileReady()}return this._tempFile=a,a?void a.write(b,c.bind(this)):(this._failedToCreateTempFile=!0,void this._notifyTempFileReady())},_notifyTempFileReady:function(){this._onTempFileReady&&(this._onTempFileReady(),this._onTempFileReady=null)},__proto__:WebInspector.ProfileHeader.prototype},WebInspector.CPUProfileView.colorGenerator=function(){if(!WebInspector.CPUProfileView._colorGenerator){var a=new WebInspector.CPUProfileFlameChart.ColorGenerator;a.colorForID("(idle)::0",50),a.colorForID("(program)::0",50),a.colorForID("(garbage collector)::0",50),WebInspector.CPUProfileView._colorGenerator=a}return WebInspector.CPUProfileView._colorGenerator},WebInspector.CPUFlameChartDataProvider=function(a){WebInspector.FlameChartDataProvider.call(this),this._cpuProfileView=a,this._colorGenerator=WebInspector.CPUProfileView.colorGenerator()},WebInspector.CPUFlameChartDataProvider.prototype={barHeight:function(){return 15},textBaseline:function(){return 4},textPadding:function(){return 2},dividerOffsets:function(){return null},zeroTime:function(){return 0},totalTime:function(){return this._cpuProfileView.profileHead.totalTime},maxStackDepth:function(){return this._maxStackDepth},timelineData:function(){return this._timelineData||this._calculateTimelineData()},_calculateTimelineData:function(){function a(a,b,c,d){this.depth=a,this.duration=b,this.startTime=c,this.node=d,this.selfTime=0}if(!this._cpuProfileView.profileHead)return null;for(var b=this._cpuProfileView.samples,c=this._cpuProfileView._idToNode,d=this._cpuProfileView._gcNode,e=b.length,f=this._cpuProfileView.samplingIntervalMs,g=0,h=[],i=[],j=5,k=0,l=[],m=0;e>m;m++){var n=c[b[m]];for(i.length=0;n;)i.push(n),n=n.parent;i.pop(),j=Math.max(j,k),k=0,n=i.pop();var o;if(n===d){for(;k<h.length;)o=h[k].index,l[o].duration+=f,++k;if(h.length>0&&h.peekLast().node===n){l[o].selfTime+=f;continue}}for(;n&&k<h.length&&n===h[k].node;)o=h[k].index,l[o].duration+=f,n=i.pop(),++k;if(k<h.length&&(h.length=k),n){for(this._colorGenerator;n;)l.push(new a(k,f,m*f,n)),h.push({node:n,index:g}),++g,n=i.pop(),++k;l[l.length-1].selfTime+=f
}else l[o].selfTime+=f}for(var p=new Array(l.length),q=new Uint8Array(l.length),r=new Float32Array(l.length),s=new Float32Array(l.length),t=new Float32Array(l.length),u=0;u<l.length;++u){var v=l[u];p[u]=v.node,q[u]=v.depth,r[u]=v.duration,t[u]=v.startTime,s[u]=v.selfTime}return this._maxStackDepth=Math.max(j,k),this._timelineData={entryLevels:q,entryTotalTimes:r,entryOffsets:t},this._entryNodes=p,this._entrySelfTimes=s,this._timelineData},_millisecondsToString:function(a){return 0===a?"0":1e3>a?WebInspector.UIString("%.1f ms",a):Number.secondsToString(a/1e3,!0)},prepareHighlightedEntryInfo:function(a){function b(a,b){var c={};c.title=a,c.text=b,e.push(c)}var c=this._timelineData,d=this._entryNodes[a];if(!d)return null;var e=[];b(WebInspector.UIString("Name"),d.functionName);var f=this._millisecondsToString(this._entrySelfTimes[a]),g=this._millisecondsToString(c.entryTotalTimes[a]);b(WebInspector.UIString("Self time"),f),b(WebInspector.UIString("Total time"),g);var h=WebInspector.Linkifier.liveLocationText(d.scriptId,d.lineNumber,d.columnNumber);return b(WebInspector.UIString("URL"),h),b(WebInspector.UIString("Aggregated self time"),Number.secondsToString(d.selfTime/1e3,!0)),b(WebInspector.UIString("Aggregated total time"),Number.secondsToString(d.totalTime/1e3,!0)),d.deoptReason&&"no reason"!==d.deoptReason&&b(WebInspector.UIString("Not optimized"),d.deoptReason),e},canJumpToEntry:function(a){return"0"!==this._entryNodes[a].scriptId},entryTitle:function(a){var b=this._entryNodes[a];return b.functionName},entryFont:function(a){this._font||(this._font=this.barHeight()-4+"px "+WebInspector.fontFamily(),this._boldFont="bold "+this._font);var b=this._entryNodes[a],c=b.deoptReason;return c&&"no reason"!==c?this._boldFont:this._font},entryColor:function(a){var b=this._entryNodes[a];return this._colorGenerator.colorForID(b.functionName+":"+b.url+":"+b.lineNumber)},decorateEntry:function(){return!1},forceDecoration:function(){return!1},highlightTimeRange:function(a){var b=this._timelineData.entryOffsets[a];return{startTimeOffset:b,endTimeOffset:b+this._timelineData.entryTotalTimes[a]}},paddingLeft:function(){return 15},textColor:function(){return"#333"}},WebInspector.HeapSnapshotProgressEvent={Update:"ProgressUpdate"},WebInspector.HeapSnapshotCommon={},WebInspector.HeapSnapshotCommon.AllocationNodeCallers=function(a,b){this.nodesWithSingleCaller=a,this.branchingCallers=b},WebInspector.HeapSnapshotCommon.SerializedAllocationNode=function(a,b,c,d,e,f,g,h,i,j){this.id=a,this.name=b,this.scriptName=c,this.line=d,this.column=e,this.count=f,this.size=g,this.liveCount=h,this.liveSize=i,this.hasChildren=j},WebInspector.HeapSnapshotCommon.Aggregate=function(){this.count,this.distance,this.self,this.maxRet,this.type,this.name,this.idxs},WebInspector.HeapSnapshotCommon.AggregateForDiff=function(){this.indexes=[],this.ids=[],this.selfSizes=[]},WebInspector.HeapSnapshotCommon.Diff=function(){this.addedCount=0,this.removedCount=0,this.addedSize=0,this.removedSize=0,this.deletedIndexes=[],this.addedIndexes=[]},WebInspector.HeapSnapshotCommon.DiffForClass=function(){this.addedCount,this.removedCount,this.addedSize,this.removedSize,this.deletedIndexes,this.addedIndexes,this.countDelta,this.sizeDelta},WebInspector.HeapSnapshotCommon.ComparatorConfig=function(){this.fieldName1,this.ascending1,this.fieldName2,this.ascending2},WebInspector.HeapSnapshotCommon.WorkerCommand=function(){this.callId,this.disposition,this.objectId,this.newObjectId,this.methodName,this.methodArguments,this.source},WebInspector.HeapSnapshotCommon.ItemsRange=function(a,b,c,d){this.startPosition=a,this.endPosition=b,this.totalLength=c,this.items=d},WebInspector.HeapSnapshotCommon.StaticData=function(a,b,c,d){this.nodeCount=a,this.rootNodeIndex=b,this.totalSize=c,this.maxJSObjectId=d},WebInspector.HeapSnapshotCommon.Statistics=function(){this.total,this.v8heap,this.native,this.code,this.jsArrays,this.strings},WebInspector.HeapSnapshotCommon.NodeFilter=function(a,b){this.minNodeId=a,this.maxNodeId=b,this.allocationNodeId},WebInspector.HeapSnapshotCommon.NodeFilter.prototype={equals:function(a){return this.minNodeId===a.minNodeId&&this.maxNodeId===a.maxNodeId&&this.allocationNodeId===a.allocationNodeId}},WebInspector.HeapSnapshotWorkerProxy=function(a){this._eventHandler=a,this._nextObjectId=1,this._nextCallId=1,this._callbacks=[],this._previousCallbacks=[],this._worker=new Worker("HeapSnapshotWorker.js"),this._worker.onmessage=this._messageReceived.bind(this)},WebInspector.HeapSnapshotWorkerProxy.prototype={createLoader:function(a,b){var c=this._nextObjectId++,d=new WebInspector.HeapSnapshotLoaderProxy(this,c,a,b);return this._postMessage({callId:this._nextCallId++,disposition:"create",objectId:c,methodName:"WebInspector.HeapSnapshotLoader"}),d},dispose:function(){this._worker.terminate(),this._interval&&clearInterval(this._interval)},disposeObject:function(a){this._postMessage({callId:this._nextCallId++,disposition:"dispose",objectId:a})},evaluateForTest:function(a,b){var c=this._nextCallId++;this._callbacks[c]=b,this._postMessage({callId:c,disposition:"evaluateForTest",source:a})},callFactoryMethod:function(a,b,c,d){function e(b){a(b?new d(this,h):null)}var f=this._nextCallId++,g=Array.prototype.slice.call(arguments,4),h=this._nextObjectId++;return a?(this._callbacks[f]=e.bind(this),this._postMessage({callId:f,disposition:"factory",objectId:b,methodName:c,methodArguments:g,newObjectId:h}),null):(this._postMessage({callId:f,disposition:"factory",objectId:b,methodName:c,methodArguments:g,newObjectId:h}),new d(this,h))},callMethod:function(a,b,c){var d=this._nextCallId++,e=Array.prototype.slice.call(arguments,3);a&&(this._callbacks[d]=a),this._postMessage({callId:d,disposition:"method",objectId:b,methodName:c,methodArguments:e})},startCheckingForLongRunningCalls:function(){this._interval||(this._checkLongRunningCalls(),this._interval=setInterval(this._checkLongRunningCalls.bind(this),300))},_checkLongRunningCalls:function(){for(var a in this._previousCallbacks)a in this._callbacks||delete this._previousCallbacks[a];var b=!1;for(a in this._previousCallbacks){b=!0;break}this.dispatchEventToListeners("wait",b);for(a in this._callbacks)this._previousCallbacks[a]=!0},_messageReceived:function(a){var b=a.data;if(b.eventName)return void(this._eventHandler&&this._eventHandler(b.eventName,b.data));if(b.error)return b.errorMethodName&&WebInspector.console.log(WebInspector.UIString("An error happened when a call for method '%s' was requested",b.errorMethodName)),WebInspector.console.log(b.errorCallStack),void delete this._callbacks[b.callId];if(this._callbacks[b.callId]){var c=this._callbacks[b.callId];delete this._callbacks[b.callId],c(b.result)}},_postMessage:function(a){this._worker.postMessage(a)},__proto__:WebInspector.Object.prototype},WebInspector.HeapSnapshotProxyObject=function(a,b){this._worker=a,this._objectId=b},WebInspector.HeapSnapshotProxyObject.prototype={_callWorker:function(a,b){return b.splice(1,0,this._objectId),this._worker[a].apply(this._worker,b)},dispose:function(){this._worker.disposeObject(this._objectId)},disposeWorker:function(){this._worker.dispose()},callFactoryMethod:function(){return this._callWorker("callFactoryMethod",Array.prototype.slice.call(arguments,0))},callMethod:function(){return this._callWorker("callMethod",Array.prototype.slice.call(arguments,0))}},WebInspector.HeapSnapshotLoaderProxy=function(a,b,c,d){WebInspector.HeapSnapshotProxyObject.call(this,a,b),this._profileUid=c,this._snapshotReceivedCallback=d},WebInspector.HeapSnapshotLoaderProxy.prototype={write:function(a,b){this.callMethod(b,"write",a)},close:function(a){function b(){a&&a();var b=WebInspector.settings.showAdvancedHeapSnapshotProperties.get();this.callFactoryMethod(c.bind(this),"buildSnapshot",WebInspector.HeapSnapshotProxy,b)}function c(a){this.dispose(),a.setProfileUid(this._profileUid),a.updateStaticData(this._snapshotReceivedCallback.bind(this))}this.callMethod(b.bind(this),"close")},__proto__:WebInspector.HeapSnapshotProxyObject.prototype},WebInspector.HeapSnapshotProxy=function(a,b){WebInspector.HeapSnapshotProxyObject.call(this,a,b),this._staticData=null},WebInspector.HeapSnapshotProxy.prototype={aggregatesWithFilter:function(a,b){this.callMethod(b,"aggregatesWithFilter",a)},aggregatesForDiff:function(a){this.callMethod(a,"aggregatesForDiff")},calculateSnapshotDiff:function(a,b,c){this.callMethod(c,"calculateSnapshotDiff",a,b)},nodeClassName:function(a,b){this.callMethod(b,"nodeClassName",a)},dominatorIdsForNode:function(a,b){this.callMethod(b,"dominatorIdsForNode",a)},createEdgesProvider:function(a){return this.callFactoryMethod(null,"createEdgesProvider",WebInspector.HeapSnapshotProviderProxy,a)},createRetainingEdgesProvider:function(a){return this.callFactoryMethod(null,"createRetainingEdgesProvider",WebInspector.HeapSnapshotProviderProxy,a)},createAddedNodesProvider:function(a,b){return this.callFactoryMethod(null,"createAddedNodesProvider",WebInspector.HeapSnapshotProviderProxy,a,b)},createDeletedNodesProvider:function(a){return this.callFactoryMethod(null,"createDeletedNodesProvider",WebInspector.HeapSnapshotProviderProxy,a)},createNodesProvider:function(a){return this.callFactoryMethod(null,"createNodesProvider",WebInspector.HeapSnapshotProviderProxy,a)},createNodesProviderForClass:function(a,b){return this.callFactoryMethod(null,"createNodesProviderForClass",WebInspector.HeapSnapshotProviderProxy,a,b)},createNodesProviderForDominator:function(a){return this.callFactoryMethod(null,"createNodesProviderForDominator",WebInspector.HeapSnapshotProviderProxy,a)},allocationTracesTops:function(a){this.callMethod(a,"allocationTracesTops")},allocationNodeCallers:function(a,b){this.callMethod(b,"allocationNodeCallers",a)},dispose:function(){throw new Error("Should never be called")},get nodeCount(){return this._staticData.nodeCount},get rootNodeIndex(){return this._staticData.rootNodeIndex},updateStaticData:function(a){function b(b){this._staticData=b,a(this)}this.callMethod(b.bind(this),"updateStaticData")},getStatistics:function(a){this.callMethod(a,"getStatistics")},get totalSize(){return this._staticData.totalSize},get uid(){return this._profileUid},setProfileUid:function(a){this._profileUid=a},maxJSObjectId:function(){return this._staticData.maxJSObjectId},__proto__:WebInspector.HeapSnapshotProxyObject.prototype},WebInspector.HeapSnapshotProviderProxy=function(a,b){WebInspector.HeapSnapshotProxyObject.call(this,a,b)},WebInspector.HeapSnapshotProviderProxy.prototype={nodePosition:function(a,b){this.callMethod(b,"nodePosition",a)},isEmpty:function(a){this.callMethod(a,"isEmpty")},serializeItemsRange:function(a,b,c){this.callMethod(c,"serializeItemsRange",a,b)},sortAndRewind:function(a,b){this.callMethod(b,"sortAndRewind",a)},__proto__:WebInspector.HeapSnapshotProxyObject.prototype},WebInspector.HeapSnapshotSortableDataGrid=function(a){WebInspector.DataGrid.call(this,a),this._recursiveSortingDepth=0,this._highlightedNode=null,this._populatedAndSorted=!1,this._nameFilter="",this.addEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.SortingComplete,this._sortingComplete,this),this.addEventListener(WebInspector.DataGrid.Events.SortingChanged,this.sortingChanged,this)},WebInspector.HeapSnapshotSortableDataGrid.Events={ContentShown:"ContentShown",ResetFilter:"ResetFilter",SortingComplete:"SortingComplete"},WebInspector.HeapSnapshotSortableDataGrid.prototype={defaultPopulateCount:function(){return 100},_disposeAllNodes:function(){for(var a=this.topLevelNodes(),b=0,c=a.length;c>b;++b)a[b].dispose()},wasShown:function(){this._populatedAndSorted&&this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.ContentShown,this)},_sortingComplete:function(){this.removeEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.SortingComplete,this._sortingComplete,this),this._populatedAndSorted=!0,this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.ContentShown,this)},willHide:function(){this._clearCurrentHighlight()},populateContextMenu:function(a,b){function c(){WebInspector.panels.profiles.showObject(f.snapshotNodeId,"Dominators")}function d(){WebInspector.panels.profiles.showObject(f.snapshotNodeId,"Summary")}var e=b.target.enclosingNodeOrSelfWithNodeName("td");if(e){var f=e.heapSnapshotNode;f&&f.showRetainingEdges?(a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Summary view":"Reveal in Summary View"),d),a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Dominators view":"Reveal in Dominators View"),c)):f instanceof WebInspector.HeapSnapshotInstanceNode||f instanceof WebInspector.HeapSnapshotObjectNode?a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Dominators view":"Reveal in Dominators View"),c):f instanceof WebInspector.HeapSnapshotDominatorObjectNode&&a.appendItem(WebInspector.UIString(WebInspector.useLowerCaseMenuTitles()?"Reveal in Summary view":"Reveal in Summary View"),d)}},resetSortingCache:function(){delete this._lastSortColumnIdentifier,delete this._lastSortAscending},topLevelNodes:function(){return this.rootNode().children},highlightObjectByHeapSnapshotId:function(){},highlightNode:function(a){this._highlightedNode;this._clearCurrentHighlight(),this._highlightedNode=a,WebInspector.runCSSAnimationOnce(this._highlightedNode.element,"highlighted-row")},nodeWasDetached:function(a){this._highlightedNode===a&&this._clearCurrentHighlight()},_clearCurrentHighlight:function(){this._highlightedNode&&(this._highlightedNode.element.classList.remove("highlighted-row"),this._highlightedNode=null)},resetNameFilter:function(a){this._callbackAfterFilterChange=a,this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.ResetFilter)},changeNameFilter:function(a){this._nameFilter=a.toLowerCase(),this.updateVisibleNodes(!0),this._callbackAfterFilterChange&&(this._callbackAfterFilterChange(),this._callbackAfterFilterChange=null)},sortingChanged:function(){function a(a,b){var c=a[d[0]],e=b[d[0]],f=e>c?-1:c>e?1:0;return d[1]||(f=-f),0!==f?f:(c=a[d[2]],e=b[d[2]],f=e>c?-1:c>e?1:0,d[3]||(f=-f),f)}var b=this.isSortOrderAscending(),c=this.sortColumnIdentifier();if(this._lastSortColumnIdentifier!==c||this._lastSortAscending!==b){this._lastSortColumnIdentifier=c,this._lastSortAscending=b;var d=this._sortFields(c,b);this._performSorting(a)}},_performSorting:function(a){this.recursiveSortingEnter();var b=this.allChildren(this.rootNode());this.rootNode().removeChildren(),b.sort(a);for(var c=0,d=b.length;d>c;++c){var e=b[c];this.appendChildAfterSorting(e),e.expanded&&e.sort()}this.recursiveSortingLeave()},appendChildAfterSorting:function(a){var b=a.revealed;this.rootNode().appendChild(a),a.revealed=b},recursiveSortingEnter:function(){++this._recursiveSortingDepth},recursiveSortingLeave:function(){this._recursiveSortingDepth&&(--this._recursiveSortingDepth||(this.updateVisibleNodes(!0),this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.SortingComplete)))},updateVisibleNodes:function(){},allChildren:function(a){return a.children},insertChild:function(a,b,c){a.insertChild(b,c)},removeChildByIndex:function(a,b){a.removeChild(a.children[b])},removeAllChildren:function(a){a.removeChildren()},__proto__:WebInspector.DataGrid.prototype},WebInspector.HeapSnapshotViewportDataGrid=function(a){WebInspector.HeapSnapshotSortableDataGrid.call(this,a),this.scrollContainer.addEventListener("scroll",this._onScroll.bind(this),!0),this._nodeToHighlightAfterScroll=null,this._topPadding=new WebInspector.HeapSnapshotPaddingNode,this._topPaddingHeight=0,this.dataTableBody.insertBefore(this._topPadding.element,this.dataTableBody.firstChild),this._bottomPadding=new WebInspector.HeapSnapshotPaddingNode,this._bottomPaddingHeight=0,this.dataTableBody.insertBefore(this._bottomPadding.element,this.dataTableBody.lastChild)},WebInspector.HeapSnapshotViewportDataGrid.prototype={topLevelNodes:function(){return this.allChildren(this.rootNode())},appendChildAfterSorting:function(){},updateVisibleNodes:function(a,b){var c=40,d=this.scrollContainer.scrollHeight,e=this.scrollContainer.scrollTop,f=d-e-this.scrollContainer.offsetHeight;e=Math.max(0,e-c),f=Math.max(0,f-c);var g=d-e-f;if(!b){if(!a&&e>=this._topPaddingHeight&&f>=this._bottomPaddingHeight)return;var h=500;e-=h,g+=2*h}var i=this.selectedNode;this.rootNode().removeChildren(),this._topPaddingHeight=0,this._bottomPaddingHeight=0,this._addVisibleNodes(this.rootNode(),e,e+g,b||null),this._topPadding.setHeight(this._topPaddingHeight),this._bottomPadding.setHeight(this._bottomPaddingHeight),i&&(i.parent?i.select(!0):this.selectedNode=i)},_addVisibleNodes:function(a,b,c,d){if(!a.expanded)return 0;for(var e=d?d[0]:null,f=d&&d.length>1?d.slice(1):null,g=this.allChildren(a),h=0,i=0;i<g.length;++i){var j=g[i];if(!j.filteredOut||!j.filteredOut()){var k=h+this._nodeHeight(j);if(e===j||!e&&k>b)break;h=k}}for(var l=h;i<g.length&&(e||c>l);++i){var j=g[i];if(!j.filteredOut||!j.filteredOut()){var m=j.hasChildren;if(j.removeChildren(),j.hasChildren=m,j.revealed=!0,a.appendChild(j),l+=j.nodeSelfHeight(),l+=this._addVisibleNodes(j,b-l,c-l,f),e===j)break}}for(var n=0;i<g.length;++i){var j=g[i];j.filteredOut&&j.filteredOut()||(n+=this._nodeHeight(j))}return this._topPaddingHeight+=h,this._bottomPaddingHeight+=n,l+n},_nodeHeight:function(a){if(!a.revealed)return 0;var b=a.nodeSelfHeight();if(!a.expanded)return b;for(var c=this.allChildren(a),d=0;d<c.length;d++)b+=this._nodeHeight(c[d]);return b},defaultAttachLocation:function(){return this._bottomPadding.element},revealTreeNode:function(a){this.updateVisibleNodes(!0,a)},allChildren:function(a){return a._allChildren||(a._allChildren=[])},appendNode:function(a,b){this.allChildren(a).push(b)},insertChild:function(a,b,c){this.allChildren(a).splice(c,0,b)},removeChildByIndex:function(a,b){this.allChildren(a).splice(b,1)},removeAllChildren:function(a){a._allChildren=[]},removeTopLevelNodes:function(){this._disposeAllNodes(),this.rootNode().removeChildren(),this.rootNode()._allChildren=[]},highlightNode:function(a){this._isScrolledIntoView(a.element)?(this.updateVisibleNodes(!0),WebInspector.HeapSnapshotSortableDataGrid.prototype.highlightNode.call(this,a)):(a.element.scrollIntoViewIfNeeded(!0),this._nodeToHighlightAfterScroll=a)},_isScrolledIntoView:function(a){var b=this.scrollContainer.scrollTop,c=b+this.scrollContainer.clientHeight,d=a.offsetTop,e=d+a.offsetHeight;return c>=e&&d>=b},onResize:function(){WebInspector.HeapSnapshotSortableDataGrid.prototype.onResize.call(this),this.updateVisibleNodes(!1)},_onScroll:function(){this.updateVisibleNodes(!1),this._nodeToHighlightAfterScroll&&(WebInspector.HeapSnapshotSortableDataGrid.prototype.highlightNode.call(this,this._nodeToHighlightAfterScroll),this._nodeToHighlightAfterScroll=null)},__proto__:WebInspector.HeapSnapshotSortableDataGrid.prototype},WebInspector.HeapSnapshotPaddingNode=function(){this.element=document.createElement("tr"),this.element.classList.add("revealed")},WebInspector.HeapSnapshotPaddingNode.prototype={setHeight:function(a){this.element.style.height=a+"px"},removeFromTable:function(){var a=this.element.parentNode;a&&a.removeChild(this.element)}},WebInspector.HeapSnapshotContainmentDataGrid=function(a){a=a||[{id:"object",title:WebInspector.UIString("Object"),disclosure:!0,sortable:!0},{id:"distance",title:WebInspector.UIString("Distance"),width:"80px",sortable:!0},{id:"shallowSize",title:WebInspector.UIString("Shallow Size"),width:"120px",sortable:!0},{id:"retainedSize",title:WebInspector.UIString("Retained Size"),width:"120px",sortable:!0,sort:WebInspector.DataGrid.Order.Descending}],WebInspector.HeapSnapshotSortableDataGrid.call(this,a)},WebInspector.HeapSnapshotContainmentDataGrid.prototype={setDataSource:function(a,b){this.snapshot=a;var c={nodeIndex:b||a.rootNodeIndex},d={node:c};this.setRootNode(new WebInspector.HeapSnapshotObjectNode(this,a,d,null)),this.rootNode().sort()},sortingChanged:function(){var a=this.rootNode();a.hasChildren&&a.sort()},__proto__:WebInspector.HeapSnapshotSortableDataGrid.prototype},WebInspector.HeapSnapshotRetainmentDataGrid=function(){this.showRetainingEdges=!0;var a=[{id:"object",title:WebInspector.UIString("Object"),disclosure:!0,sortable:!0},{id:"distance",title:WebInspector.UIString("Distance"),width:"80px",sortable:!0,sort:WebInspector.DataGrid.Order.Ascending},{id:"shallowSize",title:WebInspector.UIString("Shallow Size"),width:"120px",sortable:!0},{id:"retainedSize",title:WebInspector.UIString("Retained Size"),width:"120px",sortable:!0}];WebInspector.HeapSnapshotContainmentDataGrid.call(this,a)},WebInspector.HeapSnapshotRetainmentDataGrid.Events={ExpandRetainersComplete:"ExpandRetainersComplete"},WebInspector.HeapSnapshotRetainmentDataGrid.prototype={_sortFields:function(a,b){return{object:["_name",b,"_count",!1],count:["_count",b,"_name",!0],shallowSize:["_shallowSize",b,"_name",!0],retainedSize:["_retainedSize",b,"_name",!0],distance:["_distance",b,"_name",!0]}[a]},reset:function(){this.rootNode().removeChildren(),this.resetSortingCache()},setDataSource:function(a,b){function c(){if(this.removeEventListener(WebInspector.HeapSnapshotGridNode.Events.PopulateComplete,c,this),this.expand(),--e>0&&this.children.length>0){var a=this.children[0];if(a._distance>1)return a.addEventListener(WebInspector.HeapSnapshotGridNode.Events.PopulateComplete,c,a),void a.populate()}d.dispatchEventToListeners(WebInspector.HeapSnapshotRetainmentDataGrid.Events.ExpandRetainersComplete)}WebInspector.HeapSnapshotContainmentDataGrid.prototype.setDataSource.call(this,a,b);var d=this,e=20;this.rootNode().addEventListener(WebInspector.HeapSnapshotGridNode.Events.PopulateComplete,c,this.rootNode())},__proto__:WebInspector.HeapSnapshotContainmentDataGrid.prototype},WebInspector.HeapSnapshotConstructorsDataGrid=function(){var a=[{id:"object",title:WebInspector.UIString("Constructor"),disclosure:!0,sortable:!0},{id:"distance",title:WebInspector.UIString("Distance"),width:"90px",sortable:!0},{id:"count",title:WebInspector.UIString("Objects Count"),width:"90px",sortable:!0},{id:"shallowSize",title:WebInspector.UIString("Shallow Size"),width:"120px",sortable:!0},{id:"retainedSize",title:WebInspector.UIString("Retained Size"),width:"120px",sort:WebInspector.DataGrid.Order.Descending,sortable:!0}];WebInspector.HeapSnapshotViewportDataGrid.call(this,a),this._profileIndex=-1,this._objectIdToSelect=null},WebInspector.HeapSnapshotConstructorsDataGrid.prototype={_sortFields:function(a,b){return{object:["_name",b,"_count",!1],distance:["_distance",b,"_retainedSize",!0],count:["_count",b,"_name",!0],shallowSize:["_shallowSize",b,"_name",!0],retainedSize:["_retainedSize",b,"_name",!0]}[a]},highlightObjectByHeapSnapshotId:function(a,b){function c(c){if(!c)return void b(!1);for(var d=this.topLevelNodes(),e=0;e<d.length;e++){var f=d[e];if(f._name===c)return void f.revealNodeBySnapshotObjectId(parseInt(a,10),b)}}return this.snapshot?void this.snapshot.nodeClassName(parseInt(a,10),c.bind(this)):void(this._objectIdToSelect=a)},clear:function(){this._nextRequestedFilter=null,this._lastFilter=null,this.removeTopLevelNodes()},setDataSource:function(a){this.snapshot=a,-1===this._profileIndex&&this._populateChildren(),this._objectIdToSelect&&(this.highlightObjectByHeapSnapshotId(this._objectIdToSelect,function(){}),this._objectIdToSelect=null)},setSelectionRange:function(a,b){this._populateChildren(new WebInspector.HeapSnapshotCommon.NodeFilter(a,b))},setAllocationNodeId:function(a){var b=new WebInspector.HeapSnapshotCommon.NodeFilter;b.allocationNodeId=a,this._populateChildren(b)},_aggregatesReceived:function(a,b){this._filterInProgress=null,this._nextRequestedFilter&&(this.snapshot.aggregatesWithFilter(this._nextRequestedFilter,this._aggregatesReceived.bind(this,this._nextRequestedFilter)),this._filterInProgress=this._nextRequestedFilter,this._nextRequestedFilter=null),this.removeTopLevelNodes(),this.resetSortingCache();for(var c in b)this.appendNode(this.rootNode(),new WebInspector.HeapSnapshotConstructorNode(this,c,b[c],a));this.sortingChanged(),this._lastFilter=a},_populateChildren:function(a){return a=a||new WebInspector.HeapSnapshotCommon.NodeFilter,this._filterInProgress?void(this._nextRequestedFilter=this._filterInProgress.equals(a)?null:a):void(this._lastFilter&&this._lastFilter.equals(a)||(this._filterInProgress=a,this.snapshot.aggregatesWithFilter(a,this._aggregatesReceived.bind(this,a))))},filterSelectIndexChanged:function(a,b){this._profileIndex=b;var c;if(-1!==b){var d=b>0?a[b-1].maxJSObjectId:0,e=a[b].maxJSObjectId;c=new WebInspector.HeapSnapshotCommon.NodeFilter(d,e)}this._populateChildren(c)},__proto__:WebInspector.HeapSnapshotViewportDataGrid.prototype},WebInspector.HeapSnapshotDiffDataGrid=function(){var a=[{id:"object",title:WebInspector.UIString("Constructor"),disclosure:!0,sortable:!0},{id:"addedCount",title:WebInspector.UIString("# New"),width:"72px",sortable:!0},{id:"removedCount",title:WebInspector.UIString("# Deleted"),width:"72px",sortable:!0},{id:"countDelta",title:WebInspector.UIString("# Delta"),width:"64px",sortable:!0},{id:"addedSize",title:WebInspector.UIString("Alloc. Size"),width:"72px",sortable:!0,sort:WebInspector.DataGrid.Order.Descending},{id:"removedSize",title:WebInspector.UIString("Freed Size"),width:"72px",sortable:!0},{id:"sizeDelta",title:WebInspector.UIString("Size Delta"),width:"72px",sortable:!0}];WebInspector.HeapSnapshotViewportDataGrid.call(this,a)},WebInspector.HeapSnapshotDiffDataGrid.prototype={defaultPopulateCount:function(){return 50},_sortFields:function(a,b){return{object:["_name",b,"_count",!1],addedCount:["_addedCount",b,"_name",!0],removedCount:["_removedCount",b,"_name",!0],countDelta:["_countDelta",b,"_name",!0],addedSize:["_addedSize",b,"_name",!0],removedSize:["_removedSize",b,"_name",!0],sizeDelta:["_sizeDelta",b,"_name",!0]}[a]},setDataSource:function(a){this.snapshot=a},setBaseDataSource:function(a){return this.baseSnapshot=a,this.removeTopLevelNodes(),this.resetSortingCache(),this.baseSnapshot===this.snapshot?void this.dispatchEventToListeners(WebInspector.HeapSnapshotSortableDataGrid.Events.SortingComplete):void this._populateChildren()},_populateChildren:function(){function a(a){function b(a){for(var b in a){var c=a[b];this.appendNode(this.rootNode(),new WebInspector.HeapSnapshotDiffNode(this,b,c))}this.sortingChanged()}this.snapshot.calculateSnapshotDiff(this.baseSnapshot.uid,a,b.bind(this))}this.baseSnapshot.aggregatesForDiff(a.bind(this))},__proto__:WebInspector.HeapSnapshotViewportDataGrid.prototype},WebInspector.HeapSnapshotDominatorsDataGrid=function(){var a=[{id:"object",title:WebInspector.UIString("Object"),disclosure:!0,sortable:!0},{id:"shallowSize",title:WebInspector.UIString("Shallow Size"),width:"120px",sortable:!0},{id:"retainedSize",title:WebInspector.UIString("Retained Size"),width:"120px",sort:WebInspector.DataGrid.Order.Descending,sortable:!0}];WebInspector.HeapSnapshotSortableDataGrid.call(this,a),this._objectIdToSelect=null},WebInspector.HeapSnapshotDominatorsDataGrid.prototype={defaultPopulateCount:function(){return 25},setDataSource:function(a){this.snapshot=a;var b={nodeIndex:this.snapshot.rootNodeIndex};this.setRootNode(new WebInspector.HeapSnapshotDominatorObjectNode(this,b)),this.rootNode().sort(),this._objectIdToSelect&&(this.highlightObjectByHeapSnapshotId(this._objectIdToSelect,function(){}),this._objectIdToSelect=null)},sortingChanged:function(){this.rootNode().sort()},highlightObjectByHeapSnapshotId:function(a,b){function c(a){if(!a)return WebInspector.console.log(WebInspector.UIString("Cannot find corresponding heap snapshot node")),void b(!1);var c=this.rootNode();d.call(this,a,c)}function d(a,c){if(!c)return console.error("Cannot find dominator node"),void b(!1);if(!a.length)return this.highlightNode(c),c.element.scrollIntoViewIfNeeded(!0),void b(!0);var e=a.pop();c.retrieveChildBySnapshotObjectId(e,d.bind(this,a))}return this.snapshot?void this.snapshot.dominatorIdsForNode(parseInt(a,10),c.bind(this)):(this._objectIdToSelect=a,void b(!1))},__proto__:WebInspector.HeapSnapshotSortableDataGrid.prototype},WebInspector.AllocationDataGrid=function(){var a=[{id:"liveCount",title:WebInspector.UIString("Live Count"),width:"72px",sortable:!0},{id:"count",title:WebInspector.UIString("Count"),width:"72px",sortable:!0},{id:"liveSize",title:WebInspector.UIString("Live Size"),width:"72px",sortable:!0},{id:"size",title:WebInspector.UIString("Size"),width:"72px",sortable:!0,sort:WebInspector.DataGrid.Order.Descending},{id:"name",title:WebInspector.UIString("Function"),disclosure:!0,sortable:!0}];WebInspector.DataGrid.call(this,a),this._linkifier=new WebInspector.Linkifier,this.addEventListener(WebInspector.DataGrid.Events.SortingChanged,this._sortingChanged,this)},WebInspector.AllocationDataGrid.prototype={setDataSource:function(a){function b(a){this._topNodes=a,this._populateChildren()}this.snapshot=a,this.snapshot.allocationTracesTops(b.bind(this))},_populateChildren:function(){for(var a=this.rootNode(),b=this._topNodes,c=0;c<b.length;c++)a.appendChild(new WebInspector.AllocationGridNode(this,b[c]))},_sortingChanged:function(){this._topNodes.sort(this._createComparator()),this.rootNode().removeChildren(),this._populateChildren()},_createComparator:function(){function a(a,d){return a[b]>d[b]?c:a[b]<d[b]?-c:0}var b=this.sortColumnIdentifier(),c=this.sortOrder()===WebInspector.DataGrid.Order.Ascending?1:-1;return a},__proto__:WebInspector.DataGrid.prototype},WebInspector.HeapSnapshotGridNode=function(a,b){WebInspector.DataGridNode.call(this,null,b),this._dataGrid=a,this._instanceCount=0,this._savedChildren=null,this._retrievedChildrenRanges=[],this._providerObject=null},WebInspector.HeapSnapshotGridNode.Events={PopulateComplete:"PopulateComplete"},WebInspector.HeapSnapshotGridNode.createComparator=function(a){return{fieldName1:a[0],ascending1:a[1],fieldName2:a[2],ascending2:a[3]}},WebInspector.HeapSnapshotGridNode.ChildrenProvider=function(){},WebInspector.HeapSnapshotGridNode.ChildrenProvider.prototype={dispose:function(){},nodePosition:function(){},isEmpty:function(){},serializeItemsRange:function(){},sortAndRewind:function(){}},WebInspector.HeapSnapshotGridNode.prototype={createProvider:function(){throw new Error("Not implemented.")},retainersDataSource:function(){return null},_provider:function(){return this._providerObject||(this._providerObject=this.createProvider()),this._providerObject},createCell:function(a){var b=WebInspector.DataGridNode.prototype.createCell.call(this,a);return this._searchMatched&&b.classList.add("highlight"),b},collapse:function(){WebInspector.DataGridNode.prototype.collapse.call(this),this._dataGrid.updateVisibleNodes(!0)},expand:function(){WebInspector.DataGridNode.prototype.expand.call(this),this._dataGrid.updateVisibleNodes(!0)},dispose:function(){this._providerObject&&this._providerObject.dispose();for(var a=this.children[0];a;a=a.traverseNextNode(!0,this,!0))a.dispose&&a.dispose()},_reachableFromWindow:!1,queryObjectContent:function(){},wasDetached:function(){this._dataGrid.nodeWasDetached(this)},_toPercentString:function(a){return a.toFixed(0)+" %"},allChildren:function(){return this._dataGrid.allChildren(this)},removeChildByIndex:function(a){this._dataGrid.removeChildByIndex(this,a)},childForPosition:function(a){for(var b=0,c=0;c<this._retrievedChildrenRanges.length;c++){var d=this._retrievedChildrenRanges[c];if(d.from<=a&&a<d.to){var e=b+a-d.from;return this.allChildren()[e]}b+=d.to-d.from+1}return null},_createValueCell:function(a){var b=document.createElement("td");if(b.className=a+"-column",0!==this.dataGrid.snapshot.totalSize){var c=document.createElement("div"),d=document.createElement("span");d.textContent=this.data[a],c.appendChild(d);var e=a+"-percent";if(e in this.data){var f=document.createElement("span");f.className="percent-column",f.textContent=this.data[e],c.appendChild(f),c.classList.add("heap-snapshot-multiple-values")}b.appendChild(c)
}return b},populate:function(){function a(){this._populateChildren()}this._populated||(this._populated=!0,this._provider().sortAndRewind(this.comparator(),a.bind(this)))},expandWithoutPopulate:function(a){this._populated=!0,this.expand(),this._provider().sortAndRewind(this.comparator(),a)},_populateChildren:function(a,b,c){function d(){if(!(h>=b)){var a=Math.min(h+this._dataGrid.defaultPopulateCount(),b);this._provider().serializeItemsRange(h,a,g.bind(this)),h=a}}function e(a,b){if(this._savedChildren){var c=this._childHashForEntity(a);if(c in this._savedChildren)return void this._dataGrid.insertChild(this,this._savedChildren[c],b)}this._dataGrid.insertChild(this,this._createChildNode(a),b)}function f(a,b,c){var d=new WebInspector.ShowMoreDataGridNode(this._populateChildren.bind(this),a,b,this._dataGrid.defaultPopulateCount());this._dataGrid.insertChild(this,d,c)}function g(a){var g=0,i=a.startPosition,j=a.items,k=0;if(this._retrievedChildrenRanges.length){for(var l,m=0,n=!1;m<this._retrievedChildrenRanges.length;){if(l=this._retrievedChildrenRanges[m],l.to>=i){n=!0;break}k+=l.to-l.from,l.to<a.totalLength&&(k+=1),++m}for(!n||a.startPosition<l.from?(this.allChildren()[k-1].setEndPosition(a.startPosition),f.call(this,a.startPosition,n?l.from:a.totalLength,k),l={from:a.startPosition,to:a.startPosition},n||(m=this._retrievedChildrenRanges.length),this._retrievedChildrenRanges.splice(m,0,l)):k+=i-l.from;l.to<a.endPosition;){var o=l.to-i;k+=o,g+=o,i=l.to;var p=this._retrievedChildrenRanges[m+1],q=p?p.from:a.totalLength;for(q>a.endPosition&&(q=a.endPosition);q>i;)e.call(this,j[g++],k++),++i;p&&q===p.from?(l.to=p.to,this.removeChildByIndex(k),this._retrievedChildrenRanges.splice(m+1,1)):(l.to=q,q===a.totalLength?this.removeChildByIndex(k):this.allChildren()[k].setStartPosition(a.endPosition))}}else{a.startPosition>0&&(this._retrievedChildrenRanges.push({from:0,to:0}),f.call(this,0,a.startPosition,k++)),this._retrievedChildrenRanges.push({from:a.startPosition,to:a.endPosition});for(var r=0,s=j.length;s>r;++r)e.call(this,j[r],k++);a.endPosition<a.totalLength&&f.call(this,a.endPosition,a.totalLength,k++)}return this._instanceCount+=j.length,b>h?void d.call(this):(this.expanded&&this._dataGrid.updateVisibleNodes(!0),c&&c(),void this.dispatchEventToListeners(WebInspector.HeapSnapshotGridNode.Events.PopulateComplete))}a=a||0,b=b||a+this._dataGrid.defaultPopulateCount();var h=a;d.call(this)},_saveChildren:function(){this._savedChildren=null;for(var a=this.allChildren(),b=0,c=a.length;c>b;++b){var d=a[b];d.expanded&&(this._savedChildren||(this._savedChildren={}),this._savedChildren[this._childHashForNode(d)]=d)}},sort:function(){function a(){function a(){for(var a=this.allChildren(),b=0,c=a.length;c>b;++b){var d=a[b];d.expanded&&d.sort()}this._dataGrid.recursiveSortingLeave()}this._saveChildren(),this._dataGrid.removeAllChildren(this),this._retrievedChildrenRanges=[];var b=this._instanceCount;this._instanceCount=0,this._populateChildren(0,b,a.bind(this))}this._dataGrid.recursiveSortingEnter(),this._provider().sortAndRewind(this.comparator(),a.bind(this))},__proto__:WebInspector.DataGridNode.prototype},WebInspector.HeapSnapshotGenericObjectNode=function(a,b){if(WebInspector.HeapSnapshotGridNode.call(this,a,!1),b){this._name=b.name,this._type=b.type,this._distance=b.distance,this._shallowSize=b.selfSize,this._retainedSize=b.retainedSize,this.snapshotNodeId=b.id,this.snapshotNodeIndex=b.nodeIndex,"string"===this._type?this._reachableFromWindow=!0:"object"===this._type&&this._name.startsWith("Window")?(this._name=this.shortenWindowURL(this._name,!1),this._reachableFromWindow=!0):b.canBeQueried&&(this._reachableFromWindow=!0),b.detachedDOMTreeNode&&(this.detachedDOMTreeNode=!0);var c=a.snapshot,d=this._shallowSize/c.totalSize*100,e=this._retainedSize/c.totalSize*100;this.data={distance:this._distance,shallowSize:Number.withThousandsSeparator(this._shallowSize),retainedSize:Number.withThousandsSeparator(this._retainedSize),"shallowSize-percent":this._toPercentString(d),"retainedSize-percent":this._toPercentString(e)}}},WebInspector.HeapSnapshotGenericObjectNode.prototype={retainersDataSource:function(){return{snapshot:this._dataGrid.snapshot,snapshotNodeIndex:this.snapshotNodeIndex}},createCell:function(a){var b="object"!==a?this._createValueCell(a):this._createObjectCell();return this._searchMatched&&b.classList.add("highlight"),b},_createObjectCell:function(){var a=this._name,b="object";switch(this._type){case"concatenated string":case"string":a='"'+a+'"',b="string";break;case"regexp":a="/"+a+"/",b="string";break;case"closure":a="function"+(a?" ":"")+a+"()",b="function";break;case"number":b="number";break;case"hidden":b="null";break;case"array":a?a+="[]":a="[]"}return this._reachableFromWindow&&(b+=" highlight"),"Object"===a&&(a=""),this.detachedDOMTreeNode&&(b+=" detached-dom-tree-node"),this._createObjectCellWithValue(b,a)},_createObjectCellWithValue:function(a,b){var c=document.createElement("td");c.className="object-column";var d=document.createElement("div");d.className="source-code event-properties",d.style.overflow="visible",this._prefixObjectCell(d);var e=document.createElement("span");e.className="value console-formatted-"+a,e.textContent=b,d.appendChild(e);var f=document.createElement("span");return f.className="console-formatted-id",f.textContent=" @"+this.snapshotNodeId,d.appendChild(f),c.appendChild(d),c.classList.add("disclosure"),this.depth&&c.style.setProperty("padding-left",this.depth*this.dataGrid.indentWidth+"px"),c.heapSnapshotNode=this,c},_prefixObjectCell:function(){},queryObjectContent:function(a,b){function c(b,c){!b&&c.type?a(WebInspector.RemoteObject.fromPayload(c),!!b):a(WebInspector.RemoteObject.fromPrimitiveValue(WebInspector.UIString("Preview is not available")))}"string"===this._type?a(WebInspector.RemoteObject.fromPrimitiveValue(this._name)):HeapProfilerAgent.getObjectByHeapObjectId(String(this.snapshotNodeId),b,c)},updateHasChildren:function(){function a(a){this.hasChildren=!a}this._provider().isEmpty(a.bind(this))},shortenWindowURL:function(a,b){var c=a.indexOf("/"),d=b?a.indexOf("@"):a.length;if(-1!==c&&-1!==d){var e=a.substring(c+1,d).trimLeft(),f=e.trimURL();return f.length>40&&(f=f.trimMiddle(40)),a.substr(0,c+2)+f+a.substr(d)}return a},__proto__:WebInspector.HeapSnapshotGridNode.prototype},WebInspector.HeapSnapshotObjectNode=function(a,b,c,d){WebInspector.HeapSnapshotGenericObjectNode.call(this,a,c.node),this._referenceName=c.name,this._referenceType=c.type,this.showRetainingEdges=a.showRetainingEdges,this._snapshot=b,this._parentGridNode=d,this._cycledWithAncestorGridNode=this._findAncestorWithSameSnapshotNodeId(),this._cycledWithAncestorGridNode||this.updateHasChildren();var e=this.data;e.count="",e.addedCount="",e.removedCount="",e.countDelta="",e.addedSize="",e.removedSize="",e.sizeDelta=""},WebInspector.HeapSnapshotObjectNode.prototype={retainersDataSource:function(){return{snapshot:this._snapshot,snapshotNodeIndex:this.snapshotNodeIndex}},createProvider:function(){this._dataGrid;return this.showRetainingEdges?this._snapshot.createRetainingEdgesProvider(this.snapshotNodeIndex):this._snapshot.createEdgesProvider(this.snapshotNodeIndex)},_findAncestorWithSameSnapshotNodeId:function(){for(var a=this._parentGridNode;a;){if(a.snapshotNodeId===this.snapshotNodeId)return a;a=a._parentGridNode}return null},_createChildNode:function(a){return new WebInspector.HeapSnapshotObjectNode(this._dataGrid,this._snapshot,a,this)},_childHashForEntity:function(a){var b=this.showRetainingEdges?a.node.id+"#":"";return b+a.type+"#"+a.name},_childHashForNode:function(a){var b=this.showRetainingEdges?a.snapshotNodeId+"#":"";return b+a._referenceType+"#"+a._referenceName},comparator:function(){var a=this._dataGrid.isSortOrderAscending(),b=this._dataGrid.sortColumnIdentifier(),c={object:["!edgeName",a,"retainedSize",!1],count:["!edgeName",!0,"retainedSize",!1],shallowSize:["selfSize",a,"!edgeName",!0],retainedSize:["retainedSize",a,"!edgeName",!0],distance:["distance",a,"_name",!0]}[b]||["!edgeName",!0,"retainedSize",!1];return WebInspector.HeapSnapshotGridNode.createComparator(c)},_prefixObjectCell:function(a){var b=this._referenceName;""===b&&(b="(empty)");var c="name";switch(this._referenceType){case"context":c="console-formatted-number";break;case"internal":case"hidden":case"weak":c="console-formatted-null";break;case"element":b="["+b+"]"}this._cycledWithAncestorGridNode&&(a.className+=" cycled-ancessor-node");var d=document.createElement("span");d.className=c,d.textContent=b,a.appendChild(d);var e=document.createElement("span");e.className="grayed",e.textContent=this.showRetainingEdges?" in ":" :: ",a.appendChild(e)},__proto__:WebInspector.HeapSnapshotGenericObjectNode.prototype},WebInspector.HeapSnapshotInstanceNode=function(a,b,c,d){WebInspector.HeapSnapshotGenericObjectNode.call(this,a,c),this._baseSnapshotOrSnapshot=b,this._isDeletedNode=d,this.updateHasChildren();var e=this.data;e.count="",e.countDelta="",e.sizeDelta="",this._isDeletedNode?(e.addedCount="",e.addedSize="",e.removedCount="•",e.removedSize=Number.withThousandsSeparator(this._shallowSize)):(e.addedCount="•",e.addedSize=Number.withThousandsSeparator(this._shallowSize),e.removedCount="",e.removedSize="")},WebInspector.HeapSnapshotInstanceNode.prototype={retainersDataSource:function(){return{snapshot:this._baseSnapshotOrSnapshot,snapshotNodeIndex:this.snapshotNodeIndex}},createProvider:function(){return this._baseSnapshotOrSnapshot.createEdgesProvider(this.snapshotNodeIndex)},_createChildNode:function(a){return new WebInspector.HeapSnapshotObjectNode(this._dataGrid,this._baseSnapshotOrSnapshot,a,null)},_childHashForEntity:function(a){return a.type+"#"+a.name},_childHashForNode:function(a){return a._referenceType+"#"+a._referenceName},comparator:function(){var a=this._dataGrid.isSortOrderAscending(),b=this._dataGrid.sortColumnIdentifier(),c={object:["!edgeName",a,"retainedSize",!1],distance:["distance",a,"retainedSize",!1],count:["!edgeName",!0,"retainedSize",!1],addedSize:["selfSize",a,"!edgeName",!0],removedSize:["selfSize",a,"!edgeName",!0],shallowSize:["selfSize",a,"!edgeName",!0],retainedSize:["retainedSize",a,"!edgeName",!0]}[b]||["!edgeName",!0,"retainedSize",!1];return WebInspector.HeapSnapshotGridNode.createComparator(c)},__proto__:WebInspector.HeapSnapshotGenericObjectNode.prototype},WebInspector.HeapSnapshotConstructorNode=function(a,b,c,d){WebInspector.HeapSnapshotGridNode.call(this,a,c.count>0),this._name=b,this._nodeFilter=d,this._distance=c.distance,this._count=c.count,this._shallowSize=c.self,this._retainedSize=c.maxRet;var e=a.snapshot,f=this._count/e.nodeCount*100,g=this._retainedSize/e.totalSize*100,h=this._shallowSize/e.totalSize*100;this.data={object:b,count:Number.withThousandsSeparator(this._count),distance:this._distance,shallowSize:Number.withThousandsSeparator(this._shallowSize),retainedSize:Number.withThousandsSeparator(this._retainedSize),"count-percent":this._toPercentString(f),"shallowSize-percent":this._toPercentString(h),"retainedSize-percent":this._toPercentString(g)}},WebInspector.HeapSnapshotConstructorNode.prototype={createProvider:function(){return this._dataGrid.snapshot.createNodesProviderForClass(this._name,this._nodeFilter)},revealNodeBySnapshotObjectId:function(a,b){function c(){this._provider().nodePosition(a,d.bind(this))}function d(a){-1===a?(this.collapse(),b(!1)):this._populateChildren(a,null,e.bind(this,a))}function e(a){var c=this.childForPosition(a);c&&(this._dataGrid.revealTreeNode([this,c]),this._dataGrid.highlightNode(c)),b(!!c)}this._dataGrid.resetNameFilter(this.expandWithoutPopulate.bind(this,c.bind(this)))},filteredOut:function(){return-1===this._name.toLowerCase().indexOf(this._dataGrid._nameFilter)},createCell:function(a){var b="object"!==a?this._createValueCell(a):WebInspector.HeapSnapshotGridNode.prototype.createCell.call(this,a);return this._searchMatched&&b.classList.add("highlight"),b},_createChildNode:function(a){return new WebInspector.HeapSnapshotInstanceNode(this._dataGrid,this._dataGrid.snapshot,a,!1)},comparator:function(){var a=this._dataGrid.isSortOrderAscending(),b=this._dataGrid.sortColumnIdentifier(),c={object:["id",a,"retainedSize",!1],distance:["distance",a,"retainedSize",!1],count:["id",!0,"retainedSize",!1],shallowSize:["selfSize",a,"id",!0],retainedSize:["retainedSize",a,"id",!0]}[b];return WebInspector.HeapSnapshotGridNode.createComparator(c)},_childHashForEntity:function(a){return a.id},_childHashForNode:function(a){return a.snapshotNodeId},__proto__:WebInspector.HeapSnapshotGridNode.prototype},WebInspector.HeapSnapshotDiffNodesProvider=function(a,b,c,d){this._addedNodesProvider=a,this._deletedNodesProvider=b,this._addedCount=c,this._removedCount=d},WebInspector.HeapSnapshotDiffNodesProvider.prototype={dispose:function(){this._addedNodesProvider.dispose(),this._deletedNodesProvider.dispose()},nodePosition:function(){throw new Error("Unreachable")},isEmpty:function(a){a(!1)},serializeItemsRange:function(a,b,c){function d(a){a.totalLength=this._addedCount+this._removedCount,c(a)}function e(a,b){var c=b.items;a.items.length||(a.startPosition=this._addedCount+b.startPosition);for(var e=0;e<c.length;e++)c[e].isAddedNotRemoved=!1,a.items.push(c[e]);a.endPosition=this._addedCount+b.endPosition,d.call(this,a)}function f(a){for(var c=a.items,f=0;f<c.length;f++)c[f].isAddedNotRemoved=!0;return a.endPosition<b?this._deletedNodesProvider.serializeItemsRange(0,b-a.endPosition,e.bind(this,a)):(a.totalLength=this._addedCount+this._removedCount,void d.call(this,a))}if(a<this._addedCount)this._addedNodesProvider.serializeItemsRange(a,b,f.bind(this));else{var g=new WebInspector.HeapSnapshotCommon.ItemsRange(0,0,0,[]);this._deletedNodesProvider.serializeItemsRange(a-this._addedCount,b-this._addedCount,e.bind(this,g))}},sortAndRewind:function(a,b){function c(){this._deletedNodesProvider.sortAndRewind(a,b)}this._addedNodesProvider.sortAndRewind(a,c.bind(this))}},WebInspector.HeapSnapshotDiffNode=function(a,b,c){WebInspector.HeapSnapshotGridNode.call(this,a,!0),this._name=b,this._addedCount=c.addedCount,this._removedCount=c.removedCount,this._countDelta=c.countDelta,this._addedSize=c.addedSize,this._removedSize=c.removedSize,this._sizeDelta=c.sizeDelta,this._deletedIndexes=c.deletedIndexes,this.data={object:b,addedCount:Number.withThousandsSeparator(this._addedCount),removedCount:Number.withThousandsSeparator(this._removedCount),countDelta:this._signForDelta(this._countDelta)+Number.withThousandsSeparator(Math.abs(this._countDelta)),addedSize:Number.withThousandsSeparator(this._addedSize),removedSize:Number.withThousandsSeparator(this._removedSize),sizeDelta:this._signForDelta(this._sizeDelta)+Number.withThousandsSeparator(Math.abs(this._sizeDelta))}},WebInspector.HeapSnapshotDiffNode.prototype={createProvider:function(){var a=this._dataGrid;return new WebInspector.HeapSnapshotDiffNodesProvider(a.snapshot.createAddedNodesProvider(a.baseSnapshot.uid,this._name),a.baseSnapshot.createDeletedNodesProvider(this._deletedIndexes),this._addedCount,this._removedCount)},_createChildNode:function(a){return a.isAddedNotRemoved?new WebInspector.HeapSnapshotInstanceNode(this._dataGrid,this._dataGrid.snapshot,a,!1):new WebInspector.HeapSnapshotInstanceNode(this._dataGrid,this._dataGrid.baseSnapshot,a,!0)},_childHashForEntity:function(a){return a.id},_childHashForNode:function(a){return a.snapshotNodeId},comparator:function(){var a=this._dataGrid.isSortOrderAscending(),b=this._dataGrid.sortColumnIdentifier(),c={object:["id",a,"selfSize",!1],addedCount:["selfSize",a,"id",!0],removedCount:["selfSize",a,"id",!0],countDelta:["selfSize",a,"id",!0],addedSize:["selfSize",a,"id",!0],removedSize:["selfSize",a,"id",!0],sizeDelta:["selfSize",a,"id",!0]}[b];return WebInspector.HeapSnapshotGridNode.createComparator(c)},filteredOut:function(){return-1===this._name.toLowerCase().indexOf(this._dataGrid._nameFilter)},_signForDelta:function(a){return 0===a?"":a>0?"+":"−"},__proto__:WebInspector.HeapSnapshotGridNode.prototype},WebInspector.HeapSnapshotDominatorObjectNode=function(a,b){WebInspector.HeapSnapshotGenericObjectNode.call(this,a,b),this.updateHasChildren()},WebInspector.HeapSnapshotDominatorObjectNode.prototype={createProvider:function(){return this._dataGrid.snapshot.createNodesProviderForDominator(this.snapshotNodeIndex)},retrieveChildBySnapshotObjectId:function(a,b){function c(){this._provider().nodePosition(a,d.bind(this))}function d(a){-1===a?(this.collapse(),b(null)):this._populateChildren(a,null,e.bind(this,a))}function e(a){var c=this.childForPosition(a);b(c)}this.hasChildren=!0,this.expandWithoutPopulate(c.bind(this))},_createChildNode:function(a){return new WebInspector.HeapSnapshotDominatorObjectNode(this._dataGrid,a)},_childHashForEntity:function(a){return a.id},_childHashForNode:function(a){return a.snapshotNodeId},comparator:function(){var a=this._dataGrid.isSortOrderAscending(),b=this._dataGrid.sortColumnIdentifier(),c={object:["id",a,"retainedSize",!1],shallowSize:["selfSize",a,"id",!0],retainedSize:["retainedSize",a,"id",!0]}[b];return WebInspector.HeapSnapshotGridNode.createComparator(c)},__proto__:WebInspector.HeapSnapshotGenericObjectNode.prototype},WebInspector.AllocationGridNode=function(a,b){WebInspector.DataGridNode.call(this,b,b.hasChildren),this._dataGrid=a,this._populated=!1},WebInspector.AllocationGridNode.prototype={populate:function(){function a(a){for(var b=a.nodesWithSingleCaller,c=this,d=0;d<b.length;d++){var e=new WebInspector.AllocationGridNode(this._dataGrid,b[d]);c.appendChild(e),c=e,c._populated=!0,this.expanded&&c.expand()}var f=a.branchingCallers;f.sort(this._dataGrid._createComparator());for(var d=0;d<f.length;d++)c.appendChild(new WebInspector.AllocationGridNode(this._dataGrid,f[d]))}this._populated||(this._populated=!0,this._dataGrid.snapshot.allocationNodeCallers(this.data.id,a.bind(this)))},expand:function(){WebInspector.DataGridNode.prototype.expand.call(this),1===this.children.length&&this.children[0].expand()},createCell:function(a){var b=WebInspector.DataGridNode.prototype.createCell.call(this,a);if("name"!==a)return b;var c=this.data;if(c.scriptName){var d=this._dataGrid._linkifier.linkifyLocation(c.scriptName,c.line-1,c.column-1,"profile-node-file");d.style.maxWidth="75%",b.insertBefore(d,b.firstChild)}return b},allocationNodeId:function(){return this.data.id},__proto__:WebInspector.DataGridNode.prototype},WebInspector.HeapSnapshotView=function(a){WebInspector.VBox.call(this),this.element.classList.add("heap-snapshot-view"),a.profileType().addEventListener(WebInspector.HeapSnapshotProfileType.SnapshotReceived,this._onReceiveSnapshot,this),a.profileType().addEventListener(WebInspector.ProfileType.Events.RemoveProfileHeader,this._onProfileHeaderRemoved,this),a._profileType.id===WebInspector.TrackingHeapSnapshotProfileType.TypeId&&(this._trackingOverviewGrid=new WebInspector.HeapTrackingOverviewGrid(a),this._trackingOverviewGrid.addEventListener(WebInspector.HeapTrackingOverviewGrid.IdsRangeChanged,this._onIdsRangeChanged.bind(this))),this._splitView=new WebInspector.SplitView(!1,!0,"heapSnapshotSplitViewState",200,200),this._splitView.show(this.element),this._containmentView=new WebInspector.VBox,this._containmentView.setMinimumSize(50,25),this._containmentDataGrid=new WebInspector.HeapSnapshotContainmentDataGrid,this._containmentDataGrid.show(this._containmentView.element),this._containmentDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._selectionChanged,this),this._statisticsView=new WebInspector.HeapSnapshotStatisticsView,this._constructorsView=new WebInspector.VBox,this._constructorsView.setMinimumSize(50,25),this._constructorsDataGrid=new WebInspector.HeapSnapshotConstructorsDataGrid,this._constructorsDataGrid.show(this._constructorsView.element),this._constructorsDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._selectionChanged,this),this._diffView=new WebInspector.VBox,this._diffView.setMinimumSize(50,25),this._diffDataGrid=new WebInspector.HeapSnapshotDiffDataGrid,this._diffDataGrid.show(this._diffView.element),this._diffDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._selectionChanged,this),this._dominatorView=new WebInspector.VBox,this._dominatorView.setMinimumSize(50,25),this._dominatorDataGrid=new WebInspector.HeapSnapshotDominatorsDataGrid,this._dominatorDataGrid.show(this._dominatorView.element),this._dominatorDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._selectionChanged,this),WebInspector.experimentsSettings.allocationProfiler.isEnabled()&&a.profileType()===WebInspector.ProfileTypeRegistry.instance.trackingHeapSnapshotProfileType&&(this._allocationView=new WebInspector.VBox,this._allocationView.setMinimumSize(50,25),this._allocationDataGrid=new WebInspector.AllocationDataGrid,this._allocationDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._onSelectAllocationNode,this),this._allocationDataGrid.show(this._allocationView.element)),this._retainmentViewHeader=document.createElementWithClass("div","retainers-view-header");var b=this._retainmentViewHeader.createChild("div","title"),c=b.createChild("span");c.textContent=WebInspector.UIString("Object's retaining tree"),this._splitView.hideDefaultResizer(),this._splitView.installResizer(this._retainmentViewHeader),this._retainmentView=new WebInspector.VBox,this._retainmentView.setMinimumSize(50,21),this._retainmentView.element.classList.add("retaining-paths-view"),this._retainmentView.element.appendChild(this._retainmentViewHeader),this._retainmentDataGrid=new WebInspector.HeapSnapshotRetainmentDataGrid,this._retainmentDataGrid.show(this._retainmentView.element),this._retainmentDataGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._inspectedObjectChanged,this),this._retainmentDataGrid.reset(),this._perspectives=[],this._perspectives.push(new WebInspector.HeapSnapshotView.SummaryPerspective),a.profileType()!==WebInspector.ProfileTypeRegistry.instance.trackingHeapSnapshotProfileType&&this._perspectives.push(new WebInspector.HeapSnapshotView.ComparisonPerspective),this._perspectives.push(new WebInspector.HeapSnapshotView.ContainmentPerspective),WebInspector.settings.showAdvancedHeapSnapshotProperties.get()&&this._perspectives.push(new WebInspector.HeapSnapshotView.DominatorPerspective),this._allocationView&&this._perspectives.push(new WebInspector.HeapSnapshotView.AllocationPerspective),WebInspector.experimentsSettings.heapSnapshotStatistics.isEnabled()&&this._perspectives.push(new WebInspector.HeapSnapshotView.StatisticsPerspective),this._perspectiveSelect=new WebInspector.StatusBarComboBox(this._onSelectedPerspectiveChanged.bind(this));for(var d=0;d<this._perspectives.length;++d)this._perspectiveSelect.createOption(this._perspectives[d].title());this._profile=a,this._baseSelect=new WebInspector.StatusBarComboBox(this._changeBase.bind(this)),this._baseSelect.visible=!1,this._updateBaseOptions(),this._filterSelect=new WebInspector.StatusBarComboBox(this._changeFilter.bind(this)),this._filterSelect.visible=!1,this._updateFilterOptions(),this._classNameFilter=new WebInspector.StatusBarInput("Class filter"),this._classNameFilter.visible=!1,this._classNameFilter.setOnChangeHandler(this._onClassFilterChanged.bind(this)),this._selectedSizeText=new WebInspector.StatusBarText(""),this._popoverHelper=new WebInspector.ObjectPopoverHelper(this.element,this._getHoverAnchor.bind(this),this._resolveObjectForPopover.bind(this),void 0,!0),this._currentPerspectiveIndex=0,this._currentPerspective=this._perspectives[0],this._currentPerspective.activate(this),this._dataGrid=this._currentPerspective.masterGrid(this),this._dataGrid.addEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ResetFilter,this._onResetClassNameFilter,this),this._refreshView()},WebInspector.HeapSnapshotView.Perspective=function(a){this._title=a},WebInspector.HeapSnapshotView.Perspective.prototype={activate:function(){},deactivate:function(a){a._baseSelect.visible=!1,a._filterSelect.visible=!1,a._classNameFilter.visible=!1,a._trackingOverviewGrid&&a._trackingOverviewGrid.detach(),a._allocationView&&a._allocationView.detach(),a._statisticsView&&a._statisticsView.detach(),a._splitView.detach(),a._splitView.detachChildViews()},masterGrid:function(){return null},title:function(){return this._title},supportsSearch:function(){return!1}},WebInspector.HeapSnapshotView.SummaryPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Summary"))},WebInspector.HeapSnapshotView.SummaryPerspective.prototype={activate:function(a){a._constructorsView.show(a._splitView.mainElement()),a._retainmentView.show(a._splitView.sidebarElement()),a._splitView.show(a.element),a._filterSelect.visible=!0,a._classNameFilter.visible=!0,a._trackingOverviewGrid&&(a._trackingOverviewGrid.show(a.element,a._splitView.element),a._trackingOverviewGrid.update(),a._trackingOverviewGrid._updateGrid())},masterGrid:function(a){return a._constructorsDataGrid},supportsSearch:function(){return!0},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.ComparisonPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Comparison"))},WebInspector.HeapSnapshotView.ComparisonPerspective.prototype={activate:function(a){a._diffView.show(a._splitView.mainElement()),a._retainmentView.show(a._splitView.sidebarElement()),a._splitView.show(a.element),a._baseSelect.visible=!0,a._classNameFilter.visible=!0},masterGrid:function(a){return a._diffDataGrid},supportsSearch:function(){return!0},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.ContainmentPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Containment"))},WebInspector.HeapSnapshotView.ContainmentPerspective.prototype={activate:function(a){a._containmentView.show(a._splitView.mainElement()),a._retainmentView.show(a._splitView.sidebarElement()),a._splitView.show(a.element)},masterGrid:function(a){return a._containmentDataGrid},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.DominatorPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Dominators"))},WebInspector.HeapSnapshotView.DominatorPerspective.prototype={activate:function(a){a._dominatorView.show(a._splitView.mainElement()),a._retainmentView.show(a._splitView.sidebarElement()),a._splitView.show(a.element)},masterGrid:function(a){return a._dominatorDataGrid},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.AllocationPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Allocation")),this._allocationSplitView=new WebInspector.SplitView(!1,!0,"heapSnapshotAllocationSplitViewState",200,200)},WebInspector.HeapSnapshotView.AllocationPerspective.prototype={activate:function(a){a._allocationView.show(this._allocationSplitView.mainElement()),a._constructorsView.show(a._splitView.mainElement()),a._retainmentView.show(a._splitView.sidebarElement()),a._splitView.show(this._allocationSplitView.sidebarElement()),this._allocationSplitView.show(a.element),a._constructorsDataGrid.clear();var b=a._allocationDataGrid.selectedNode;b&&a._constructorsDataGrid.setAllocationNodeId(b.allocationNodeId())},deactivate:function(a){this._allocationSplitView.detach(),WebInspector.HeapSnapshotView.Perspective.prototype.deactivate.call(this,a)},masterGrid:function(a){return a._allocationDataGrid},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.StatisticsPerspective=function(){WebInspector.HeapSnapshotView.Perspective.call(this,WebInspector.UIString("Statistics"))},WebInspector.HeapSnapshotView.StatisticsPerspective.prototype={activate:function(a){a._statisticsView.show(a.element)},masterGrid:function(){return null},__proto__:WebInspector.HeapSnapshotView.Perspective.prototype},WebInspector.HeapSnapshotView.prototype={_refreshView:function(){function a(a){a.getStatistics(this._gotStatistics.bind(this));var b=this._profiles(),c=b.indexOf(this._profile);this._baseSelect.setSelectedIndex(Math.max(0,c-1)),this._dataGrid.setDataSource(a),this._trackingOverviewGrid&&this._trackingOverviewGrid._updateGrid()}this._profile.load(a.bind(this))},_gotStatistics:function(a){this._statisticsView.setTotal(a.total),this._statisticsView.addRecord(a.code,WebInspector.UIString("Code"),"#f77"),this._statisticsView.addRecord(a.strings,WebInspector.UIString("Strings"),"#5e5"),this._statisticsView.addRecord(a.jsArrays,WebInspector.UIString("JS Arrays"),"#7af"),this._statisticsView.addRecord(a.native,WebInspector.UIString("Typed Arrays"),"#fc5"),this._statisticsView.addRecord(a.total,WebInspector.UIString("Total"))},_onIdsRangeChanged:function(a){var b=a.data.minId,c=a.data.maxId;this._selectedSizeText.setText(WebInspector.UIString("Selected size: %s",Number.bytesToString(a.data.size))),this._constructorsDataGrid.snapshot&&this._constructorsDataGrid.setSelectionRange(b,c)},get statusBarItems(){var a=[this._perspectiveSelect.element,this._classNameFilter.element];return this._profile.profileType()!==WebInspector.ProfileTypeRegistry.instance.trackingHeapSnapshotProfileType&&a.push(this._baseSelect.element,this._filterSelect.element),a.push(this._selectedSizeText.element),a},wasShown:function(){function a(){this._profile._wasShown(),this._baseProfile&&this._baseProfile.load(function(){})}this._profile.load(a.bind(this))},willHide:function(){this._currentSearchResultIndex=-1,this._popoverHelper.hidePopover(),this.helpPopover&&this.helpPopover.isShowing()&&this.helpPopover.hide()},searchCanceled:function(){if(this._searchResults)for(var a=0;a<this._searchResults.length;++a){var b=this._searchResults[a].node;delete b._searchMatched,b.refresh()}delete this._searchFinishedCallback,this._currentSearchResultIndex=-1,this._searchResults=[]},performSearch:function(a,b){function c(a){b(this,a?1:0)}function d(a){return"_name"in a&&g.test(a._name)}function e(a){return delete a._searchMatched,d(a)?(a._searchMatched=!0,a.refresh(),!0):!1}if(this.searchCanceled(),a=a.trim(),a&&this._currentPerspective.supportsSearch()){if("@"===a.charAt(0)){var f=parseInt(a.substring(1),10);return void(isNaN(f)?b(this,0):this._dataGrid.highlightObjectByHeapSnapshotId(String(f),c.bind(this)))}this._searchFinishedCallback=b;var g=createPlainTextSearchRegex(a,"i"),h=this._dataGrid.rootNode().children[0],i=0,j={};for(const k=1;h;)e(h)&&this._searchResults.push({node:h}),h=h.traverseNextNode(!1,null,i>=k,j),i+=j.depthChange;b(this,this._searchResults.length)}},jumpToFirstSearchResult:function(){this._searchResults&&this._searchResults.length&&(this._currentSearchResultIndex=0,this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToLastSearchResult:function(){this._searchResults&&this._searchResults.length&&(this._currentSearchResultIndex=this._searchResults.length-1,this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToNextSearchResult:function(){this._searchResults&&this._searchResults.length&&(++this._currentSearchResultIndex>=this._searchResults.length&&(this._currentSearchResultIndex=0),this._jumpToSearchResult(this._currentSearchResultIndex))},jumpToPreviousSearchResult:function(){this._searchResults&&this._searchResults.length&&(--this._currentSearchResultIndex<0&&(this._currentSearchResultIndex=this._searchResults.length-1),this._jumpToSearchResult(this._currentSearchResultIndex))},showingFirstSearchResult:function(){return 0===this._currentSearchResultIndex},showingLastSearchResult:function(){return this._searchResults&&this._currentSearchResultIndex===this._searchResults.length-1},currentSearchResultIndex:function(){return this._currentSearchResultIndex},_jumpToSearchResult:function(a){var b=this._searchResults[a];if(b){var c=b.node;c.revealAndSelect()}},refreshVisibleData:function(){if(this._dataGrid)for(var a=this._dataGrid.rootNode().children[0];a;)a.refresh(),a=a.traverseNextNode(!1,null,!0)
},_changeBase:function(){if(this._baseProfile!==this._profiles()[this._baseSelect.selectedIndex()]){this._baseProfile=this._profiles()[this._baseSelect.selectedIndex()];var a=this._dataGrid;a.snapshot&&this._baseProfile.load(a.setBaseDataSource.bind(a)),this.currentQuery&&this._searchFinishedCallback&&this._searchResults&&(this._searchFinishedCallback(this,-this._searchResults.length),this.performSearch(this.currentQuery,this._searchFinishedCallback))}},_changeFilter:function(){var a=this._filterSelect.selectedIndex()-1;this._dataGrid.filterSelectIndexChanged(this._profiles(),a),WebInspector.notifications.dispatchEventToListeners(WebInspector.UserMetrics.UserAction,{action:WebInspector.UserMetrics.UserActionNames.HeapSnapshotFilterChanged,label:this._filterSelect.selectedOption().label}),this.currentQuery&&this._searchFinishedCallback&&this._searchResults&&(this._searchFinishedCallback(this,-this._searchResults.length),this.performSearch(this.currentQuery,this._searchFinishedCallback))},_onClassFilterChanged:function(a){this._dataGrid.changeNameFilter(a)},_onResetClassNameFilter:function(){this._classNameFilter.setValue("")},_profiles:function(){return this._profile.profileType().getProfiles()},populateContextMenu:function(a,b){this._dataGrid&&this._dataGrid.populateContextMenu(a,b)},_selectionChanged:function(a){var b=a.target.selectedNode;this._setRetainmentDataGridSource(b),this._inspectedObjectChanged(a)},_onSelectAllocationNode:function(a){var b=a.target.selectedNode;this._constructorsDataGrid.setAllocationNodeId(b.allocationNodeId())},_inspectedObjectChanged:function(a){var b=a.target.selectedNode;!this._profile.fromFile()&&b instanceof WebInspector.HeapSnapshotGenericObjectNode&&ConsoleAgent.addInspectedHeapObject(b.snapshotNodeId)},_setRetainmentDataGridSource:function(a){var b=a&&a.retainersDataSource();b?this._retainmentDataGrid.setDataSource(b.snapshot,b.snapshotNodeIndex):this._retainmentDataGrid.reset()},_changePerspectiveAndWait:function(a,b){function c(a){var d=a.data;d.removeEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ContentShown,c,this),d===this._dataGrid&&b()}for(var d=null,e=0;e<this._perspectives.length;++e)if(this._perspectives[e].title()===a){d=e;break}return this._currentPerspectiveIndex===d||null===d?void setTimeout(b,0):(this._perspectives[d].masterGrid(this).addEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ContentShown,c,this),this._perspectiveSelect.setSelectedIndex(d),void this._changePerspective(d))},_updateDataSourceAndView:function(){function a(a){this._dataGrid===c&&(c.snapshot!==a&&c.setDataSource(a),c===this._diffDataGrid&&(this._baseProfile||(this._baseProfile=this._profiles()[this._baseSelect.selectedIndex()]),this._baseProfile.load(b.bind(this))))}function b(a){this._diffDataGrid.baseSnapshot!==a&&this._diffDataGrid.setBaseDataSource(a)}var c=this._dataGrid;c&&!c.snapshot&&this._profile.load(a.bind(this))},_onSelectedPerspectiveChanged:function(a){this._changePerspective(a.target.selectedIndex),this._onSelectedViewChanged(a)},_onSelectedViewChanged:function(){},_changePerspective:function(a){if(a!==this._currentPerspectiveIndex){this._dataGrid&&this._dataGrid.removeEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ResetFilter,this._onResetClassNameFilter,this),this._currentPerspectiveIndex=a,this._currentPerspective.deactivate(this);var b=this._perspectives[a];this._currentPerspective=b,this._dataGrid=b.masterGrid(this),b.activate(this),this.refreshVisibleData(),this._dataGrid&&(this._dataGrid.addEventListener(WebInspector.HeapSnapshotSortableDataGrid.Events.ResetFilter,this._onResetClassNameFilter,this),this._dataGrid.updateWidths()),this._updateDataSourceAndView(),this.currentQuery&&this._searchFinishedCallback&&this._searchResults&&(this._searchFinishedCallback(this,-this._searchResults.length),this.performSearch(this.currentQuery,this._searchFinishedCallback))}},highlightLiveObject:function(a,b){function c(){this._dataGrid.highlightObjectByHeapSnapshotId(b,d)}function d(a){a||WebInspector.console.log("Cannot find corresponding heap snapshot node",WebInspector.ConsoleMessage.MessageLevel.Error,!0)}this._changePerspectiveAndWait(a,c.bind(this))},_getHoverAnchor:function(a){var b=a.enclosingNodeOrSelfWithNodeName("span");if(b){var c=a.enclosingNodeOrSelfWithNodeName("tr");if(c)return b.node=c._dataGridNode,b}},_resolveObjectForPopover:function(a,b,c){this._profile.fromFile()||a.node.queryObjectContent(b,c)},_updateBaseOptions:function(){var a=this._profiles();if(this._baseSelect.size()!==a.length)for(var b=this._baseSelect.size(),c=a.length;c>b;++b){var d=a[b].title;this._baseSelect.createOption(d)}},_updateFilterOptions:function(){var a=this._profiles();if(this._filterSelect.size()-1!==a.length){this._filterSelect.size()||this._filterSelect.createOption(WebInspector.UIString("All objects"));for(var b=this._filterSelect.size()-1,c=a.length;c>b;++b){var d=a[b].title;d=b?WebInspector.UIString("Objects allocated between %s and %s",a[b-1].title,d):WebInspector.UIString("Objects allocated before %s",d),this._filterSelect.createOption(d)}}},_updateControls:function(){this._updateBaseOptions(),this._updateFilterOptions()},_onReceiveSnapshot:function(){this._updateControls()},_onProfileHeaderRemoved:function(a){var b=a.data;this._profile===b?(this.detach(),this._profile.profileType().removeEventListener(WebInspector.HeapSnapshotProfileType.SnapshotReceived,this._onReceiveSnapshot,this),this._profile.profileType().removeEventListener(WebInspector.ProfileType.Events.RemoveProfileHeader,this._onProfileHeaderRemoved,this)):this._updateControls()},__proto__:WebInspector.VBox.prototype},WebInspector.HeapProfilerDispatcher=function(){this._dispatchers=[],InspectorBackend.registerHeapProfilerDispatcher(this)},WebInspector.HeapProfilerDispatcher.prototype={register:function(a){this._dispatchers.push(a)},_genericCaller:function(a){for(var b=Array.prototype.slice.call(arguments.callee.caller.arguments),c=0;c<this._dispatchers.length;++c)this._dispatchers[c][a].apply(this._dispatchers[c],b)},heapStatsUpdate:function(){this._genericCaller("heapStatsUpdate")},lastSeenObjectId:function(){this._genericCaller("lastSeenObjectId")},addHeapSnapshotChunk:function(){this._genericCaller("addHeapSnapshotChunk")},reportHeapSnapshotProgress:function(){this._genericCaller("reportHeapSnapshotProgress")},resetProfiles:function(){this._genericCaller("resetProfiles")}},WebInspector.HeapProfilerDispatcher._dispatcher=new WebInspector.HeapProfilerDispatcher,WebInspector.HeapSnapshotProfileType=function(a,b){WebInspector.ProfileType.call(this,a||WebInspector.HeapSnapshotProfileType.TypeId,b||WebInspector.UIString("Take Heap Snapshot")),WebInspector.HeapProfilerDispatcher._dispatcher.register(this)},WebInspector.HeapSnapshotProfileType.TypeId="HEAP",WebInspector.HeapSnapshotProfileType.SnapshotReceived="SnapshotReceived",WebInspector.HeapSnapshotProfileType.prototype={fileExtension:function(){return".heapsnapshot"},get buttonTooltip(){return WebInspector.UIString("Take heap snapshot.")},isInstantProfile:function(){return!0},buttonClicked:function(){return this._takeHeapSnapshot(function(){}),WebInspector.userMetrics.ProfilesHeapProfileTaken.record(),!1},heapStatsUpdate:function(){},lastSeenObjectId:function(){},get treeItemTitle(){return WebInspector.UIString("HEAP SNAPSHOTS")},get description(){return WebInspector.UIString("Heap snapshot profiles show memory distribution among your page's JavaScript objects and related DOM nodes.")},createProfileLoadedFromFile:function(a){return new WebInspector.HeapProfileHeader(this,a)},_takeHeapSnapshot:function(a){function b(){var b=this._profileBeingRecorded;b.title=WebInspector.UIString("Snapshot %d",b.uid),b._finishLoad(),this._profileBeingRecorded=null,WebInspector.panels.profiles.showProfile(b),a()}this.profileBeingRecorded()||(this._profileBeingRecorded=new WebInspector.HeapProfileHeader(this),this.addProfile(this._profileBeingRecorded),this._profileBeingRecorded.updateStatus(WebInspector.UIString("Snapshotting…")),HeapProfilerAgent.takeHeapSnapshot(!0,b.bind(this)))},addHeapSnapshotChunk:function(a){this.profileBeingRecorded()&&this.profileBeingRecorded().transferChunk(a)},reportHeapSnapshotProgress:function(a,b,c){var d=this.profileBeingRecorded();d&&(d.updateStatus(WebInspector.UIString("%.0f%",a/b*100),!0),c&&d._prepareToLoad())},resetProfiles:function(){this._reset()},_snapshotReceived:function(a){this._profileBeingRecorded===a&&(this._profileBeingRecorded=null),this.dispatchEventToListeners(WebInspector.HeapSnapshotProfileType.SnapshotReceived,a)},__proto__:WebInspector.ProfileType.prototype},WebInspector.TrackingHeapSnapshotProfileType=function(){WebInspector.HeapSnapshotProfileType.call(this,WebInspector.TrackingHeapSnapshotProfileType.TypeId,WebInspector.UIString("Record Heap Allocations"))},WebInspector.TrackingHeapSnapshotProfileType.TypeId="HEAP-RECORD",WebInspector.TrackingHeapSnapshotProfileType.HeapStatsUpdate="HeapStatsUpdate",WebInspector.TrackingHeapSnapshotProfileType.TrackingStarted="TrackingStarted",WebInspector.TrackingHeapSnapshotProfileType.TrackingStopped="TrackingStopped",WebInspector.TrackingHeapSnapshotProfileType.prototype={heapStatsUpdate:function(a){if(this._profileSamples)for(var b,c=0;c<a.length;c+=3){b=a[c];var d=(a[c+1],a[c+2]);this._profileSamples.sizes[b]=d,this._profileSamples.max[b]||(this._profileSamples.max[b]=d)}},lastSeenObjectId:function(a,b){var c=this._profileSamples;if(c){var d=Math.max(c.ids.length,c.max.length-1);c.ids[d]=a,c.max[d]||(c.max[d]=0,c.sizes[d]=0),c.timestamps[d]=b,c.totalTime<b-c.timestamps[0]&&(c.totalTime*=2),this.dispatchEventToListeners(WebInspector.TrackingHeapSnapshotProfileType.HeapStatsUpdate,this._profileSamples),this._profileBeingRecorded.updateStatus(null,!0)}},hasTemporaryView:function(){return!0},get buttonTooltip(){return WebInspector.UIString(this._recording?"Stop recording heap profile.":"Start recording heap profile.")},isInstantProfile:function(){return!1},buttonClicked:function(){return this._toggleRecording()},_startRecordingProfile:function(){this.profileBeingRecorded()||(this._addNewProfile(),HeapProfilerAgent.startTrackingHeapObjects(WebInspector.experimentsSettings.allocationProfiler.isEnabled()))},_addNewProfile:function(){this._profileBeingRecorded=new WebInspector.HeapProfileHeader(this),this._lastSeenIndex=-1,this._profileSamples={sizes:[],ids:[],timestamps:[],max:[],totalTime:3e4},this._profileBeingRecorded._profileSamples=this._profileSamples,this._recording=!0,this.addProfile(this._profileBeingRecorded),this._profileBeingRecorded.updateStatus(WebInspector.UIString("Recording…")),this.dispatchEventToListeners(WebInspector.TrackingHeapSnapshotProfileType.TrackingStarted)},_stopRecordingProfile:function(){function a(){var a=this._profileBeingRecorded;a&&(a._finishLoad(),this._profileSamples=null,this._profileBeingRecorded=null,WebInspector.panels.profiles.showProfile(a))}this._profileBeingRecorded.updateStatus(WebInspector.UIString("Snapshotting…")),HeapProfilerAgent.stopTrackingHeapObjects(!0,a.bind(this)),this._recording=!1,this.dispatchEventToListeners(WebInspector.TrackingHeapSnapshotProfileType.TrackingStopped)},_toggleRecording:function(){return this._recording?this._stopRecordingProfile():this._startRecordingProfile(),this._recording},get treeItemTitle(){return WebInspector.UIString("HEAP TIMELINES")},get description(){return WebInspector.UIString("Record JavaScript object allocations over time. Use this profile type to isolate memory leaks.")},resetProfiles:function(){var a=this._recording;this._profileBeingRecorded=null,WebInspector.HeapSnapshotProfileType.prototype.resetProfiles.call(this),this._profileSamples=null,this._lastSeenIndex=-1,a&&this._addNewProfile()},profileBeingRecordedRemoved:function(){this._stopRecordingProfile(),this._profileSamples=null},__proto__:WebInspector.HeapSnapshotProfileType.prototype},WebInspector.HeapProfileHeader=function(a,b){WebInspector.ProfileHeader.call(this,a,b||WebInspector.UIString("Snapshot %d",a._nextProfileUid)),this.maxJSObjectId=-1,this._workerProxy=null,this._receiver=null,this._snapshotProxy=null,this._loadCallbacks=[],this._totalNumberOfChunks=0,this._bufferedWriter=null},WebInspector.HeapProfileHeader.prototype={createSidebarTreeElement:function(){return new WebInspector.ProfileSidebarTreeElement(this,"heap-snapshot-sidebar-tree-item")},createView:function(){return new WebInspector.HeapSnapshotView(this)},load:function(a){return-1!==this.uid?this._snapshotProxy?void a(this._snapshotProxy):void this._loadCallbacks.push(a):void 0},_prepareToLoad:function(){console.assert(!this._receiver,"Already loading"),this._setupWorker(),this.updateStatus(WebInspector.UIString("Loading…"),!0)},_finishLoad:function(){this._wasDisposed||this._receiver.close(function(){}),this._bufferedWriter&&(this._bufferedWriter.close(this._didWriteToTempFile.bind(this)),this._bufferedWriter=null)},_didWriteToTempFile:function(a){return this._wasDisposed?void(a&&a.remove()):(this._tempFile=a,a||(this._failedToCreateTempFile=!0),void(this._onTempFileReady&&(this._onTempFileReady(),this._onTempFileReady=null)))},_setupWorker:function(){function a(a){this.updateStatus(null,a.data)}console.assert(!this._workerProxy,"HeapSnapshotWorkerProxy already exists"),this._workerProxy=new WebInspector.HeapSnapshotWorkerProxy(this._handleWorkerEvent.bind(this)),this._workerProxy.addEventListener("wait",a,this),this._receiver=this._workerProxy.createLoader(this.uid,this._snapshotReceived.bind(this))},_handleWorkerEvent:function(a,b){if(WebInspector.HeapSnapshotProgressEvent.Update===a){var c=b;this.updateStatus(c)}},dispose:function(){this._workerProxy&&this._workerProxy.dispose(),this.removeTempFile(),this._wasDisposed=!0},_didCompleteSnapshotTransfer:function(){this._snapshotProxy&&this.updateStatus(Number.bytesToString(this._snapshotProxy.totalSize),!1)},transferChunk:function(a){this._bufferedWriter||(this._bufferedWriter=new WebInspector.BufferedTempFileWriter("heap-profiler",this.uid)),this._bufferedWriter.write(a),++this._totalNumberOfChunks,this._receiver.write(a,function(){})},_snapshotReceived:function(a){this._wasDisposed||(this._receiver=null,this._snapshotProxy=a,this.maxJSObjectId=a.maxJSObjectId(),this._didCompleteSnapshotTransfer(),this._workerProxy.startCheckingForLongRunningCalls(),this.notifySnapshotReceived())},notifySnapshotReceived:function(){for(var a=0;a<this._loadCallbacks.length;a++)this._loadCallbacks[a](this._snapshotProxy);this._loadCallbacks=null,this._profileType._snapshotReceived(this),this.canSaveToFile()&&this.dispatchEventToListeners(WebInspector.ProfileHeader.Events.ProfileReceived)},_wasShown:function(){},canSaveToFile:function(){return!this.fromFile()&&this._snapshotProxy},saveToFile:function(){function a(c){if(c)if(this._failedToCreateTempFile)WebInspector.console.log("Failed to open temp file with heap snapshot",WebInspector.ConsoleMessage.MessageLevel.Error),b.close();else if(this._tempFile){var d=new WebInspector.SaveSnapshotOutputStreamDelegate(this);this._tempFile.writeToOutputSteam(b,d)}else this._onTempFileReady=a.bind(this,c),this._updateSaveProgress(0,1)}var b=new WebInspector.FileOutputStream;this._fileName=this._fileName||"Heap-"+(new Date).toISO8601Compact()+this._profileType.fileExtension(),b.open(this._fileName,a.bind(this))},_updateSaveProgress:function(a,b){var c=(100*(b?a/b:0)).toFixed(0);this.updateStatus(WebInspector.UIString("Saving… %d%",c))},loadFromFile:function(a){this.updateStatus(WebInspector.UIString("Loading…"),!0),this._setupWorker();var b=new WebInspector.HeapSnapshotLoadFromFileDelegate(this),c=this._createFileReader(a,b);c.start(this._receiver)},_createFileReader:function(a,b){return new WebInspector.ChunkedFileReader(a,1e7,b)},__proto__:WebInspector.ProfileHeader.prototype},WebInspector.HeapSnapshotLoadFromFileDelegate=function(a){this._snapshotHeader=a},WebInspector.HeapSnapshotLoadFromFileDelegate.prototype={onTransferStarted:function(){},onChunkTransferred:function(){},onTransferFinished:function(){},onError:function(a,b){var c;switch(b.target.error.code){case b.target.error.NOT_FOUND_ERR:c=WebInspector.UIString("'%s' not found.",a.fileName());break;case b.target.error.NOT_READABLE_ERR:c=WebInspector.UIString("'%s' is not readable",a.fileName());break;case b.target.error.ABORT_ERR:return;default:c=WebInspector.UIString("'%s' error %d",a.fileName(),b.target.error.code)}this._snapshotHeader.updateStatus(c)}},WebInspector.SaveSnapshotOutputStreamDelegate=function(a){this._profileHeader=a},WebInspector.SaveSnapshotOutputStreamDelegate.prototype={onTransferStarted:function(){this._profileHeader._updateSaveProgress(0,1)},onTransferFinished:function(){this._profileHeader._didCompleteSnapshotTransfer()},onChunkTransferred:function(a){this._profileHeader._updateSaveProgress(a.loadedSize(),a.fileSize())},onError:function(a,b){WebInspector.console.log("Failed to read heap snapshot from temp file: "+b.message,WebInspector.ConsoleMessage.MessageLevel.Error),this.onTransferFinished()}},WebInspector.HeapTrackingOverviewGrid=function(a){WebInspector.VBox.call(this),this.registerRequiredCSS("flameChart.css"),this.element.id="heap-recording-view",this.element.classList.add("heap-tracking-overview"),this._overviewContainer=this.element.createChild("div","overview-container"),this._overviewGrid=new WebInspector.OverviewGrid("heap-recording"),this._overviewGrid.element.classList.add("fill"),this._overviewCanvas=this._overviewContainer.createChild("canvas","heap-recording-overview-canvas"),this._overviewContainer.appendChild(this._overviewGrid.element),this._overviewCalculator=new WebInspector.HeapTrackingOverviewGrid.OverviewCalculator,this._overviewGrid.addEventListener(WebInspector.OverviewGrid.Events.WindowChanged,this._onWindowChanged,this),this._profileSamples=a._profileSamples,a.profileType().profileBeingRecorded()===a&&(this._profileType=a._profileType,this._profileType.addEventListener(WebInspector.TrackingHeapSnapshotProfileType.HeapStatsUpdate,this._onHeapStatsUpdate,this),this._profileType.addEventListener(WebInspector.TrackingHeapSnapshotProfileType.TrackingStopped,this._onStopTracking,this));var b=this._profileSamples.timestamps,c=this._profileSamples.totalTime;this._windowLeft=0,this._windowRight=c&&b.length?(b[b.length-1]-b[0])/c:1,this._overviewGrid.setWindow(this._windowLeft,this._windowRight),this._yScale=new WebInspector.HeapTrackingOverviewGrid.SmoothScale,this._xScale=new WebInspector.HeapTrackingOverviewGrid.SmoothScale},WebInspector.HeapTrackingOverviewGrid.IdsRangeChanged="IdsRangeChanged",WebInspector.HeapTrackingOverviewGrid.prototype={_onStopTracking:function(){this._profileType.removeEventListener(WebInspector.TrackingHeapSnapshotProfileType.HeapStatsUpdate,this._onHeapStatsUpdate,this),this._profileType.removeEventListener(WebInspector.TrackingHeapSnapshotProfileType.TrackingStopped,this._onStopTracking,this)},_onHeapStatsUpdate:function(a){this._profileSamples=a.data,this._scheduleUpdate()},_drawOverviewCanvas:function(a,b){function c(a,b){for(var c=0,d=0,e=1;e<i.length;++e){var f=Math.floor((i[e]-j)*l);f!==d&&(c&&b(d,c),c=0,d=f),c+=a[e]}b(d,c)}function d(a,b){m=Math.max(m,b)}function e(a,c){o.moveTo(a,b-1),o.lineTo(a,Math.round(b-c*n-1))}if(this._profileSamples){var f=this._profileSamples,g=f.sizes,h=f.max,i=f.timestamps,j=i[0],k=i[i.length-1],l=this._xScale.nextScale(a/f.totalTime),m=0;c(g,d);var n=this._yScale.nextScale(m?b/(1.1*m):0);this._overviewCanvas.width=a*window.devicePixelRatio,this._overviewCanvas.height=b*window.devicePixelRatio,this._overviewCanvas.style.width=a+"px",this._overviewCanvas.style.height=b+"px";var o=this._overviewCanvas.getContext("2d");o.scale(window.devicePixelRatio,window.devicePixelRatio),o.beginPath(),o.lineWidth=2,o.strokeStyle="rgba(192, 192, 192, 0.6)";var p=(k-j)*l;o.moveTo(p,b-1),o.lineTo(p,0),o.stroke(),o.closePath();var q,r,s=14;if(n){const t=(b-s)/n;r=Math.pow(1024,Math.floor(Math.log(t)/Math.log(1024))),r*=Math.pow(10,Math.floor(Math.log(t/r)/Math.LN10)),t>=5*r&&(r*=5),q=Math.round(b-r*n-.5)+.5,o.beginPath(),o.lineWidth=1,o.strokeStyle="rgba(0, 0, 0, 0.2)",o.moveTo(0,q),o.lineTo(a,q),o.stroke(),o.closePath()}if(o.beginPath(),o.lineWidth=2,o.strokeStyle="rgba(192, 192, 192, 0.6)",c(h,e),o.stroke(),o.closePath(),o.beginPath(),o.lineWidth=2,o.strokeStyle="rgba(0, 0, 192, 0.8)",c(g,e),o.stroke(),o.closePath(),r){var u=Number.bytesToString(r),v=4,w=0,x=q-.5,y=2*v+o.measureText(u).width;o.beginPath(),o.textBaseline="bottom",o.font="10px "+window.getComputedStyle(this.element,null).getPropertyValue("font-family"),o.fillStyle="rgba(255, 255, 255, 0.75)",o.fillRect(w,x-s,y,s),o.fillStyle="rgb(64, 64, 64)",o.fillText(u,w+v,x),o.fill(),o.closePath()}}},onResize:function(){this._updateOverviewCanvas=!0,this._scheduleUpdate()},_onWindowChanged:function(){this._updateGridTimerId||(this._updateGridTimerId=setTimeout(this._updateGrid.bind(this),10))},_scheduleUpdate:function(){this._updateTimerId||(this._updateTimerId=setTimeout(this.update.bind(this),10))},_updateBoundaries:function(){this._windowLeft=this._overviewGrid.windowLeft(),this._windowRight=this._overviewGrid.windowRight(),this._windowWidth=this._windowRight-this._windowLeft},update:function(){this._updateTimerId=null,this.isShowing()&&(this._updateBoundaries(),this._overviewCalculator._updateBoundaries(this),this._overviewGrid.updateDividers(this._overviewCalculator),this._drawOverviewCanvas(this._overviewContainer.clientWidth,this._overviewContainer.clientHeight-20))},_updateGrid:function(){this._updateGridTimerId=0,this._updateBoundaries();for(var a=this._profileSamples.ids,b=this._profileSamples.timestamps,c=this._profileSamples.sizes,d=b[0],e=this._profileSamples.totalTime,f=d+e*this._windowLeft,g=d+e*this._windowRight,h=0,i=a[a.length-1]+1,j=0,k=0;k<b.length;++k)if(b[k]){if(b[k]>g)break;i=a[k],b[k]<f?h=a[k]:j+=c[k]}this.dispatchEventToListeners(WebInspector.HeapTrackingOverviewGrid.IdsRangeChanged,{minId:h,maxId:i,size:j})},__proto__:WebInspector.VBox.prototype},WebInspector.HeapTrackingOverviewGrid.SmoothScale=function(){this._lastUpdate=0,this._currentScale=0},WebInspector.HeapTrackingOverviewGrid.SmoothScale.prototype={nextScale:function(a){if(a=a||this._currentScale,this._currentScale){var b=Date.now(),c=b-this._lastUpdate;this._lastUpdate=b;var d=20,e=Math.pow(d,c/1e3),f=a/this._currentScale;this._currentScale*=Number.constrain(f,1/e,e)}else this._currentScale=a;return this._currentScale}},WebInspector.HeapTrackingOverviewGrid.OverviewCalculator=function(){},WebInspector.HeapTrackingOverviewGrid.OverviewCalculator.prototype={paddingLeft:function(){return 0},_updateBoundaries:function(a){this._minimumBoundaries=0,this._maximumBoundaries=a._profileSamples.totalTime,this._xScaleFactor=a._overviewContainer.clientWidth/this._maximumBoundaries},computePosition:function(a){return(a-this._minimumBoundaries)*this._xScaleFactor},formatTime:function(a,b){return Number.secondsToString(a/1e3,!!b)},maximumBoundary:function(){return this._maximumBoundaries},minimumBoundary:function(){return this._minimumBoundaries},zeroTime:function(){return this._minimumBoundaries},boundarySpan:function(){return this._maximumBoundaries-this._minimumBoundaries}},WebInspector.HeapSnapshotStatisticsView=function(){WebInspector.VBox.call(this),this.setMinimumSize(50,25),this._pieChart=new WebInspector.PieChart,this._pieChart.setSize(150),this.element.appendChild(this._pieChart.element),this._labels=this.element.createChild("div","heap-snapshot-stats-legend")},WebInspector.HeapSnapshotStatisticsView.prototype={setTotal:function(a){this._pieChart.setTotal(a)},addRecord:function(a,b,c){c&&this._pieChart.addSlice(a,c);var d=this._labels.createChild("div"),e=d.createChild("div","heap-snapshot-stats-swatch"),f=d.createChild("div","heap-snapshot-stats-name"),g=d.createChild("div","heap-snapshot-stats-size");c?e.style.backgroundColor=c:e.classList.add("heap-snapshot-stats-empty-swatch"),f.textContent=b,g.textContent=WebInspector.UIString("%s KB",Number.withThousandsSeparator(Math.round(a/1024)))},__proto__:WebInspector.VBox.prototype},WebInspector.ProfileLauncherView=function(a){WebInspector.VBox.call(this),this._panel=a,this.element.classList.add("profile-launcher-view"),this.element.classList.add("panel-enabler-view"),this._contentElement=this.element.createChild("div","profile-launcher-view-content"),this._innerContentElement=this._contentElement.createChild("div"),this._controlButton=this._contentElement.createChild("button","control-profiling"),this._controlButton.addEventListener("click",this._controlButtonClicked.bind(this),!1),this._loadButton=this._contentElement.createChild("button","load-profile"),this._loadButton.textContent=WebInspector.UIString("Load"),this._loadButton.addEventListener("click",this._loadButtonClicked.bind(this),!1)},WebInspector.ProfileLauncherView.prototype={addProfileType:function(a){var b=this._innerContentElement.createChild("h1");b.textContent=a.description;var c=a.decorationElement();c&&this._innerContentElement.appendChild(c),this._isInstantProfile=a.isInstantProfile(),this._isEnabled=a.isEnabled(),this._profileTypeId=a.id},_controlButtonClicked:function(){this._panel.toggleRecordButton()},_loadButtonClicked:function(){this._panel.showLoadFromFileDialog()},_updateControls:function(){this._isEnabled?this._controlButton.removeAttribute("disabled"):this._controlButton.setAttribute("disabled",""),this._isInstantProfile?(this._controlButton.classList.remove("running"),this._controlButton.textContent=WebInspector.UIString("Take Snapshot")):this._isProfiling?(this._controlButton.classList.add("running"),this._controlButton.textContent=WebInspector.UIString("Stop")):(this._controlButton.classList.remove("running"),this._controlButton.textContent=WebInspector.UIString("Start"))},profileStarted:function(){this._isProfiling=!0,this._updateControls()},profileFinished:function(){this._isProfiling=!1,this._updateControls()},updateProfileType:function(a){this._isInstantProfile=a.isInstantProfile(),this._isEnabled=a.isEnabled(),this._profileTypeId=a.id,this._updateControls()},__proto__:WebInspector.VBox.prototype},WebInspector.MultiProfileLauncherView=function(a){WebInspector.ProfileLauncherView.call(this,a),WebInspector.settings.selectedProfileType=WebInspector.settings.createSetting("selectedProfileType","CPU");var b=this._innerContentElement.createChild("h1");b.textContent=WebInspector.UIString("Select profiling type"),this._profileTypeSelectorForm=this._innerContentElement.createChild("form"),this._innerContentElement.createChild("div","flexible-space"),this._typeIdToOptionElement={}},WebInspector.MultiProfileLauncherView.EventTypes={ProfileTypeSelected:"profile-type-selected"},WebInspector.MultiProfileLauncherView.prototype={addProfileType:function(a){var b=this._profileTypeSelectorForm.createChild("label");b.textContent=a.name;var c=document.createElement("input");b.insertBefore(c,b.firstChild),this._typeIdToOptionElement[a.id]=c,c._profileType=a,c.type="radio",c.name="profile-type",c.style.hidden=!0,c.addEventListener("change",this._profileTypeChanged.bind(this,a),!1);var d=b.createChild("p");d.textContent=a.description;var e=a.decorationElement();e&&b.appendChild(e)},restoreSelectedProfileType:function(){var a=WebInspector.settings.selectedProfileType.get();a in this._typeIdToOptionElement||(a=Object.keys(this._typeIdToOptionElement)[0]),this._typeIdToOptionElement[a].checked=!0;var b=this._typeIdToOptionElement[a]._profileType;this.dispatchEventToListeners(WebInspector.MultiProfileLauncherView.EventTypes.ProfileTypeSelected,b)},_controlButtonClicked:function(){this._panel.toggleRecordButton()},_updateControls:function(){WebInspector.ProfileLauncherView.prototype._updateControls.call(this);for(var a=this._profileTypeSelectorForm.elements,b=0;b<a.length;++b)"radio"===a[b].type&&(a[b].disabled=this._isProfiling)},_profileTypeChanged:function(a){this.dispatchEventToListeners(WebInspector.MultiProfileLauncherView.EventTypes.ProfileTypeSelected,a),this._isInstantProfile=a.isInstantProfile(),this._isEnabled=a.isEnabled(),this._profileTypeId=a.id,this._updateControls(),WebInspector.settings.selectedProfileType.set(a.id)},profileStarted:function(){this._isProfiling=!0,this._updateControls()},profileFinished:function(){this._isProfiling=!1,this._updateControls()},__proto__:WebInspector.ProfileLauncherView.prototype},WebInspector.TopDownProfileDataGridNode=function(a,b){var c=!(!a.children||!a.children.length);WebInspector.ProfileDataGridNode.call(this,a,b,c),this._remainingChildren=a.children},WebInspector.TopDownProfileDataGridNode.prototype={_sharedPopulate:function(){for(var a=this._remainingChildren,b=a.length,c=0;b>c;++c)this.appendChild(new WebInspector.TopDownProfileDataGridNode(a[c],this.tree));this._remainingChildren=null},_exclude:function(a){this._remainingChildren&&this.populate(),this._save();for(var b=this.children,c=this.children.length;c--;)b[c]._exclude(a);var d=this.childrenByCallUID[a];d&&this._merge(d,!0)},__proto__:WebInspector.ProfileDataGridNode.prototype},WebInspector.TopDownProfileDataGridTree=function(a,b){WebInspector.ProfileDataGridTree.call(this,a,b),this._remainingChildren=b.children;var c=this,d=c;WebInspector.TopDownProfileDataGridNode.prototype.populate.call(d)},WebInspector.TopDownProfileDataGridTree.prototype={focus:function(a){a&&(this._save(),a.savePosition(),this.children=[a],this.totalTime=a.totalTime)},exclude:function(a){if(a){this._save();var b=a.callUID,c=this,d=c;WebInspector.TopDownProfileDataGridNode.prototype._exclude.call(d,b),this.lastComparator&&this.sort(this.lastComparator,!0)}},restore:function(){this._savedChildren&&(this.children[0].restorePosition(),WebInspector.ProfileDataGridTree.prototype.restore.call(this))},_merge:WebInspector.TopDownProfileDataGridNode.prototype._merge,_sharedPopulate:WebInspector.TopDownProfileDataGridNode.prototype._sharedPopulate,__proto__:WebInspector.ProfileDataGridTree.prototype},WebInspector.CanvasProfileView=function(a){WebInspector.VBox.call(this),this.registerRequiredCSS("canvasProfiler.css"),this.element.classList.add("canvas-profile-view"),this._profile=a,this._traceLogId=a.traceLogId(),this._traceLogPlayer=a.traceLogPlayer(),this._linkifier=new WebInspector.Linkifier,this._replayInfoSplitView=new WebInspector.SplitView(!0,!0,"canvasProfileViewReplaySplitViewState",.34),this._replayInfoSplitView.show(this.element),this._imageSplitView=new WebInspector.SplitView(!1,!0,"canvasProfileViewSplitViewState",300),this._imageSplitView.show(this._replayInfoSplitView.mainElement());var b=new WebInspector.VBox;b.setMinimumSize(50,28),b.show(this._imageSplitView.mainElement());var c=b.element.createChild("div");c.id="canvas-replay-image-container",this._replayImageElement=c.createChild("img","canvas-replay-image"),this._debugInfoElement=c.createChild("div","canvas-debug-info hidden"),this._spinnerIcon=c.createChild("div","spinner-icon small hidden");var d=new WebInspector.VBox;d.setMinimumSize(22,22),d.show(this._imageSplitView.sidebarElement());var e=d.element,f=e.createChild("div","status-bar"),g=e.createChild("div","canvas-replay-log");this._createControlButton(f,"canvas-replay-first-step",WebInspector.UIString("First call."),this._onReplayFirstStepClick.bind(this)),this._createControlButton(f,"canvas-replay-prev-step",WebInspector.UIString("Previous call."),this._onReplayStepClick.bind(this,!1)),this._createControlButton(f,"canvas-replay-next-step",WebInspector.UIString("Next call."),this._onReplayStepClick.bind(this,!0)),this._createControlButton(f,"canvas-replay-prev-draw",WebInspector.UIString("Previous drawing call."),this._onReplayDrawingCallClick.bind(this,!1)),this._createControlButton(f,"canvas-replay-next-draw",WebInspector.UIString("Next drawing call."),this._onReplayDrawingCallClick.bind(this,!0)),this._createControlButton(f,"canvas-replay-last-step",WebInspector.UIString("Last call."),this._onReplayLastStepClick.bind(this)),this._replayContextSelector=new WebInspector.StatusBarComboBox(this._onReplayContextChanged.bind(this)),this._replayContextSelector.createOption(WebInspector.UIString("<screenshot auto>"),WebInspector.UIString("Show screenshot of the last replayed resource."),""),f.appendChild(this._replayContextSelector.element),this._installReplayInfoSidebarWidgets(f),this._replayStateView=new WebInspector.CanvasReplayStateView(this._traceLogPlayer),this._replayStateView.show(this._replayInfoSplitView.sidebarElement()),this._replayContexts={};
var h=[{title:"#",sortable:!1,width:"5%"},{title:WebInspector.UIString("Call"),sortable:!1,width:"75%",disclosure:!0},{title:WebInspector.UIString("Location"),sortable:!1,width:"20%"}];this._logGrid=new WebInspector.DataGrid(h),this._logGrid.element.classList.add("fill"),this._logGrid.show(g),this._logGrid.addEventListener(WebInspector.DataGrid.Events.SelectedNode,this._replayTraceLog,this),this.element.addEventListener("mousedown",this._onMouseClick.bind(this),!0),this._popoverHelper=new WebInspector.ObjectPopoverHelper(this.element,this._popoverAnchor.bind(this),this._resolveObjectForPopover.bind(this),this._onHidePopover.bind(this),!0),this._popoverHelper.setRemoteObjectFormatter(this._hexNumbersFormatter.bind(this)),this._requestTraceLog(0)},WebInspector.CanvasProfileView.TraceLogPollingInterval=500,WebInspector.CanvasProfileView.prototype={dispose:function(){this._linkifier.reset()},get statusBarItems(){return[]},get profile(){return this._profile},elementsToRestoreScrollPositionsFor:function(){return[this._logGrid.scrollContainer]},_installReplayInfoSidebarWidgets:function(a){this._replayInfoResizeWidgetElement=a.createChild("div","resizer-widget"),this._replayInfoSplitView.addEventListener(WebInspector.SplitView.Events.ShowModeChanged,this._updateReplayInfoResizeWidget,this),this._updateReplayInfoResizeWidget(),this._replayInfoSplitView.installResizer(this._replayInfoResizeWidgetElement),this._toggleReplayStateSidebarButton=this._replayInfoSplitView.createShowHideSidebarButton("sidebar","canvas-sidebar-show-hide-button"),a.appendChild(this._toggleReplayStateSidebarButton.element),this._replayInfoSplitView.hideSidebar()},_updateReplayInfoResizeWidget:function(){this._replayInfoResizeWidgetElement.classList.toggle("hidden",this._replayInfoSplitView.showMode()!==WebInspector.SplitView.ShowMode.Both)},_onMouseClick:function(a){var b=a.target.enclosingNodeOrSelfWithClass("canvas-formatted-resource");return b?(this._replayInfoSplitView.showBoth(),this._replayStateView.selectResource(b.__resourceId),void a.consume(!0)):void(a.target.enclosingNodeOrSelfWithClass("webkit-html-resource-link")&&a.consume(!1))},_createControlButton:function(a,b,c,d){var e=new WebInspector.StatusBarButton(c,b+" canvas-replay-button");a.appendChild(e.element),e.makeLongClickEnabled(),e.addEventListener("click",d,this),e.addEventListener("longClickDown",d,this),e.addEventListener("longClickPress",d,this)},_onReplayContextChanged:function(){function a(a){if(this._enableWaitIcon(!1),b===this._replayContextSelector.selectedOption().value){var c=a&&a.imageURL||"";this._replayImageElement.src=c,this._replayImageElement.style.visibility=c?"":"hidden"}}var b=this._replayContextSelector.selectedOption().value;this._enableWaitIcon(!0),this._traceLogPlayer.getResourceState(b,a.bind(this))},_onReplayStepClick:function(a){var b=this._logGrid.selectedNode;if(b){var c=b;do c=a?c.traverseNextNode(!1):c.traversePreviousNode(!1);while(c&&"number"!=typeof c.index);(c||b).revealAndSelect()}},_onReplayDrawingCallClick:function(a){var b=this._logGrid.selectedNode;if(b){for(var c=b;c;){var d=a?c.nextSibling:c.previousSibling;if(d){if(c=d,c.hasChildren||c.call.isDrawingCall)break}else if(c=c.parent,!a)break}!c&&a?this._onReplayLastStepClick():(c||b).revealAndSelect()}},_onReplayFirstStepClick:function(){var a=this._logGrid.rootNode().children[0];a&&a.revealAndSelect()},_onReplayLastStepClick:function(){var a=this._logGrid.rootNode().children.peekLast();if(a){for(;a.expanded;){var b=a.children.peekLast();if(!b)break;a=b}a.revealAndSelect()}},_enableWaitIcon:function(a){this._spinnerIcon.classList.toggle("hidden",!a),this._debugInfoElement.classList.toggle("hidden",a)},_replayTraceLog:function(){function a(a,c){delete this._pendingReplayTraceLogEvent,this._enableWaitIcon(!1),this._debugInfoElement.textContent=WebInspector.UIString("Replay time: %s",Number.secondsToString(c/1e3,!0)),this._onReplayContextChanged(),b!==this._selectedCallIndex()&&this._replayTraceLog()}if(!this._pendingReplayTraceLogEvent){var b=this._selectedCallIndex();-1!==b&&b!==this._lastReplayCallIndex&&(this._lastReplayCallIndex=b,this._pendingReplayTraceLogEvent=!0,this._enableWaitIcon(!0),this._traceLogPlayer.replayTraceLog(b,a.bind(this)))}},_requestTraceLog:function(a){function b(a){if(this._enableWaitIcon(!1),a){for(var b=[],c=a.calls,d=a.startOffset,e=0,f=c.length;f>e;++e)b.push(this._createCallNode(d++,c[e]));for(var g=a.contexts,e=0,f=g.length;f>e;++e){var h=g[e].resourceId||"",i=g[e].description||"";this._replayContexts[h]||(this._replayContexts[h]=!0,this._replayContextSelector.createOption(i,WebInspector.UIString("Show screenshot of this context's canvas."),h))}this._appendCallNodes(b),a.alive?setTimeout(this._requestTraceLog.bind(this,d),WebInspector.CanvasProfileView.TraceLogPollingInterval):this._flattenSingleFrameNode(),this._profile._updateCapturingStatus(a),this._onReplayLastStepClick()}}this._enableWaitIcon(!0),this._traceLogPlayer.getTraceLog(a,void 0,b.bind(this))},_selectedCallIndex:function(){var a=this._logGrid.selectedNode;return a?this._peekLastRecursively(a).index:-1},_peekLastRecursively:function(a){for(var b;b=a.children.peekLast();)a=b;return a},_appendCallNodes:function(a){var b=this._logGrid.rootNode(),c=b.children.peekLast();c&&this._peekLastRecursively(c).call.isFrameEndCall&&(c=null);for(var d=0,e=a.length;e>d;++d){if(!c){var f=b.children.length,g={};g[0]="",g[1]=WebInspector.UIString("Frame #%d",f+1),g[2]="",c=new WebInspector.DataGridNode(g),c.selectable=!0,b.appendChild(c)}for(var h=d+1;e>h&&!a[h-1].call.isFrameEndCall;)++h;this._appendCallNodesToFrameNode(c,a,d,h),d=h-1,c=null}},_appendCallNodesToFrameNode:function(a,b,c,d){function e(){var b=g._drawCallGroupsCount||0,c={};c[0]="",c[1]=WebInspector.UIString("Draw call group #%d",b+1),c[2]="";var d=new WebInspector.DataGridNode(c);return d.selectable=!0,g._drawCallGroupsCount=b+1,a.appendChild(d),d}function f(a){for(var b,c=0;(b=a.children[c])&&!b.call.isDrawingCall;)++c;for(var d,f=e();d=a.children[c+1];)f.appendChild(d);return f}var g=this,h=a.children.peekLast(),i=!1;if(h){for(var j=0,k=h.children.length;k>j;++j)if(h.children[j].call.isDrawingCall){i=!0;break}}else h=e();for(var j=c;d>j;++j){var l=b[j];h.appendChild(l),l.call.isDrawingCall&&(i?h=f(h):i=!0)}},_createCallNode:function(a,b){var c=document.createElement("div"),d={};if(d[0]=a+1,d[1]=c,d[2]="",b.sourceURL){var e=Math.max(0,b.lineNumber-1)||0,f=Math.max(0,b.columnNumber-1)||0;d[2]=this._linkifier.linkifyLocation(b.sourceURL,e,f)}if(c.createChild("span","canvas-function-name").textContent=b.functionName||"context."+b.property,b.arguments){c.createTextChild("(");for(var g=0,h=b.arguments.length;h>g;++g){var i=b.arguments[g];g&&c.createTextChild(", ");var j=WebInspector.CanvasProfileDataGridHelper.createCallArgumentElement(i);j.__argumentIndex=g,c.appendChild(j)}c.createTextChild(")")}else b.value&&(c.createTextChild(" = "),c.appendChild(WebInspector.CanvasProfileDataGridHelper.createCallArgumentElement(b.value)));b.result&&(c.createTextChild(" => "),c.appendChild(WebInspector.CanvasProfileDataGridHelper.createCallArgumentElement(b.result)));var k=new WebInspector.DataGridNode(d);return k.index=a,k.selectable=!0,k.call=b,k},_popoverAnchor:function(a){var b=a.enclosingNodeOrSelfWithClass("canvas-call-argument");return!b||b.__suppressPopover?null:b},_resolveObjectForPopover:function(a,b,c){function d(c,d){if(!c&&d){this._popoverAnchorElement=a.cloneNode(!0),this._popoverAnchorElement.classList.add("canvas-popover-anchor"),this._popoverAnchorElement.classList.add("source-frame-eval-expression"),a.parentElement.appendChild(this._popoverAnchorElement);var e=this._popoverAnchorElement.boxInWindow().x-a.boxInWindow().x;this._popoverAnchorElement.style.left=this._popoverAnchorElement.offsetLeft-e+"px",b(WebInspector.RemoteObject.fromPayload(d),!1,this._popoverAnchorElement)}}var e=a.__evalResult;if(e)d.call(this,null,e);else{var f=this._logGrid.dataGridNodeFromNode(a);if(!f||"number"!=typeof f.index)return void this._popoverHelper.hidePopover();var g=f.index,h=a.__argumentIndex;"number"!=typeof h&&(h=-1),CanvasAgent.evaluateTraceLogCallArgument(this._traceLogId,g,h,c,d.bind(this))}},_hexNumbersFormatter:function(a){if("number"===a.type){var b="0000"+Number(a.description).toString(16).toUpperCase();return b=b.replace(/^0+(.{4,})$/,"$1"),"0x"+b}return a.description||""},_onHidePopover:function(){this._popoverAnchorElement&&(this._popoverAnchorElement.remove(),delete this._popoverAnchorElement)},_flattenSingleFrameNode:function(){var a=this._logGrid.rootNode();if(1===a.children.length){for(var b=a.children[0];b.children[0];)a.appendChild(b.children[0]);a.removeChild(b)}},__proto__:WebInspector.VBox.prototype},WebInspector.CanvasProfileType=function(){WebInspector.ProfileType.call(this,WebInspector.CanvasProfileType.TypeId,WebInspector.UIString("Capture Canvas Frame")),this._recording=!1,this._lastProfileHeader=null,this._capturingModeSelector=new WebInspector.StatusBarComboBox(this._dispatchViewUpdatedEvent.bind(this)),this._capturingModeSelector.element.title=WebInspector.UIString("Canvas capture mode."),this._capturingModeSelector.createOption(WebInspector.UIString("Single Frame"),WebInspector.UIString("Capture a single canvas frame."),""),this._capturingModeSelector.createOption(WebInspector.UIString("Consecutive Frames"),WebInspector.UIString("Capture consecutive canvas frames."),"1"),this._frameOptions={},this._framesWithCanvases={},this._frameSelector=new WebInspector.StatusBarComboBox(this._dispatchViewUpdatedEvent.bind(this)),this._frameSelector.element.title=WebInspector.UIString("Frame containing the canvases to capture."),this._frameSelector.element.classList.add("hidden"),WebInspector.resourceTreeModel.frames().forEach(this._addFrame,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameAdded,this._frameAdded,this),WebInspector.resourceTreeModel.addEventListener(WebInspector.ResourceTreeModel.EventTypes.FrameDetached,this._frameRemoved,this),this._dispatcher=new WebInspector.CanvasDispatcher(this),this._canvasAgentEnabled=!1,this._decorationElement=document.createElement("div"),this._decorationElement.className="profile-canvas-decoration",this._updateDecorationElement()},WebInspector.CanvasProfileType.TypeId="CANVAS_PROFILE",WebInspector.CanvasProfileType.prototype={get statusBarItems(){return[this._capturingModeSelector.element,this._frameSelector.element]},get buttonTooltip(){return WebInspector.UIString(this._isSingleFrameMode()?"Capture next canvas frame.":this._recording?"Stop capturing canvas frames.":"Start capturing canvas frames.")},buttonClicked:function(){return this._canvasAgentEnabled?(this._recording?(this._recording=!1,this._stopFrameCapturing()):this._isSingleFrameMode()?(this._recording=!1,this._runSingleFrameCapturing()):(this._recording=!0,this._startFrameCapturing()),this._recording):!1},_runSingleFrameCapturing:function(){var a=this._selectedFrameId();CanvasAgent.captureFrame(a,this._didStartCapturingFrame.bind(this,a))},_startFrameCapturing:function(){var a=this._selectedFrameId();CanvasAgent.startCapturing(a,this._didStartCapturingFrame.bind(this,a))},_stopFrameCapturing:function(){function a(){b._updateCapturingStatus()}if(this._lastProfileHeader){var b=this._lastProfileHeader,c=b.traceLogId();this._lastProfileHeader=null,CanvasAgent.stopCapturing(c,a)}},_didStartCapturingFrame:function(a,b,c){if(!(b||this._lastProfileHeader&&this._lastProfileHeader.traceLogId()===c)){var d=new WebInspector.CanvasProfileHeader(this,c,a);this._lastProfileHeader=d,this.addProfile(d),d._updateCapturingStatus()}},get treeItemTitle(){return WebInspector.UIString("CANVAS PROFILE")},get description(){return WebInspector.UIString("Canvas calls instrumentation")},decorationElement:function(){return this._decorationElement},removeProfile:function(a){WebInspector.ProfileType.prototype.removeProfile.call(this,a),this._recording&&a===this._lastProfileHeader&&(this._recording=!1)},_updateDecorationElement:function(a){function b(a,b){(a||b)&&WebInspector.resourceTreeModel.reloadPage()}this._decorationElement.removeChildren(),this._decorationElement.createChild("div","warning-icon-small"),this._decorationElement.appendChild(document.createTextNode(WebInspector.UIString(this._canvasAgentEnabled?"Canvas Profiler is enabled.":"Canvas Profiler is disabled.")));var c=this._decorationElement.createChild("button");if(c.type="button",c.textContent=WebInspector.UIString(this._canvasAgentEnabled?"Disable":"Enable"),c.addEventListener("click",this._onProfilerEnableButtonClick.bind(this,!this._canvasAgentEnabled),!1),a)if(this._canvasAgentEnabled)CanvasAgent.hasUninstrumentedCanvases(b);else for(var d in this._framesWithCanvases)if(this._framesWithCanvases.hasOwnProperty(d)){WebInspector.resourceTreeModel.reloadPage();break}},_onProfilerEnableButtonClick:function(a){function b(b){b||(this._canvasAgentEnabled=a,this._updateDecorationElement(!0),this._dispatchViewUpdatedEvent())}this._canvasAgentEnabled!==a&&(a?CanvasAgent.enable(b.bind(this)):CanvasAgent.disable(b.bind(this)))},_isSingleFrameMode:function(){return!this._capturingModeSelector.selectedOption().value},_frameAdded:function(a){var b=a.data;this._addFrame(b)},_addFrame:function(a){var b=a.id,c=document.createElement("option");c.text=a.displayName(),c.title=a.url,c.value=b,this._frameOptions[b]=c,this._framesWithCanvases[b]&&(this._frameSelector.addOption(c),this._dispatchViewUpdatedEvent())},_frameRemoved:function(a){var b=a.data,c=b.id,d=this._frameOptions[c];d&&this._framesWithCanvases[c]&&(this._frameSelector.removeOption(d),this._dispatchViewUpdatedEvent()),delete this._frameOptions[c],delete this._framesWithCanvases[c]},_contextCreated:function(a){if(!this._framesWithCanvases[a]){this._framesWithCanvases[a]=!0;var b=this._frameOptions[a];b&&(this._frameSelector.addOption(b),this._dispatchViewUpdatedEvent())}},_traceLogsRemoved:function(a,b){for(var c=[],d=this.treeElement&&this.treeElement.children||[],e=0,f=d.length;f>e;++e){var g=d[e].profile;g&&(a&&a!==g.frameId()||b&&b!==g.traceLogId()||c.push(d[e]))}for(var e=0,f=c.length;f>e;++e)c[e].ondelete()},_selectedFrameId:function(){var a=this._frameSelector.selectedOption();return a?a.value:void 0},_dispatchViewUpdatedEvent:function(){this._frameSelector.element.classList.toggle("hidden",this._frameSelector.size()<=1),this.dispatchEventToListeners(WebInspector.ProfileType.Events.ViewUpdated)},isInstantProfile:function(){return this._isSingleFrameMode()},isEnabled:function(){return this._canvasAgentEnabled},__proto__:WebInspector.ProfileType.prototype},WebInspector.CanvasDispatcher=function(a){this._profileType=a,InspectorBackend.registerCanvasDispatcher(this)},WebInspector.CanvasDispatcher.prototype={contextCreated:function(a){this._profileType._contextCreated(a)},traceLogsRemoved:function(a,b){this._profileType._traceLogsRemoved(a,b)}},WebInspector.CanvasProfileHeader=function(a,b,c){WebInspector.ProfileHeader.call(this,a,WebInspector.UIString("Trace Log %d",a._nextProfileUid)),this._traceLogId=b||"",this._frameId=c,this._alive=!0,this._traceLogSize=0,this._traceLogPlayer=b?new WebInspector.CanvasTraceLogPlayerProxy(b):null},WebInspector.CanvasProfileHeader.prototype={traceLogId:function(){return this._traceLogId},traceLogPlayer:function(){return this._traceLogPlayer},frameId:function(){return this._frameId},createSidebarTreeElement:function(){return new WebInspector.ProfileSidebarTreeElement(this,"profile-sidebar-tree-item")},createView:function(){return new WebInspector.CanvasProfileView(this)},dispose:function(){this._traceLogPlayer&&this._traceLogPlayer.dispose(),clearTimeout(this._requestStatusTimer),this._alive=!1},_updateCapturingStatus:function(a){if(this._traceLogId){a&&(this._alive=a.alive,this._traceLogSize=a.totalAvailableCalls);var b=this._alive?WebInspector.UIString("Capturing… %d calls",this._traceLogSize):WebInspector.UIString("Captured %d calls",this._traceLogSize);this.updateStatus(b,this._alive),this._alive&&(clearTimeout(this._requestStatusTimer),this._requestStatusTimer=setTimeout(this._requestCapturingStatus.bind(this),WebInspector.CanvasProfileView.TraceLogPollingInterval))}},_requestCapturingStatus:function(){function a(a){a&&(this._alive=a.alive,this._traceLogSize=a.totalAvailableCalls,this._updateCapturingStatus())}this._traceLogPlayer.getTraceLog(0,0,a.bind(this))},__proto__:WebInspector.ProfileHeader.prototype},WebInspector.CanvasProfileDataGridHelper={createCallArgumentElement:function(a){if(a.enumName)return WebInspector.CanvasProfileDataGridHelper.createEnumValueElement(a.enumName,+a.description);var b=document.createElement("span");b.className="canvas-call-argument";var c=a.description;if("string"===a.type){const d=150;b.createTextChild('"'),b.createChild("span","canvas-formatted-string").textContent=c.trimMiddle(d),b.createTextChild('"'),b.__suppressPopover=c.length<=d&&!/[\r\n]/.test(c),b.__suppressPopover||(b.__evalResult=WebInspector.RemoteObject.fromPrimitiveValue(c))}else{var e=a.subtype||a.type;e&&(b.classList.add("canvas-formatted-"+e),["null","undefined","boolean","number"].indexOf(e)>=0&&(b.__suppressPopover=!0)),b.textContent=c,a.remoteObject&&(b.__evalResult=WebInspector.RemoteObject.fromPayload(a.remoteObject))}return a.resourceId&&(b.classList.add("canvas-formatted-resource"),b.__resourceId=a.resourceId),b},createEnumValueElement:function(a,b){var c=document.createElement("span");return c.className="canvas-call-argument canvas-formatted-number",c.textContent=a,c.__evalResult=WebInspector.RemoteObject.fromPrimitiveValue(b),c}},WebInspector.CanvasTraceLogPlayerProxy=function(a){this._traceLogId=a,this._currentResourceStates={},this._defaultResourceId=null},WebInspector.CanvasTraceLogPlayerProxy.Events={CanvasTraceLogReceived:"CanvasTraceLogReceived",CanvasReplayStateChanged:"CanvasReplayStateChanged",CanvasResourceStateReceived:"CanvasResourceStateReceived"},WebInspector.CanvasTraceLogPlayerProxy.prototype={getTraceLog:function(a,b,c){function d(a,b){return a||!b?void c(null):(c(b),void this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasTraceLogReceived,b))}CanvasAgent.getTraceLog(this._traceLogId,a,b,d.bind(this))},dispose:function(){this._currentResourceStates={},CanvasAgent.dropTraceLog(this._traceLogId),this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasReplayStateChanged)},getResourceState:function(a,b){function c(a,c){return a||!c?void b(null):(this._currentResourceStates[d]=c,b(c),void this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasResourceStateReceived,c))}if(a=a||this._defaultResourceId,!a)return void b(null);var d=a;return this._currentResourceStates[d]?void b(this._currentResourceStates[d]):void CanvasAgent.getResourceState(this._traceLogId,d,c.bind(this))},replayTraceLog:function(a,b){function c(a,c,d){this._currentResourceStates={},a?b(null,d):(this._defaultResourceId=c.id,this._currentResourceStates[c.id]=c,b(c,d)),this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasReplayStateChanged),a||this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasResourceStateReceived,c)}CanvasAgent.replayTraceLog(this._traceLogId,a,c.bind(this))},clearResourceStates:function(){this._currentResourceStates={},this.dispatchEventToListeners(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasReplayStateChanged)},__proto__:WebInspector.Object.prototype},WebInspector.CanvasReplayStateView=function(a){WebInspector.VBox.call(this),this.registerRequiredCSS("canvasProfiler.css"),this.element.classList.add("canvas-replay-state-view"),this._traceLogPlayer=a;var b=this.element.createChild("div","status-bar");this._prevButton=this._createControlButton(b,"canvas-replay-state-prev",WebInspector.UIString("Previous resource."),this._onResourceNavigationClick.bind(this,!1)),this._nextButton=this._createControlButton(b,"canvas-replay-state-next",WebInspector.UIString("Next resource."),this._onResourceNavigationClick.bind(this,!0)),this._createControlButton(b,"canvas-replay-state-refresh",WebInspector.UIString("Refresh."),this._onStateRefreshClick.bind(this)),this._resourceSelector=new WebInspector.StatusBarComboBox(this._onReplayResourceChanged.bind(this)),this._currentOption=this._resourceSelector.createOption(WebInspector.UIString("<auto>"),WebInspector.UIString("Show state of the last replayed resource."),""),b.appendChild(this._resourceSelector.element),this._resourceIdToDescription={},this._gridNodesExpandedState={},this._gridScrollPositions={},this._currentResourceId=null,this._prevOptionsStack=[],this._nextOptionsStack=[],this._highlightedGridNodes=[];var c=[{title:WebInspector.UIString("Name"),sortable:!1,width:"50%",disclosure:!0},{title:WebInspector.UIString("Value"),sortable:!1,width:"50%"}];this._stateGrid=new WebInspector.DataGrid(c),this._stateGrid.element.classList.add("fill"),this._stateGrid.show(this.element),this._traceLogPlayer.addEventListener(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasReplayStateChanged,this._onReplayResourceChanged,this),this._traceLogPlayer.addEventListener(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasTraceLogReceived,this._onCanvasTraceLogReceived,this),this._traceLogPlayer.addEventListener(WebInspector.CanvasTraceLogPlayerProxy.Events.CanvasResourceStateReceived,this._onCanvasResourceStateReceived,this),this._updateButtonsEnabledState()},WebInspector.CanvasReplayStateView.prototype={selectResource:function(a){if(a!==this._resourceSelector.selectedOption().value)for(var b=this._resourceSelector.selectElement().firstChild,c=0;b;++c,b=b.nextSibling)if(a===b.value){this._resourceSelector.setSelectedIndex(c),this._onReplayResourceChanged();break}},_createControlButton:function(a,b,c,d){var e=new WebInspector.StatusBarButton(c,b+" canvas-replay-button");return a.appendChild(e.element),e.makeLongClickEnabled(),e.addEventListener("click",d,this),e.addEventListener("longClickDown",d,this),e.addEventListener("longClickPress",d,this),e},_onResourceNavigationClick:function(a){var b=a?this._nextOptionsStack.pop():this._prevOptionsStack.pop();b&&((a?this._prevOptionsStack:this._nextOptionsStack).push(this._currentOption),this._isNavigationButton=!0,this.selectResource(b.value),delete this._isNavigationButton,this._updateButtonsEnabledState())},_onStateRefreshClick:function(){this._traceLogPlayer.clearResourceStates()},_updateButtonsEnabledState:function(){this._prevButton.setEnabled(this._prevOptionsStack.length>0),this._nextButton.setEnabled(this._nextOptionsStack.length>0)},_updateCurrentOption:function(){const a=256;var b=this._resourceSelector.selectedOption();this._currentOption!==b&&(this._isNavigationButton||(this._prevOptionsStack.push(this._currentOption),this._nextOptionsStack=[],this._prevOptionsStack.length>a&&this._prevOptionsStack.shift(),this._updateButtonsEnabledState()),this._currentOption=b)},_collectResourcesFromTraceLog:function(a){for(var b=[],c=a.calls,d=0,e=c.length;e>d;++d){for(var f=c[d],g=f.arguments||[],h=0;h<g.length;++h)this._collectResourceFromCallArgument(g[h],b);this._collectResourceFromCallArgument(f.result,b),this._collectResourceFromCallArgument(f.value,b)}for(var i=a.contexts,d=0,e=i.length;e>d;++d)this._collectResourceFromCallArgument(i[d],b);this._addCollectedResourcesToSelector(b)},_collectResourcesFromResourceState:function(a){var b=[];this._collectResourceFromResourceStateDescriptors(a.descriptors,b),this._addCollectedResourcesToSelector(b)},_collectResourceFromResourceStateDescriptors:function(a,b){if(a)for(var c=0,d=a.length;d>c;++c){var e=a[c];this._collectResourceFromCallArgument(e.value,b),this._collectResourceFromResourceStateDescriptors(e.values,b)}},_collectResourceFromCallArgument:function(a,b){if(a){var c=a.resourceId;c&&!this._resourceIdToDescription[c]&&(this._resourceIdToDescription[c]=a.description,b.push(a))}},_addCollectedResourcesToSelector:function(a){function b(a,b){var c=a.description,d=b.description;return String.naturalOrderComparator(c,d)}if(a.length){a.sort(b);var c=this._resourceSelector.selectElement(),d=c.firstChild;d=d.nextSibling;for(var e=0,f=a.length;f>e;++e){for(var g=a[e];d&&String.naturalOrderComparator(d.text,g.description)<0;)d=d.nextSibling;var h=this._resourceSelector.createOption(g.description,WebInspector.UIString("Show state of this resource."),g.resourceId);d&&c.insertBefore(h,d)}}},_onReplayResourceChanged:function(){function a(a){b===this._resourceSelector.selectedOption().value&&this._showResourceState(a)}this._updateCurrentOption();var b=this._resourceSelector.selectedOption().value;this._traceLogPlayer.getResourceState(b,a.bind(this))},_onCanvasTraceLogReceived:function(a){var b=a.data;console.assert(b),this._collectResourcesFromTraceLog(b)},_onCanvasResourceStateReceived:function(a){var b=a.data;console.assert(b),this._collectResourcesFromResourceState(b)},_showResourceState:function(a){function b(a,c){if(c)for(var d,e=0;d=c.children[e];++e){var f={node:d,children:{}};a[d.name]=f,b(f.children,d)}}function c(a,b){var c=!!a.values,d=!!b.values;return c!==d?c?1:-1:String.naturalOrderComparator(a.name,b.name)}function d(a,b,e){a=a||[],a.sort(c);for(var g=e||{},h=0,i=a.length;i>h;++h){var j=a[h],k=this._createDataGridNode(j);b.appendChild(k);var l=g[k.name]||{},m=l.node;m&&m.element.textContent===k.element.textContent||f.push(k),d.call(this,j.values,k,l.children)}}this._saveExpandedState(),this._saveScrollState();var e=this._stateGrid.rootNode();if(!a)return this._currentResourceId=null,this._updateDataGridHighlights([]),void e.removeChildren();var f=[],g={};b(g,e),e.removeChildren(),d.call(this,a.descriptors,e,g);var h=this._resourceKindId(this._currentResourceId)===this._resourceKindId(a.id);this._currentResourceId=a.id,this._restoreExpandedState(),this._updateDataGridHighlights(h?f:[]),this._restoreScrollState()},_updateDataGridHighlights:function(a){for(var b=0,c=this._highlightedGridNodes.length;c>b;++b)this._highlightedGridNodes[b].element.classList.remove("canvas-grid-node-highlighted");this._highlightedGridNodes=a;for(var b=0,c=this._highlightedGridNodes.length;c>b;++b){var d=this._highlightedGridNodes[b];WebInspector.runCSSAnimationOnce(d.element,"canvas-grid-node-highlighted"),d.reveal()}},_resourceKindId:function(a){var b=a&&this._resourceIdToDescription[a]||"";return b.replace(/\d+/g,"")},_forEachGridNode:function(a){function b(c,d){for(var e,f=0;e=c.children[f];++f){var g=d+"#"+e.name;a(e,g),b(e,g)}}b(this._stateGrid.rootNode(),"")},_saveExpandedState:function(){function a(a,c){a.expanded&&(b[c]=!0)}if(this._currentResourceId){var b={},c=this._resourceKindId(this._currentResourceId);this._gridNodesExpandedState[c]=b,this._forEachGridNode(a)}},_restoreExpandedState:function(){function a(a,b){c[b]&&a.expand()}if(this._currentResourceId){var b=this._resourceKindId(this._currentResourceId),c=this._gridNodesExpandedState[b];c&&this._forEachGridNode(a)}},_saveScrollState:function(){if(this._currentResourceId){var a=this._resourceKindId(this._currentResourceId);this._gridScrollPositions[a]={scrollTop:this._stateGrid.scrollContainer.scrollTop,scrollLeft:this._stateGrid.scrollContainer.scrollLeft}}},_restoreScrollState:function(){if(this._currentResourceId){var a=this._resourceKindId(this._currentResourceId),b=this._gridScrollPositions[a];b&&(this._stateGrid.scrollContainer.scrollTop=b.scrollTop,this._stateGrid.scrollContainer.scrollLeft=b.scrollLeft)}},_createDataGridNode:function(a){var b=a.name,c=a.value,d=c?WebInspector.CanvasProfileDataGridHelper.createCallArgumentElement(c):"",e=b;if("undefined"!=typeof a.enumValueForName&&(e=WebInspector.CanvasProfileDataGridHelper.createEnumValueElement(b,+a.enumValueForName)),a.isArray&&a.values)if("string"==typeof e)e+="["+a.values.length+"]";else{var f=document.createElement("span");f.appendChild(e),f.createTextChild("["+a.values.length+"]"),e=f}var g={};g[0]=e,g[1]=d;var h=new WebInspector.DataGridNode(g);return h.selectable=!1,h.name=b,h},__proto__:WebInspector.VBox.prototype},WebInspector.PieChart=function(a,b){const c=.04;this.element=document.createElementWithClass("div","pie-chart");var d=this._createSVGChild(this.element,"svg");d.setAttribute("width","100%"),d.setAttribute("height","104%"),this._group=this._createSVGChild(d,"g");var e=this._createSVGChild(this._group,"circle");e.setAttribute("r",1),e.setAttribute("cy",c),e.setAttribute("fill","hsl(0,0%,70%)");var f=this._createSVGChild(this._group,"circle");if(f.setAttribute("r",1),f.setAttribute("fill","hsl(0,0%,92%)"),a){var g=b?b(a):a;this._totalElement=this.element.createChild("div","pie-chart-foreground"),this._totalElement.textContent=g,this._totalValue=a}this._lastAngle=-Math.PI/2,this.setSize(100)},WebInspector.PieChart.prototype={setTotal:function(a){this._totalValue=a},setSize:function(a){this._group.setAttribute("transform","scale("+a/2+") translate(1,1)");var b=a+"px";this.element.style.width=b,this.element.style.height=b,this._totalElement&&(this._totalElement.style.lineHeight=b)},addSlice:function(a,b){var c=a/this._totalValue*2*Math.PI;if(isFinite(c)){c=Math.min(c,2*Math.PI*.9999);var d=this._createSVGChild(this._group,"path"),e=Math.cos(this._lastAngle),f=Math.sin(this._lastAngle);this._lastAngle+=c;var g=Math.cos(this._lastAngle),h=Math.sin(this._lastAngle),i=c>Math.PI?1:0;d.setAttribute("d","M0,0 L"+e+","+f+" A1,1,0,"+i+",1,"+g+","+h+" Z"),d.setAttribute("fill",b)}},_createSVGChild:function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",b);return a.appendChild(c),c}},WebInspector.ProfileTypeRegistry.instance=new WebInspector.ProfileTypeRegistry;var Inferno=function(a){setTimeout(function(){var b=new WebInspector.CPUProfileType,c=new WebInspector.CPUProfileHeader(b);c.setProtocolProfile(a),WebInspector.panels.profiles.showProfile(c)},1e3)};